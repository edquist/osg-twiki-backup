%META:TOPICINFO{author="JimBasney" date="1239294651" format="1.1" reprev="1.5" version="1.5"}%
%META:TOPICPARENT{name="SecurityTeamWorkingArea"}%
%TOC%
---+ OSG Software Vulnerability Handling

_DRAFT DRAFT DRAFT DRAFT_

Goal: Define a software vulnerability handling process separate from the [[IncidentResponseProcess][incident response process]].

A software vulnerability is a weakness that allows an attacker to violate the integrity of the system.
The VDT team is primarily responsible for software vulnerability handling in OSG.

---++ Process Checklist
   1 *Initial Report*
      * The software vulnerability handling process begins when the VDT team receives a vulnerability report to vdt-security@cs.wisc.edu. If a vulnerability is reported elsewhere, it should be forwarded to vdt-security@cs.wisc.edu to begin the vulnerability handling process. Messages to vdt-security@cs.wisc.edu result in a private ticket being opened in the [[http://vdt.cs.wisc.edu/support/tickets/][VDT Ticket System]].
      * VDT and OSG security team members actively monitor mailing lists and other venues for announcements and discussions of security vulnerabilities that may impact the VDT. When they discover vulnerabilities, they post them to vdt-security@cs.wisc.edu to begin the vulnerability handling process.
      * OSG members are encouraged to report all security issues, including software vulnerabilities, to security@opensciencegrid.org. When receiving software vulnerability reports to this address, the GOC and/or OSG Security Team will forward them to vdt-security@cs.wisc.edu.
   1 *Triage*
      1 The VDT team performs triage on incoming reports to determine if vulnerability handling is required.
         * Is the message a software vulnerability report? If not, it is handled like a regular VDT ticket by the VDT team.
         * Is the vulnerability in VDT software (i.e., software included in a currently-supported VDT distribution)? Does it significantly impact VDT software? If not, it is out of scope and should be forwarded (as appropriate) and the ticket should be closed.
      1 For valid reports, a VDT team member promptly sends an acknowledgement to the reporter.
      1 The VDT team member initially handling the ticket promptly assigns a ticket owner, who is responsible for leading the vulnerability handling process.
   1 *Analysis*
      1 The ticket owner performs a risk assessment in consultation with the OSG security team, the OSG executive team, and the relevant software providers. Severity categories are defined below.
      1 The ticket owner sets a target date for releasing an advisory, based on the risk assessment.
      1 The ticket owner works with the software provider to determine when a fix will be available and if there are work-arounds.
   1 *Disclosure*
      1 For issues that impact peer grids (EGEE, TeraGrid), the ticket owner makes a private disclosure to the peer grid contacts.
      1 The OSG Security team determines if a private disclosure to OSG security contacts is warranted.
      1 If the target date arrives and the disclosure is not ready, the ticket owner may delay release of the advisory in consultation with involved parties.
      1 When sufficient information about the issue is gathered, the ticket owner issues a public VDT Security advisory.
         * The advisory should properly credit the reporter. Always check with the reporter to see how he or she would prefer to be credited (if at all).
         * The advisory should follow the VDT Security Advisory template. It should include an advisory number, a reference to the VDT ticket (which is likely not public), and a timeline. It should be published on the [[http://vdt.cs.wisc.edu/advisories/][VDT Security Advisories]] page at a stable URL, where the latest version can always be found.
         * The advisory should include details sufficient for system administrators to determine their risk, but it should not include details that make it easier for an attacker to exploit the vulnerability. This can be a difficult trade-off. When in doubt, consult the security team.
         * The advisory may be released at the same time as a new VDT software update that resolves the issue, but if a timely fix is not available, an advisory may be released beforehand to provide notification of the risk.
         * The advisory may recommend a work-around while a VDT software update is in preparation.
         * The advisory may recommend that a VDT software component stop being used until a fix is available.
         * When feasible, the timing of the advisory release should be coordinated with the software provider and other grid vulnerability handling teams ([[http://www.gridpp.ac.uk/gsvg/][GSVG]], [[http://dev.globus.org/wiki/SecurityCommittee/Security_Vulnerability_Handling][Globus]])
         * The OSG security team may recommend that OSG sites and/or VOs take action in response to the advisory, but this is a separate action from the release of the public advisory by VDT to all VDT users.
      1 Once the advisory is posted on the [[http://vdt.cs.wisc.edu/advisories/][VDT Security Advisories]] page, the ticket owner announces it on the vdt-discuss@opensciencegrid.org mailing list. The announcement may be combined with a VDT release announcement (containing the fix).
      1 In case new information becomes available, the ticket owner updates the advisory page and sends a new announcement to the vdt-discuss@opensciencegrid.org mailing list.
   1 *Software Update*
      1 The ticket owner works with the software provider to obtain a fix for the issue.
      1 The VDT team performs internal testing and validation of the fix.
      1 Unless the issue is critical (requiring a fix within days), the fix should be tested in the [[Integration.ValidationTestbed][VTB]] before inclusion in an official VDT release. VTB testing typically has a one week turn-around time.
      1 Fixes that require significant changes should also be tested in the [[Integration.WebHome][ITB]] before inclusion in an official VDT release.
      1 The VDT team issues a new VDT release with the fix together with an (updated) advisory.
   1 *Closure*
      1 The ticket owner closes the ticket when the software update(s) and public advisories are released.
      1 Unless the information in the ticket is still sensitive, the ticket owner makes the ticket public at this time.
      1 The ticket owner sends a short email to osg-eb@opensciencegrid.org notifying the EB that the issue is closed.

---++ Issue Classification
| *Level* | *Description* | *Response* |
| Critical | This rating is given to flaws that are likely to result in major, grid-wide security incidents. | Target Date: 2 business days<br/>Response is coordinated with the OSG Security Team. Prompt advisories and patches are needed to avoid the spread of an attack.|
| High | This rating is given to flaws that allow unauthenticated, remote attackers to gain privileges or allow authenticated users to elevate privileges. | Target Date: 3 weeks<br/>|
| Moderate | This rating is given to flaws with potentially serious consequences but where exploit is unlikely, because they are difficult to exploit or require uncommon configurations or are easily traceable to misbehaving, authenticated users. | Target Date: 3 months<br/>Fixes for these issues will likely go through ITB testing and be included with other fixes in periodic VDT updates.|
| Low | This rating is given to flaws where impact is considered minimal. | Target Date: 6 months<br/>Fixes for these issues may be scheduled for major VDT updates.|

---++ Open Issues
   * How are vulnerabilities reported? Via email to vdt-security@cs.wisc.edu?
      * vdt-security@cs.wisc.edu should be the ultimate destination
      * Alain has some preference for reports going to security@opensciencegrid.org, if they come from OSG. Gives one email address for any OSG security issue.
         * How does this impact triage process? OSG Security Team forwards to vdt-security@cs.wisc.edu.
   * How are vulnerabilities tracked? 
      * Use the [[http://vdt.cs.wisc.edu/support/tickets/][VDT Ticketing System]]?
      * Use the [[https://tick.globalnoc.iu.edu/MRcgi/MRentrancePage.pl][GOC Ticketing System]]?
      * Alain's ideal: report to GOC, forward to VDT. GOC follows up / pushes issue.
      * Issues between the two systems are mostly sorted out.
   * We need a risk assessment methodology.
      * [[http://www.first.org/cvss/cvss-guide.html][Common Vulnerability Scoring System (CVSS)]]
         * Jim thinks this is too complicated for us.
      * Should our risk assessment be internal or public? Currently VDT advisories do not include a risk classification.
      * Are target dates useful? Doesn't mean issue is closed within X days. It means we must respond within X days.
         * We would communicate the target dates to software providers, but their action is out of our control.
         * We may issue an advisory without them.
   * We need a disclosure policy/procedure.
      * When to issue a VDT security advisory? This implies a public disclosure.
      * When to issue an OSG security advisory? This could be private -- just to OSG security contacts.
         * If we're confident the issue only affects OSG.
      * When to send advisories to security contacts? peer grids?
         * Inform EGEE GSVG before public advisory. Also TeraGrid depending on the details.
      * When to issue public advisory?
      * Follow Condor procedure?
         * Initial advisory may withhold details, with followup (30 days) later.
      * How soon? Wait for a fix? At least by target date of issue classification.
         * Issue advisory with work-around. Update when patch is available.
      * Refer to issue VDT ticket number internally.
      * Ticket becomes public when final advisory is released, except for exceptional cases. If the ticket contains private information about the submitter.
      * Should advisories include the timeline?
   * How does OSG security operations respond to a vulnerability impacting OSG sites?
      * This is a separate issue from how to address software vulnerabilities in VDT in general.
      * The VDT Team is responsible for software vulnerabilities in VDT that can impact both OSG sites and other grid sites.
      * The OSG Security Team is responsible for taking action if OSG sites should disable services, upgrade software, change configurations, etc., in response to a vulnerability in VDT. This should only be required for critical issues.
   * Do we every issue advisories for software not in the VDT (i.e., commonly-used system software, Linux kernel, etc.)?
      * Likely the answer is no, and we should be explicit about this.
      * Example: Debian OpenSSL problem.
      * OSG Security Team could issue a notice to OSG sites. Wouldn't be an VDT Advisory for VDT users.
      * May produce RPMs in VDT. What about system dependencies? 
      * In case VDT software has an external dependency with a vulnerability that significantly the VDT software, issue an advisory.
      * Is there any OSG software outside of VDT?
         * Example: GOC twiki.
         * GOC develops OIM. Security issue in OIM.
         * We need a make a distinction between software we use internally and software we publish for others.
         * We don't require this procedure for flaws in internal services/software, but we can use this process to inform our internal response.
   * What are the metrics associated with this activity? Who tracks them?
      * Should the closure process include a report to the EB? A submission to [[http://osg-docdb.opensciencegrid.org/][DocDB]]?
         * DocDB submission is heavy-weight. Send short email to osg-eb that points to the advisory.
      * Timeline: report, fix, advisory released.
      * Where to track it? Include in the advisory? Include in the ticket?
   * What OSG area does this fall under? Software Tools? Security? Software/VDT?
      * Software/VDT
   * Who is in charge? 
      * Alain has overall responsibility as Software Coordinator.
      * Mine is responsibility for risk assessment as Security Officer.
   * Does VDT already have an advisory template?
      * Should include a timeline: initial report, classification, release date.
   * What do we expect from VDT contributors regarding software vulnerabilities? We should document it.
      * When/How should they inform us?
      * How should they respond to issues reported to us that impact their software?
      * Mine expects them to "perform routine checks" of their software for vulnerabilities. Have we communicated this expectation to them? How do we confirm it?
      * Would like a heads-up before a public advisory is released.

---++ References
   * [[http://vdt.cs.wisc.edu/][Virtual Data Toolkit (VDT)]]
      * [[http://vdt.cs.wisc.edu/advisories/][VDT Security Advisories]]
      * [[http://vdt.cs.wisc.edu/support.html][VDT Support]] (includes instructions for reporting security issues)
   * [[IncidentResponseProcess][OSG Incident Response Process]]
   * [[http://www.gridpp.ac.uk/gsvg/][EGEE Grid Security Vulnerability Group (GSVG)]]
      * [[http://www.gridpp.ac.uk/gsvg/pdf/VulnerabilityProcess.pdf][GSVG Vulnerability Process]]
      * [[http://osg-docdb.opensciencegrid.org/cgi-bin/ShowDocument?docid=439][GSVG Presentation]] (June 2006)
   * [[http://dev.globus.org/wiki/SecurityCommittee/Security_Vulnerability_Handling][Globus Vulnerability Handling]]
   * Vulnerability Classification
      * [[http://www.first.org/cvss/cvss-guide.html][Common Vulnerability Scoring System (CVSS)]]
      * [[http://www.redhat.com/security/updates/classification/][RedHat Severity Ratings]]
