%META:TOPICINFO{author="JohnWeigand" date="1172171210" format="1.1" reprev="1.18" version="1.18"}%
%META:TOPICPARENT{name="CEInstallGuide"}%
%LINKCSS%

---+!!<nop>OSG CE  Installed Software
%TOC%
%STARTINCLUDE%

---++ CE  Installed Software
%EDITTHIS%


&gt; source $VDT_LOCATION/setup.sh
&gt; ./osg-version
OSG 0.5.2
&gt; <b>./osg-version </b>
OSG 0.6.0
---+++ OSG 0.5.2
#DisCovering
&gt; source $VDT_LOCATION/setup.sh
&gt; vdt-version
&gt; <b>source $VDT_LOCATION/setup.sh </b>
&gt; <b>vdt-version </b>
You have installed a subset of VDT version 1.6.1a:
    Apache HTTPD 2.2.3
    gLite CEMon Server (INFN release from 2006-05-19, plus RAW dialect) 1.7.1
    CA Certificates v21 (includes IGTF 1.11 CAs)
    EDG Make Gridmap 2.8.1
    Fetch CRL 2.6.2
    Generic Information Provider 1.0.15 (Iowa 15-Feb-2006)
    Globus Toolkit, pre web-services, client 4.0.3
    Globus Toolkit, pre web-services, server 4.0.3
    Globus Toolkit, web-services, client 4.0.3
    Globus Toolkit, web-services, server 4.0.3
    GLUE Schema 1.2 draft 7
    GPT 3.2
    Gratia Condor Probe 0.12i-1
    Java SDK 1.4.2_12
    KX509 20031111
    Logrotate 3.7
    MonALISA 1.6.8
    MyProxy 3.6
    MySQL 4.1.21
    MySQL JDBC Driver 5.0.4
    PPDG Cert Scripts 2.1
    PRIMA Authorization Module 0.5
    PRIMA Authorization Module For GT4 Web Services 0.1.2
    RLS, client 3.0.041021
    Apache Tomcat 5.0.28
    UberFTP 1.22
    VDS Worker Package 1.4.7
    Wget 1.10.2
</pre>
---+++ /etc/xinetd.d services
You can use the =vdt-control= command to see all services that are installed as part of the install, and whether or not they are enabled or disabled. For example:
gsiftp
globus-gatekeeper
condor             | init   | enable
gratia-condor      | cron   | enable
---+++ /etc/init.d services
<pre class="programlisting">
globus-ws   (Globus web services)
mysql         (used by globus-ws)
condor       (setup optionally by ManagedFork)
MLD           (MonALISA - setup optionally by configure-osg.sh)
tomcat-5    (used by CEMon and BDII and optionally globus-ws)
apache      (used by CEMon and BDII and optionally globus-ws)
</pre>
| tomcat-5  |  used by CEMon and BDII and optionally globus-ws |
---+++ cron services
All crons are installed with random times set at installation.
---++ Cron jobs

An example crontab file:
<i>root</i> cron
<pre class="programlisting">
36 4 * * * /storage/local/data1/osg-ce/fetch-crl/share/doc/fetch-crl-2.6.2/fetch-crl.cron
0 0 * * * /storage/local/data1/osg-ce/vdt/bin/vdt-rotate-logs
27 4,10,16,22 * * * /storage/local/data1/osg-ce/gums/bin/gums-host-cron
6,16,26,36,46,56 * * * * /storage/local/data1/osg-ce/gratia/probe/condor/condor_meter.cron.sh &gt; /storage/local/data1/osg-ce/gratia/var/logs/gratia-probe-condor.log 2&gt;&1

---+++ /etc/services
These entries have been appended to your =/etc/services= file:
<pre class="programlisting">
gsiftp  2811/tcp
globus-gatekeeper       2119/tcp
</pre>

---+++ VDT_LOCATION/vdt/services/state file (sample)
<pre class="programlisting">
fetch-crl       cron    enable  36 4 * * *      /storage/local/data1/osg-ce/fetch-crl/share/doc/fetch-crl-2.6.2/fetch-crl.cron
vdt-rotate-logs cron    enable  0 0 * * *       /storage/local/data1/osg-ce/vdt/bin/vdt-rotate-logs
gris    init    disable /storage/local/data1/osg-ce/post-install/gris
globus-gatekeeper       inetd   enable  2119    tcp     /storage/local/data1/osg-ce/globus/sbin/globus-gatekeeper -conf /storage/local/data1/osg-ce/globus/etc/globus-gatekeeper.conf
gsiftp  inetd   enable  2811    tcp     /storage/local/data1/osg-ce/globus/sbin/globus-gridftp-server
mysql   init    enable  /storage/local/data1/osg-ce/post-install/mysql
globus-ws       init    enable  /storage/local/data1/osg-ce/post-install/globus-ws
edg-mkgridmap   cron    disable 34 8,14,20,2 * * *      /storage/local/data1/osg-ce/edg/sbin/edg-mkgridmap &gt;&gt; /storage/local/data1/osg-ce/edg/log/edg-mkgridmap.log 2&gt;&1
gums-host-cron  cron    enable  27 4,10,16,22 * * *     /storage/local/data1/osg-ce/gums/bin/gums-host-cron
MLD     init    enable  /storage/local/data1/osg-ce/post-install/MLD
apache  init    enable  /storage/local/data1/osg-ce/post-install/apache
tomcat-5        init    enable  /storage/local/data1/osg-ce/post-install/tomcat-5
condor  init    enable  /storage/local/data1/osg-ce/post-install/condor
gratia-condor   cron    enable  6,16,26,36,46,56 * * * *        /storage/local/data1/osg-ce/gratia/probe/condor/condor_meter.cron.sh &gt; /storage/local/data1/osg-ce/gratia/var/logs/gratia-probe-condor.log 2&gt;&1
</pre>
d184 2
---+++ Log file rotation

---++ Log file rotation
The following are the log files that are configured for rotation with the installation in 
=$VDT_LOCATION/vdt/etc/vdt.logrotate=:

<pre class="programlisting">
# Rotate daily
daily
# Keep a week's worth
rotate 7
# Compress old files
compress
compressoptions -9f
# Truncate, instead of moving, files to avoid problems with apps
copytruncate
# Just ignore it if they're not there
missingok
# Rotate these files
/storage/local/data1/osg-ce/globus/var/grid-info-system.log {}
/storage/local/data1/osg-ce/globus/var/accounting.log {}
/storage/local/data1/osg-ce/globus/var/globus-gatekeeper.log {}
/storage/local/data1/osg-ce/globus/var/log/gridftp.log {}
/storage/local/data1/osg-ce/globus/var/log/gridftp-auth.log {}
/storage/local/data1/osg-ce/apache/logs/access_log {}
/storage/local/data1/osg-ce/apache/logs/error_log {}
/storage/local/data1/osg-ce/apache/logs/mod_jk.log {}
/storage/local/data1/osg-ce/apache/logs/ssl_request_log {}
/storage/local/data1/osg-ce/tomcat/v5/logs/catalina.out {}
</pre>
%WHU%
%STOPINCLUDE%
%BOTTOMMATTER%

<!-- MAJOR UPDATES
- Main.JohnWeigand - 05 Sep 2006 - updated for OSG 0.5.0<br>
- Main.JohnWeigand - 05 Oct 2006 - updated for OSG 0.5.1<br>
- Main.JohnWeigand - 22 Jan 2007 - updated for OSG 0.5.2<br>
- Main.JeffPorter - 06 Jan 2007 -  minor text updates<br>
- Main.AlainRoy - 22 Feb 2007 - lots of text updated for clarity <br>
- Main.JeffPorter - 06 Jan 2007 -  minor text updates
- Main.JeffPorter - 06 Jan 2007 -  minor text updates <br>
- Main.AlainRoy - 22 Feb 2007 - lots of text updated for clarity %BR%

%META:TOPICMOVED{by="ForrestChristian" date="1166045216" from="Integration.CESoftWare050" to="Integration/ITB_0_5.CESoftWare"}%
