%META:TOPICINFO{author="JenyTeheran" date="1486658932" format="1.1" version="1.10"}%
%META:TOPICPARENT{name="SecurityControlsAssessment2016"}%
---+ OSG Security Controls Survey

   * Last survey answers: [[SecurityControlsSurvey2014Software][SecurityControlsSurvey2014Software]]

---++ Data Integrity

---+++ 1. Which core service or asset are you reporting for?

Data repositories that the OSG Software team needs to produce the OSG software stack:

   * Upstream software repository, hosted at UW
   * Subversion repository for OSG packaging sources, hosted at UW
   * Git repositories for OSG software sources, hosted at !GitHub
   * Git repository for configuration management data, hosted at UW
   * Koji service (used to build RPM packages and manage Yum repositories), hosted at UW
   * Yum repositories, hosted at University of Wisconsin&ndash;Madison (UW) and Indiana University (IU)
   * (Unsupported but still available) Pacman caches and VDT website (vdt.cs.wisc.edu), hosted at UW

---+++ 2. Have you read the OSG Security Plan, Data Integrity section 2.3.3 within the past 12 months and understand your responsibilities for the proper handling of Sensitive Personal Data, Restricted Data, Limited Distribution Data and Public Data? See [[https://osg-docdb.opensciencegrid.org:440/cgi-bin/ShowDocument?docid=389][OSG Security Plan]]

Yes.

---+++ 3. If your service does not store, process, transmit any data, you may indicate it here and conclude the survey.  

We store, process, and transmit data.

---+++ 4. Are you the owner of the data? The data owner is responsible for collection, storage, and treatment of the data. Although you own the core service/process, there may be another person who owns the data. If so, please provide his/her name below, and answer the following questions with that person.

Yes, the OSG Software manager (currently, Tim Cartwright) owns the data.

---+++ 5. Please enter data name you own along with a very brief description and the data type. The data types are explained in Section 2.3.3 of the [[https://osg-docdb.opensciencegrid.org:440/cgi-bin/ShowDocument?docid=389][OSG Security Plan]].

| *5A. Name* | *5B. Type* | *5C. Description* |
| Upstream software repository | Public | Software and package sources from upstream providers; all open source |
| Subversion repository | Public | OSG Software packaging sources; all open source |
| !GitHub software projects | Public | OSG-owned software sources; all open source |
| Git repository for ITB host data | Limited | Configuration management data for UW&ndash;Madison ITB hosts |
| Koji build system | Mostly public* | Used to build RPMs from sources; most of the data is copied or derived from public sources |
| Yum repositories | Public | Public distribution points for software packages |
| VDT website | Mostly public* | VDT public website (vdt.cs.wisc.edu), including unsupported Pacman software caches |

* See section 10 below for details about very specific non-public data files.

---+++ 6. What is your data backup policy (e.g., weekly full, daily differential, etc.) ? 

| *Name* | *Backup policy* |
| Upstream software repository | Daily (UW AFS) |
| Subversion repository | Daily (UW AFS) |
| !GitHub software projects | Every 10 minutes from !GitHub to UW (custom script), daily within UW (AFS) |
| Git repository for ITB host data | Per commit to physically separate mirror host |
| Koji build system | Daily to separate UW host, weekly to IU (custom script) |
| Yum repositories | IU: unknown &mdash; but not really needed, since derived from Koji data (see above) |
| VDT website | Daily (UW AFS) |

---+++ 7. Backups

---++++ 7A. How long do you retain the back-ups?

| *Name* | *Backup policy* |
| Upstream software repository | 30&ndash;60 days |
| Subversion repository | 30&ndash;60 days |
| !GitHub software projects | 30&ndash;60 days |
| Git repository for ITB host data | Indefinite |
| Koji build system | UW: Daily snapshots for a week, monthly snapshots for a year; IU: unknown |
| Yum repositories | UW (monthly snapshots), 1 year; IU backups, unknown |
| VDT website | 30&ndash;60 days |

---++++ 7B. How do you ensure that your data back-ups are stored correctly, protected and restorable?

For some backups, we receive email notification when they occur, along with notification of any failures; others, there is nothing. Generally speaking, we do not test restorations due to lack of effort.

---+++ 8. Please list your on-call support email address and/or phone number in case of emergencies, such as unexpected power loss, security attacks or natural disasters.

We do not maintain on on-call presence. Possible contact points are:

   * Tim Cartwright <cat@cs.wisc.edu>, (608) 262-4002
   * The Software team (and interested other people) in general: OSG Software <osg-software@opensciencegrid.org>
   * Aaron Moate <moate@cs.wisc.edu>, CHTC lead system administrator
   * Erin Grasmick <egrasmic@cs.wisc.edu>, CHTC system administrator
   * The UW Computer Systems Lab (in the CS department): <lab@cs.wisc.edu> (also not on call)

---+++ 9. Are you aware of any attacks against the data? What do you think is the biggest threat against the data?

I am not aware of any attacks. The biggest threats are accidental loss or corruption.

---+++ 10. If you own Restricted Data please answer the following questions.

To date, we identified the following individual files that contain restricted data on our systems:

   * Keys for signing RPMs (one for OSG, one for the Holland Computing Center at UNL)
   * The database password for Koji
   * Host keys for a variety of OSG-related hosts, including Koji and ITB hosts
   * Access control lists for write access to Subversion
   * An SSH key for logging into the IU backup machine from UW

---++++ 10A. Who are the authorized people who can access this data? How do you determine this list of people?  

| *File(s)* | *Access* |
| RPM signing keys | Accessible by OSG Software staff, CHTC system administrators, CHTC Research Computing Facilitation lead |
| Koji DB password | Accessible by OSG Software staff, CHTC system administrators, CHTC Research Computing Facilitation lead |
| Host keys | Accessible by UW CHTC staff (including UW OSG staff) and UW and CHTC system administrators, based on common UW AFS ACLs. |
| Subversion ACLs | Accessible by UW CHTC staff (including UW OSG staff) and UW and CHTC system administrators, based on common UW AFS ACLs. |
| IU SSH key | Accessible by select OSG Software staff, CHTC system administrators, CHTC Research Computing Facilitation lead |

---++++ 10B. Do you inform the authorized people about how they should treat restricted data?  

No, we assume that all people who have access understand their privileges and responsibilities.

---++++ 10C. Which access control mechanisms applies to this data?  

Access to hosts are controlled by ssh, and access to files is controlled by filesystem permissions.

---++++ 10D. Do you keep a log of accesses to the data? 

Probably not. Presumably, there are logs of ssh logins, but probably none on filesystem access.

---++++ 10 E. And if so, how long do you keep the log files?  

Unknown.

---++++ 10F. What information is recorded in the log files?  

Unknown.

---++++ 10G. How do you terminate rights of authorized recipients? Which mechanisms are used to achieve this?  

We rely on system administrators and do not know how they handle this task.

---+++ 11. If you do not own any limited data, skip to Question 12. If you have multiple data under restricted category and each one has different answers for the following questions, please answer the questions for each data separately	 

We have not identified any limited data.

---++++ 11A. Who is authorized to access the data? How do you determine this list of people?
---++++ 11B. How do you communicate the security requirements to the data to authorized recipients ? Do the recipients agree to the requirements? Do you keep record of such communications in a way that can be audited?	  
---++++ 11C. Which access control mechanisms applies to this data?  
---++++ 11D. Do you keep logs of access to the data? 
---++++ 11E. And if so, how long do you keep the log files?   
---++++ 11F. What information is recorded in the log files?  
---++++ 11G.  How do you terminate rights of authorized recipients? Which mechanisms are used to achieve this?  

---+++ 12. If you have any public data, please answer the following questions

---++++ 12A. What are the, if there are any, access control mechanisms applied to your Public data to maintain its integrity? (An example would be a list of the authorized people who can modify the data.)

| Yum repositories | Read: public HTTP; Write: the GOC controls access, and we do not know how they do that |
| Subversion repository | Read: generally public; Write: AFS ACLs for local access, Subversion ACLs for HTTPS access |
| !GitHub software projects | Read: public; Write: GitHub ACLs managed by OSG Software manager and a few select others |
| Koji data | Read: public; Write: web and command-line access are protected by X.509 authentication and Koji’s own internal authorization system |
| VDT site | Read: public; Write: AFS ACLs for local access |


---++ Configuration Management

---+++ 1. Which core service or asset are you reporting for?

   * OSG Software Koji service
   * UW&ndash;Madison ITB instance
   * OSG Software stack default configuration (contained within the packages)
   * OSG Software stack documentation

(After a chat with Jeny, I included a service in the list above if and only if it met these criteria: (1) The service is something that the OSG Software team offers to the public or is critical to producing the OSG Software stack, (2) the OSG Software team controls at least some part of the configuration of the service, and (3) the configuration in question is not just access control. The last item, in particular, caused several possible services to be removed from the list.)

---+++ 2. Please indicate if you have read the OSG Security Plan, Configuration Management section 2.3.4 within the past 12 months and understand your responsibilities for Monitoring, Version Control and Security Review of the OSG Core resources under your control. See [[https://osg-docdb.opensciencegrid.org:440/cgi-bin/ShowDocument?docid=389][OSG Security Plan]] 

Yes.

---+++ 3. How do you ensure that your service's configuration variables are not modified by unauthorized parties? How can you detect if unauthorized changes are made?

| *Service* | *Answers* |
| Koji | The Koji configuration is spread across several files, which are under system (login) and filesystem access control. |
| UW&ndash;Madison ITB | ITB hosts have access control and firewalls; some configuration is written by Ansible rules, which have access and version control. |
| OSG Software configuration | Default configuration is contained within individual software files, OSG packaging, and OSG configuration files; the OSG-controlled configuration has access and version control. |
| OSG Software documentation | Documentation is in the OSG TWiki, which has access and version control. |

Other than the access and version control mechanisms listed above, there are no other mechanisms in place to detect unauthorized changes.

---+++ 4. Please indicate the version control system you employ for tracking changes to your service configuration. For example, do you maintain a change log that could be used to track and rollback any changes to configuration?

| *Service* | *Version Control* |
| Koji | Some configuration has version control using =etckeeper= |
| UW&ndash;Madison ITB | Ansible rules are in a local Git repository |
| OSG Software configuration | !GitHub for OSG-owned software and Subversion for packaging |
| OSG Software documentation | TWiki |

---+++ 5. Please indicate the process of approving configuration changes for your core OSG service. Specifically, what steps are taken to review the security implications of proposed changes?

There are no formal processes for reviewing or approving configuration changes. Generally, it is up to each team member to think about whether there are security implications of a change and ask appropriate people for help and/or review. For instance, when forming the firewall rules for the UW&ndash;Madison ITB hosts, we consulted with the UW CHTC system administrators; in the end, we took their =iptables= configuration wholesale, with a few minor changes to allow extra OSG services to contact the hosts from otherwise trusted sources. For software configuration changes, the OSG Security team may be asked to review proposed settings or changes.


---++ Vulnerability Management

---+++ 1. Which core service or asset are you reporting for?

OSG Software services.

---+++ 2. What system do you use to report and track vulnerabilities of your core service. E.g., do you maintain vulnerability logs?

For vulnerabilities in OSG-owned software, we track issues in the OSG JIRA instance in the Software project. Other than that, we rely on system administrators to manage vulnerabilities of the systems that we use, and do not use any other systems to report or track vulnerabilities ourselves.

---+++ 3. What steps do you employ to mitigate vulnerability to your core services. For example, what types of vulnerability scanning are being done? Do you have regular scheduled updates/maintenance schedule to fix known vulnerabilities?

Primarily, we try to keep systems up-to-date with the latest OS and software updates, but that is on a somewhat _ad hoc_ basis. For the UW&ndash;Madison ITB site, we plan to perform regular, scheduled software updates, but that has not been implemented yet. Other than that, we rely on system administrators to manage vulnerabilities of the systems that we use.


---++ Physical/Console Access Control 

---+++ 1. Which core service or asset are you reporting for?  

OSG Software resources that are physically located at UW&ndash;Madison, which consist of:
   * Systems that are managed by the Computer Sciences department (CSL)
   * Systems that are managed by CHTC
   * Systems that are managed by the OSG Software team, which is limited to the UW&ndash;Madison ITB site

---+++ 2. Please indicate if you have read the OSG Security Plan, Physical Access Control and Site Management section 2.3.6 within the past 12 months and understand your responsibilities for the OSG Core resources under your control. See [[https://osg-docdb.opensciencegrid.org:440/cgi-bin/ShowDocument?docid=389][OSG Security Plan]]

Yes.

---+++ 3. Physical access to all production core OSG systems must be controlled -- with a lock, key, etc. Verify that your core OSG resources comply with this requirement and are indeed in an access controlled area, as defined above.

| *System type* | *Physical access control* |
| CSL systems | The CSL has several machine rooms, all of which have physical access control |
| CHTC systems | The CHTC has several machine rooms, all of which have physical access control |
| OSG Software systems | All in a single machine room, which has physical access control |

---+++ 4. Who among your team currently has root and sudo access on the OSG systems providing core services and what is the policy of granting such access?  

   * The CSL and CHTC system administrators have root or sudo access to the machines that they manage; we do not know the details of their policies, but presumably all administrators can access all managed machines.
   * The UW&ndash;Madison OSG Software staff have root or sudo access to a several OSG-specific machines. We have no formal policy for granting root privileges, but generally it is based on need.

---+++ 5. According to the OSG Security Plan, network login or command line access to a production core OSG system shall be permitted only from a client via secure authorization and authentication mechanisms. Describe which authorization and authentication mechanisms you are using for secure network login or command line access by privileged staff versus unprivileged users.  

| *System type* | *Physical access control* |
| CSL systems | Login access is via ssh, and AFS security is handled by Kerberos |
| CHTC systems | Login access is via ssh |
| OSG Software systems | Login access is via ssh |

---+++ 6. All production core OSG systems shall run the absolute minimum set of network services required for their functions. Have you verified in the past year that your core OSG resource systems are running only those network services necessary for system operation? Also list the network services running that are deemed NOT necessary.

We rely on CSL and CHTC system administrators to manage the machines under their control, and hence do not verify network services on those machines.

For the OSG Software managed systems (i.e., the UW&ndash;Madison ITB site), we are in the process of rebuilding every host in the site and will keep an eye out for extraneous services. The CHTC system administrators will provide guidance if we have questions about the necessity of individual network services.

---+++ 7. All production core OSG service providers must have a plan describing redundancy or other mechanisms used to maintain service availability in case of operational disruption or emergencies. Please describe the redundancy plans that would be deployed for your core service to ensure availability in case of unplanned disruption or emergency.

There is no SLA for our services, and so there are no redundant systems in place except for ones provided by local system administrators (such as the inherent redundancy in AFS). Our data, including system configuration information in some cases, is backed up as described above, and our most critical backups are copied offsite to IU.

---+++ 8. On each production core OSG system, a copy of the system and service logs shall be saved on line for at least 30 days. Have you verified within the past year that this requirement is being met?

We rely on CSL and CHTC system administrators to manage the machines under their control, and hence do not verify logging on those machines.

For the OSG Software managed systems (i.e., the UW&ndash;Madison ITB site), we are in the process of rebuilding every host in the site and will examine logging practices on the rebuilt machines.


---++ Authentication Control

---+++ 1. Which core service or asset are you reporting for?

   * Subversion repository
   * Koji service
   * UW&ndash;Madison ITB site
   * Yum repositories at UW&ndash;Madison
   * Pacman caches and VDT website (vdt.cs.wisc.edu)

---+++ 2. Indicate that you have read the OSG Security Plan, Access Control section 2.4.2 Scanning section 2.4.3 within the past 12 months and understand your corresponding responsibilities for the OSG Core resources under your control. See [[https://osg-docdb.opensciencegrid.org:440/cgi-bin/ShowDocument?docid=389][OSG Security Plan]].

Yes.

---+++ 3. What authentication mechanism is employed for privileged access to core resources?

| *Service* | *Auth mechanism(s)* |
| Subversion - write access | Local access controlled by AFS ACLs; HTTPS access controlled by username/password file |
| Koji - write access | Command-line and web access controlled by list of allowed X.509 subject names |
| UW&ndash;Madison ITB | Inter-host privileged access controlled by X.509 credentials; CE access limited by firewall rules |
| UW Yum repositories | No privileged access to public |
| Pacman caches and VDT website (vdt.cs.wisc.edu) | Mostly public, and a few privileged areas are protected by Apache&rsquo;s htaccess system |

---+++ 4.  How is privileged access to core resource granted and what authorization technique is used?

Generally, authorization and authentication is handled by the same mechanism, so see previous answer.

---+++ 5. What is the authentication and authorization techniques used for non-privileged user access?

Non-privileged access is generally full public access, so no techniques are needed.

---+++ 6. At what frequency are you scanning web services for vulnerabilities and what types of vulnerability scanning are being done?

We rely on CSL and CHTC system administrators to manage the machines under their control, and hence are not aware of scanning policies and procedures.

---+++ 7. What remedial procedures are followed when vulnerabilities are detected?

We rely on CSL and CHTC system administrators to manage the machines under their control, and hence are not aware of scanning policies and procedures.

---+++ 8. What steps are being taken to scan for local vulnerabilities/intrusion detection and how often?

We rely on CSL and CHTC system administrators to manage the machines under their control, and hence are not aware of scanning policies and procedures.

<!--
Accessible by security team only:
   * Set ALLOWTOPICVIEW = Main.SecurityTeamGroup, Main.TimCartwright, Main.TimTheisen, Main.BrianLin
   * Set ALLOWTOPICCHANGE = Main.SecurityTeamGroup, Main.TimCartwright, Main.TimTheisen, Main.BrianLin
   * Set DENYTOPICVIEW = Main.TwikiGuest
-->