%META:TOPICINFO{author="KyleGross" date="1481047947" format="1.1" version="1.6"}%
%META:TOPICPARENT{name="SecurityTeamWorkingArea"}%
%TOC%

---+ Managing CA Certificates and Certificate Revocation Lists

---++ Issues/Notes

   * Currently VDT maintains the pacman cache for CA certificates, but OSG should maintain it. 
   * Document how fetch-crl works. 
   * Document how vdt-cert-update works. How are the CA updates authenticated? 
   * Define service: a process that accepts incoming network connections from multiple authenticated users, i.e., clients that make outgoing connections only and "personal services" that operate only on behalf of their owner do not require CRLs. 
   * Discuss the client/server distinction. Servers need CRLs to know about revoked user certificates (common case). Clients don't need CRLs because we have never had a need to revoke a server certificate due to compromise. Should we be concerned about revoked server (host) certificates, even though this has not yet been an issue? 
   * OSG services should operate with up-to-date CRLs. VDT should enforce it by installing CRLs with CA certificates whenever a "server" package is installed. 
   * OSG should require CRLs for all CAs configured for a server. 
   * OSG clients do not require CRLs. 
   * Globus does not require CRLs but will use them if configured. This flexibility is important for supporting clients w/o CRLs. 
   * VDT installs a fetch CRL script cron job (fetch-crl) if installed as root. VDT also gives the installer the option of running the CRL updater or not. 
   * What VDT services are installed as non-root? Many people install VDT-Client as non-root, but that doesn't include "services". Alain says VDT services are not easy to install non-root. 
   * Questions from Alain: 
      * Should the VDT always fetch the CA CRLs when we do an installation? 
      * Should the VDT fetch the CA CRLs when we do an installation as root? 
      * Should the VDT fetch the CA CRLs when we do an installation as root and the user requests CA CRLs to be updated periodically? 
   * WS-GRAM clients start a local GridFTP server for third-party RFT file transfers. Does this qualify as a service that requires CRLs? No, because it is a "personal server" that only services the user who started it. 
   * RSV tests (can/should) verify if CRLs are in place for OSG services. 
   * How are fetch-crl errors handled? 
   * OSG CE guide already tells installers to fetch CRLs. 
   * Define the risk. Define the policy. Define what we need to change. 
   * CRL monitoring
   * Squid cache for CRL distribution?
   * Should we accept non-IGTF CAs?
   * [[http://fermigrid.fnal.gov/files/csync/][csync]] in VDT?
   * How can we automate checks against IGTF distribution?
      * by adding to the yum.conf file:
        <pre>
        [eugridpma]
        name=EUGridPMA
        baseurl=http://dist.eugridpma.info/distribution/igtf/current/
        gpgcheck=1
        </pre>
      * Also "apt" is supported. For details, see: https://dist.eugridpma.info/distribution/igtf/current/apt/README.txt
      * Also: 
         * https://dist.eugridpma.org/distribution/igtf/current/accredited/igtf-preinstalled-bundle-classic-1.25.tar.gz
         * https://dist.eugridpma.org/distribution/igtf/current/accredited/igtf-preinstalled-bundle-mics-1.25.tar.gz
         * https://dist.eugridpma.org/distribution/igtf/current/accredited/igtf-preinstalled-bundle-slcs-1.25.tar.gz
      * See also https://dist.eugridpma.org/certificates/ but this is not officially supported