%META:TOPICINFO{author="JenyTeheran" date="1438380186" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="IncidentInformation2015"}%
%TOC%
---+ OSG-SEC-2015-07-31

Received report of GOC Ticket System [[(http://ticket.grid.iu.edu)], [(http://ticket.grid.iu.edu)]] outage due to DoS attack on July 24th.  

---++ Status

<!--
Suggested status labels:
NEW: Initial report is received but incident is not confirmed.  This is a triage phase.
OPEN: The existence of a security incident requiring response has been confirmed. The response is underway.
RESOLVED: The incident has been resolved but the final report has not been submitted.
CLOSED: The final report has been submitted.
--> 

   * *Status*: Open
   * *Lead*: Jeny Teheran
   * *Responders*: Jeny Teheran, Mine Altunay 

_Optionally include additional status information here._

---++ Analysis

   * *Severity*: Medium -  GOC Ticket System went down for a while  
   * *Urgency*: Immediate - Protection mechanisms were installed on Apache web server.

Timeline

1. GOC Ticket System was attacked with multiple connections opened from IP: 188.143.232.43 [[https://stopforumspam.com/ipcheck/188.143.232.43][https://stopforumspam.com/ipcheck/188.143.232.43]]
2. GR NOC detected the amount of connections coming from GOC Ticket System and blacklisted it.
3. GOC Ticket System detected that there were difficulties when accessing the ticketing database. OSG Operations Ticketing Interface was online, but new tickets could not be opened or old tickets could be updated.
4. OSG Grid Operations Center (GOC) sent a mail reporting that they were investigating the issue mentioned above.
5. OSG Grid Operations Center realized GOC Ticket system database was down.
6. GOC Ticket system database was restored.
7. OSG Grid Operations Center (GOC) sent a report reporting that the service was available again.


---++ Mitigation Plan

   * Set a maximum simultaneous connection limit in the web server. 
   * Implemented IP tables on the web server
   * Set maximum connection rate to 5Hz. Maximum connection rate=5Hz (In the attack, the connection rate was 300Hz)
   * IP range:188.143.232.XX got blocked 

---+++ Actions to take


---+++ How to monitor progress

   * Using the logging plugin installed on Wordpress, malign log-in attempts will be logged.

---+++ Acceptable response time estimate

   * GOC Ticketing system went down for around 2 hours

---+++ List of affected parties

   * GOC Ticketing System
   * GR NOC
   * OSG Security team

---+++ Definition of End Of Event

_What is the condition under which we can declare this incident to be resolved?_

---++ Incident Log

   * Incident was announced and discussed during Operations Meeting on July 27th: https://twiki.grid.iu.edu/bin/view/Operations/Minutes2015July27

<!--
Incident information accessible by Security Team members and GOC only:
   * Set ALLOWTOPICVIEW = Main.SecurityTeamGroup, Main.GocGroup
   * Set ALLOWTOPICCHANGE = Main.SecurityTeamGroup, Main.GocGroup
-->


-- Main.JenyTeheran - 31 Jul 2015
