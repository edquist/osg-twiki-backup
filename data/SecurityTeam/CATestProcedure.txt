%META:TOPICINFO{author="NehaSharma" date="1446739051" format="1.1" reprev="1.122" version="1.122"}%
%META:TOPICPARENT{name="SecurityTeamWorkingArea"}%
%TOC%
---+ OSG CA Testing Plan

---++ Purpose
The OSG CA was designed with a modular architecture, so new back-end signing CAs can be used to do the actual certificate signing. This is the procedure to verify a new signing CA is working correctly.

---++ Must remember

1. Remind CMS and ATLAS to test workflows (post IGTF accreditation in October 2015)

2. Before we configure production OIM to use CILogon HSM on the backend, we must notify all who may want to renew their existing Digicert certificates

---++ Testing Phases

| *Phase* | *Owner* | *Co-ordinator* | *Duration* |  *Status* |
| All CA functions work correctly with the new signing CA | Kevin/Neha | Neha | _4/1/15 - 4/30/15_ | %GREEN%DONE%ENDCOLOR% | 
| Testing on ITB servers to uncover any issues with the new certs and existing OSG software | ITB Testers | Neha | _5/1/15 - 6/30/15_ | %ORANGE%IN PROGRESS%ORANGE% |
| VOs to test custom software/workflows with new certificates | VO Managers | Neha | _5/1/15 - 6/30/15_ | %BROWN%CMS/ATLAS CAN NOT START UNTIL OCT 2015%ENDCOLOR% |
| OSG Services testing with new certificates | OSG services operators | Neha/Mine | _5/1/15 - 6/30/15_ | %ORANGE%IN PROGRESS%ENDCOLOR% |
| Fermilab hosted software/services testing with new certificates | Fermilab services operators | Tanya | _5/1/15 - 6/30/15_ | %ORANGE%IN PROGRESS%ENDCOLOR% |

---++ CA Functionality Tests

| *Scenerio* | *Use Case* | *Status* | *Notes* |
| Getting Personal Cert | Request, approve and import new certificate into browsers | %GREEN%PASS%ENDCOLOR% | https://ticket-itb.grid.iu.edu/goc/5185, accessed fermilab cloudvoms web interface |
| | New DN should appear in expected format | %GREEN%PASS%ENDCOLOR% | Example: /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Neha Sharma 225 |
| | Numeric prefix should be the same as in the old certificate | %GREEN%PASS%ENDCOLOR%  | 225 |
| Renewing Personal Cert | Renew digicert personal cert | %GREEN%PASS%ENDCOLOR% | Renewing existing Digicert issued personal cert successfully produced a new CILogon signed personal cert. |
| Renewing Personal Cert | Renew new certs | %GREEN%PASS%ENDCOLOR% | Successfully renewed cilogon signed cert after Soichi modified the expiration date in OIM-ITB. |
| | Test whether users with existing !DigiCert certs can get new certificates without going through identity vetting | %GREEN%PASS%ENDCOLOR% | |
| | Test whether users who do not have existing !DigiCert certs go through identity vetting | %GREEN%PASS%ENDCOLOR% | successfully got account without an existing cert. Went through expected approval process.  https://ticket-itb.grid.iu.edu/goc/5199 |
| Revoking User Cert| Revoke certificate via OIM interface| %GREEN%PASS%ENDCOLOR% | Unexpected DN showing up- https://oim-itb.grid.iu.edu/oim/certificateuser?id=2455. Pinged GOC.  -- Successfully revoked certificate 100000271 |
| |Verify certificate's serial number appears in published CRL within expected time limit (? hours) |%GREEN%PASS%ENDCOLOR% | revoked at 2:01pm. In CRL at 2:07pm. |
| Getting Host Cert|Get host cert via command line tools | %GREEN%PASS%ENDCOLOR% | osg-cert-request -T -t cloudvoms1.fnal.gov -e neha@fnal.gov -n "Neha Sharma" -p 6308406791 -m "testing command line tool" -v fermilab |
| | Verify DN matches old certificate with new prefix | %GREEN%PASS%ENDCOLOR% | /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=cloudvoms1.fnal.gov |
| | Get host cert via OIM web interface | %GREEN%PASS%ENDCOLOR%  | https://oim-itb.grid.iu.edu/oim/certificatehost?id=5276 Didn't get email about cert requested |
| | Verify DN matches old certificate with new prefix | %GREEN%PASS%ENDCOLOR% | /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=Services/CN=cloudvoms2.fnal.gov |
| Revoking Host Cert | Revoke host cert via OIM web interface | %GREEN%PASS%ENDCOLOR% | successfully revoked certificate serial #10000027b |
| | Verify certificate's serial number appears in published CRL within expected time limit (? hours) | %GREEN%PASS%ENDCOLOR% | Revoked at 2:14pm. In CRL at 2:26pm. |
| Getting Service Cert|Get service cert via command line tools | %GREEN%PASS%ENDCOLOR% | osg-gridadmin-cert-request -T -v mis -H 'http/pepperjack.fnal.gov' |
| | Verify DN matches old certificate with new prefix | %GREEN%PASS%ENDCOLOR% | CN=http/pepperjack.fnal.gov in both cases. |
| | Get service cert via OIM web interface | %GREEN%PASS%ENDCOLOR% | https://oim-itb.grid.iu.edu/oim/certificatehost?id=5312 Didn't get email about cert requested |
| | Verify DN matches old certificate with new prefix | %GREEN%PASS%ENDCOLOR% | CN=http/pepperjack.fnal.gov in both cases. |
| Revoking Service Cert | Revoke service cert via OIM web interface | %GREEN%PASS%ENDCOLOR% | Kevin Hill has revoked a certificate with serial ID:100000254 at 1:17pm 4/7. |
| | Verify certificate's serial number appears in published CRL within expected time limit (? hours) | %GREEN%PASS%ENDCOLOR% | Correct serial number in crl published at 2:22pm 4/7. |

---+++ Note
   * (1) Host and service cert request as a guest would result in notification email. But as a grid admin, won't ( osg-gridadmin-cert-request )

---++ ITB Tests

---+++ Testers

Instructions for ITB Testers

   * Get the CA cert/crl files
     <pre>
     yum install cilogon-osg-ca-cert --enablerepo=osg</pre>
     Note: This package is available only in OSG 3.2 repository
   * Request [[https://oim-itb.grid.iu.edu/oim/certificaterequestuser][User]] and [[https://oim-itb.grid.iu.edu/oim/certificaterequesthost][Host/Service]] certificates
   * Deploy the new host/service certs on server nodes and restart services
   * Generate VOMS credentials using new user cert
   * Run Service tests as mentioned below

|*Admin*|*Availability*|*Services to be tested*|*VO under which certs requested*|*Comment*|*Status*|
|Suchandra Thapa|Now| BLAHP, vo-client, cctools, GWMS Frontend, HTCondor-CE, GRAM CE, Bestman, Dcache, GWMS Factory(?), GUMS, Condor | OSG | | %BROWN%IN PROGRESS%ENDCOLOR%  |
|Xin Zhao|Now| Cemon, GIP, HTCondor-CE, GRAM CE, !FetchCrl, gridFTP, RSV, OSG info services, Gratia, osg-configure, glexec, HTCondor| ATLAS | | %GREEN%DONE%ENDCOLOR% |
|Horst Severini|Now| !FetchCrl, edg-mkgridmap, osg-configure, GRAM CE, gridFTP, RSV, !BeStMan, OSG Info Services, Gratia, HTCondor, HTCondor CE | DOSAR | | %GREEN%DONE%ENDCOLOR% |
|Garhan Attebury|Now|Bestman, CVMFS, Fetch CRL, Frontier Squid, Gratia, !GratiaWeb, !GridFTP, GSI-OpenSSH, GUMS, HDFS (gridftp-hdfs/xrootd-hdfs?), HTCondor CE, OSG PKI Tools, RSV, Worker Node, xrootd| | | %GREEN%DONE%ENDCOLOR% |
|Brian Lin| End of April | !FetchCrl, HTCondor CE, GRAM CE, gridFTP, uberFTP, lcmaps, Xrootd, RSV, CVMFS, VOMS, !MyProxy, Bestman, OSG Info Services, Gratia, osg-configure, glexec, edg-mkgridmap, lcgutil, gfal2util, HTCondor, PBS| OSG |OSG Software Automated Tests | %GREEN%DONE%ENDCOLOR% |
|Neha Sharma| Now | !GlideTester, GUMS, VOMS, VOMS Admin, vo-client, CA certificates | Fermilab | | %GREEN%DONE%ENDCOLOR% |

---+++ Test Results
| *Tester* | *Service* | *Status* | *Version* | *Notes* |
| Horst Severini | !BeStMan | %GREEN%PASS%ENDCOLOR% | bestman2-*-2.3.0-21 | Ran srm-* commands against !BeStMan server, both with new host and user cert | 
|  | CA certificates | %GREEN%PASS%ENDCOLOR% | osg-ca-certs-1.45-1 | Certificates are being kept up to date, and RSV CA/CRL probes look fine, except for test detail (1) | 
|  | Fetch CRL | %GREEN%PASS%ENDCOLOR% | edg-mkgridmap-4.0.1-1 | Runs without errors | 
|  | Globus GRAM; gatekeeper, jobmanagers | %GREEN%PASS%ENDCOLOR% | globus-gatekeeper-10.9-1.2, globus-gram-job-manager-14.25-1.1, globus-gram-job-manager-condor-2.5-1.1, globus-gram-client-13.12-1, globus-gram-client-tools-11.7-1 | Ran globus-job-run and Condor-G test jobs against Gatekeeper | 
|  | Gratia | %GREEN%PASS%ENDCOLOR% | gratia-probe-*-1.13.31-1.1 | Gratia records are being processed | 
|  | !GridFTP | %GREEN%PASS%ENDCOLOR% | globus-gridftp-server-7.20-1.1, globus-gass-copy-progs-9.13-1 | Ran globus-url-copy and srm-copy commands | 
|  | OSG Info Services | %GREEN%PASS%ENDCOLOR% | osg-info-services-1.0.2-1 | Reporting to IS-ITB | 
|  | RSV | %GREEN%PASS%ENDCOLOR% | rsv-3.8.0-2 | All green except for test detail (1) | 
|  | edg-mkgridmap | %GREEN%PASS%ENDCOLOR% | edg-mkgridmap-4.0.1-1 | grid-mapfile is being kept up to date | 
|  | osg-configure | %GREEN%PASS%ENDCOLOR% | osg-configure-1.0.70-1 | -v and -c run without errors | 
|  | HTCondor-CE | %GREEN%PASS%ENDCOLOR% | htcondor-ce-*-1.11-1 | See test detail (2) |
| Garhan Attebury | !BeStMan | %GREEN%PASS%ENDCOLOR% | bestman2-2.3.0-21.osg32.el6 | srmcp/srmls from dcache-srmclient-2.2.27-1.osg32.el6.noarch, lcg-cp/lcg-ls from cg-util-1.16.0-2.2.osg32.el6.x86_64. All combinations of digicert/cilogon and server/client were tested and no issue found. | 
|  | CA certificates | %GREEN%PASS%ENDCOLOR% | osg-ca-certs-1.45-1.osg32.el6.noarch | CRLs seem to update just fine (no RSV tests yet to compare (1) with what Horst sees) | 
|  | Fetch CRL | %GREEN%PASS%ENDCOLOR% | fetch-crl-3.0.14-1.el6.noarch (from EPEL) | All CRLs updated just fine on server with CILogon hostcert. |
|  | Gratia | %GREEN%PASS%ENDCOLOR% | gratia-probe-*-1.14.2-4 and gratia-service-1.16-1-1 | gratia records sent from CILogon host to CILogon collector successfully, gratia-administration service page authentication also works with CILogon usercert. |
|  | !GridFTP | %GREEN%PASS%ENDCOLOR% | globus-gass-copy-progs-9.13-1 and globus-gridftp-server-7.20-1.1 with gridftp-hdfs-0.5.4-19 | globus-url-copy successful between CILogon host to CILogon server as well as CILogon host to non-CILogon servers with CA package installed using CILogon user proxy. |
|  | GSI-OpenSSH | %GREEN%PASS%ENDCOLOR% | gsi-openssh-*-5.7-1.1.osg32.el6.x86_64 | no issues doing gsissh logins with new certs | 
|  | GUMS | %GREEN%PASS%ENDCOLOR% | gums*-1.4.2-1.osg32.el6.noarch | client certs mapped correctly against server with new hostcert | 
|  | HTCondor-CE | %GREEN%PASS%ENDCOLOR% | htcondor-ce-1.13-1 and condor-8.2.8-1.3 | No issues using only CILogon hostcerts for condor daemons and also combining with DigiCert hostcert daemons |
|  | RSV | %GREEN%PASS%ENDCOLOR% | rsv-3.9.1-1 | no issues | 
|  | VOMS | %GREEN%PASS%ENDCOLOR% | voms-*-2.0.12-1.osg32.el6.x86_64 | Added new user cert to existing VOMS account, approved, and generated new proxy with voms-proxy-init which worked for gridftp transfers | 
|  | VOMS Admin | %GREEN%PASS%ENDCOLOR% | voms-admin-server-2.7.0-1.12.osg32.el6.noarch %BR% voms-admin-client-2.0.17-1.osg.el6.noarch | registered new user with CILogon cert |
|  | Worker Node Client | %GREEN%PASS%ENDCOLOR% | osg-wn-client-3.0.0-30 and dependencies | bestman, globus-gsi-*, gridftp, lcg-utils, vo-client, and xrootd things have been tested successfully. Unsure about dcache-srmclient, dcap*, uberftp, myproxy |
|  | xrootd | %GREEN%PASS%ENDCOLOR% | v4.1.1-1.osg32.el6 server/client | xrdcp transfers using proxy created from new usercert from server with new hostcert |
| Xin Zhao | GUMS | %GREEN%PASS%ENDCOLOR% | gums-1.4.2-1.osg32.el6 | CILogon host/http certs on GUMS, can authorize users with CILogon user cert, from CEs running on CILogon hostcerts;  also tested combinations of CILogon cert/digicert between client and servers, between GUMS and CEs, etc. |  
|  | CA certificates | %GREEN%PASS%ENDCOLOR% | osg-ca-certs-cilogon-osg-1.0-1, osg-ca-certs-1.45-1  | installed on client and CE/GUMS servers| 
|  | Fetch CRL | %GREEN%PASS%ENDCOLOR% | fetch-crl-3.0.14-1.el6 | Installed the CILogon RPM on the CE, and verified that the fetch-crl cronjob keeps its CRL updated.|
|  | GRAM CE,condor jobmanager | %GREEN%PASS%ENDCOLOR% | osg-ce-condor-3.2-5, condor-8.2.7 | globus client commands and condor-g submission work with CILogon usercert and hostcert, client is globus-gram-client-tools-11.7-1.osg32 |
|  | !GridFTP | %GREEN%PASS%ENDCOLOR% | globus-gridftp-server-6.38-1.3.osg32 | globus-url-copy works with CILogon usercert and hostcert, client is globus-gass-copy-progs-9.13-1.osg32; the test server is part of a GRAM CE; also tested combination of Digicert and CILogon cert between client and server |
|  | HTCondor-CE | %GREEN%PASS%ENDCOLOR% | osg-ce-condor-3.2-8.osg32 | condor-g submission and condor_ce_trace commands work with CILogon user cert and host cert; also tested combination of Digicert and CILogon cert between client and server |
|  | Gratia | %GREEN%PASS%ENDCOLOR% | gratia-probe-*-1.13.30-3.osg32,gratia-probe-*-1.13.31-1.1.osg32 | Gratia records uploaded to gratia-osg-itb.opensciencegrid.org:80; the probe is gratia-probe-condor, installed on HTCondor-CE and GRAM CE | 
|  | OSG Info Services (GIP) | %GREEN%PASS%ENDCOLOR% | osg-info-services-1.0.1-1.osg32,osg-info-services-1.0.2-1.osg32,gip-1.3.10-8.osg32, gip-1.3.11-6.osg32 | Reporting to OSG CEMon-BDII Server http://is.grid.iu.edu/cgi-bin/status.cgi?grid_type=OSG-ITB, information published by GIP validated by !MyOSG validator as well| 
|  | glexec | %GREEN%PASS%ENDCOLOR% | glexec-0.9.9-1.2.osg32 | tested both authentication method using CILogon hostcert or CILogon user credential proxy from the worker node, as described in the doc, against gums running on CILogon hostcert; also tested the different combination of digi/CILogon user/host certs between GUMS and user |
| Suchandra Thapa | GUMS | %GREEN%PASS%ENDCOLOR% | gums-1.4.3-1.osg32.el6 | CILogon host/http certs on GUMS, can authorize users with CILogon user cert, from CEs running on CILogon hostcerts, can update VO members | 
|  | CA certificates | %GREEN%PASS%ENDCOLOR% | cilogon-osg-ca-cert-1.0-1.osg32.el6.noarch  | installed on client and CE/GUMS servers| 
|  | GRAM CE, condor jobmanager | %GREEN%PASS%ENDCOLOR% | globus-gram-job-manager-condor-2.5-1.1.osg32.el6  | installed on client and CE/GUMS servers| 
|  | GRAM CE, pbs jobmanager | %GREEN%PASS%ENDCOLOR%  | globus-gram-job-manager-pbs-2.5-1.1.osg32.el6  | installed on client and CE/GUMS servers| 
|  | OSG Connect | %ORANGE%PENDING%ENDCOLOR%  |   | Need to co-ordinate testing with next downtime of service | 
|  | !StashCache | %ORANGE%PENDING%ENDCOLOR%  |   | Need to co-ordinate testing with next downtime of service | 
|  | cctools | %BROWN%NOT NEEDED%ENDCOLOR%  |   | As per Suchandra, doesn't use certs  | 
|  | BLAHP | %GREEN%PASS%ENDCOLOR%  |   | Tested as part of HTCondor CE  | 
|  | GWMS Factory/VO Frontend | %GREEN%PASS%ENDCOLOR%  |  |  tested and ran jobs through factory | 
| | Bestman xrootd gateway and bestman hadoop | %GREEN%PASS%ENDCOLOR% | | tested using gfal tools as well as bestman and dcache srm client tools |
| Brian Lin | Automated Tests | %GREEN%PASS%ENDCOLOR% | gums-service-1.4.3-2.osg32.el6.noarch | Ran tests once on !FermiCloud VM and once on the wisc nodes ( http://vdt.cs.wisc.edu/tests/20150618-1558/results.html). Only unexpected error was GUMS mapping via command line. Investigation showed this was due to error in the tests  | 
| Neha | GUMS | %GREEN%PASS%ENDCOLOR% | gums-1.4.3-2.osg32.el6.noarch | able to map user via web interface and command line tools, able to perform vo member updates against voms server using digicert ca and cilogon osg ca cert installed | 
| | VOMS/VOMS Admin  | %GREEN%PASS%ENDCOLOR% | | test server - fermicloud156;able to add cilogon user cert and generate voms credentials with server using digicert and cilogon cert; cloudgums1 using digicert http cert was able to  pull users from fermicloud156 in both cases | 
| | Glide Tester | %BROWN%NOT NEEDED%ENDCOLOR%  | | From Edgar - "glideTester is not more than a modified glideinFrontend thus all the communication is via condor. Thus if it cilogon ca certs have no problem with a regular glideinwms frontend or in general with condor should not have any problem with glideTester."|
| | Installed Capacity Report | %BROWN%N/A%ENDCOLOR% | | Doesn't use certificates. It's just a few scripts that pull from some regular http urls, parse some xml, and send an email |

---+++ Test Details

   * (1) RSV CRL errors, which may or may not be related to this CA update: https://osgitb1.nhn.ou.edu/rsv/ -- this was apparently not related to CILogon directly, but caused by some CAs having been removed, with only the .r0 files left, which caused these errors ...
   * (2) I had to add the following line to */etc/condor-ce/condor_mapfile* (will be fixed in next release):
GSI "^\/DC\=org\/DC\=opensciencegrid\/O=Open Science Grid\/OU\=Services\/CN\=(host\/)?([A-Za-z0-9.\-]*)$" \2@daemon.opensciencegrid.org

---+++ Known Issues
Url for JIRA tickets that will be created for items that require fixing should be included here.
   * (1) 
   * (2) 

---++ VO-specific Software Test
VO manager should test all VO specific software that handles certificates.

Note: CILogon OSG CA certs won't be installed on CERN nodes until it's IGTF accreditation ( Oct 15' 2015). So CMS and ATLAS workflow testing cannot begin until then.

---+++Instructions for Testers
   * To be updated in Oct 2015

---+++VO Testing Table
| *VO* | *Software* | *Components Involved* | *Tester* | *Status* | *Notes* |
| CMS | CRAB | CRAB, !GlideMon, !CMSWeb ( DBS, !PhedEx, !SiteDB), VOMS | Eric V. |%BROWN%Not started%ENDCOLOR% | Test that new user certs can be used to submit jobs via CMSWeb. All services involved run at CERN, so no need to do any major testing |
|  | WMAgent | WMAgent, CMSWeb, !SiteDB, Condor CM, VOMS | Seangchen, Krista, Dirk ( Tier 0)  |%BROWN%Not started%ENDCOLOR% | Install new CA and host/service cert on Test WMAgent, update condor_mapfile. Test that jobs can be submitted using new-user-cert/new wmagent-cert via CMSWeb, script and whatever tier 0 uses |
| Belle | DIRAC |  DIRAC, GUMS, GridFTP | David Cowley | %GREEN%Started%GREEN% | Belle VOMS server at KEK readily associates multiple certificates with a single identity, which is good.  Need to install cilogon-osg-ca-cert RPM on test machines for further testing.  Don't anticipate problems.  |
| ATLAS | PANDA | PANDA, GUMS | John H. | %BROWN%Not started%ENDCOLOR% |  |

---+++ Test Details

   * (1) 
   * (2)

---+++ Known Issues

   * (1) 
   * (2) 

---++ OSG Services Test
Sites hosting OSG Services should test service with new certificates

Instructions for Testers
   * Get the CA cert/crl files
     <pre>
     yum install cilogon-osg-ca-cert --enablerepo=osg</pre>
     Note: This package is available only in OSG 3.2 repository
   * Request [[https://oim-itb.grid.iu.edu/oim/certificaterequestuser][User]] and [[https://oim-itb.grid.iu.edu/oim/certificaterequesthost][Host/Service]] certificates

| *Service* | *Certificates involved*| *Host Site* |   | *Tester* | *Status* | *Notes* |
| Gratia Collector | Yes | Fermilab | | DCSO | %ORANGE%PENDING%ENDCOLOR% | |
| Gratia DB | %BROWN%No%ENDCOLOR% | Fermilab | | DCSO | %BROWN%N/A%ENDCOLOR% | |
| VOMS/VOMS-Admin | Yes | Fermilab | | Neha | %GREEN%PASS%ENDCOLOR% | Tested on fermicloud VM |
| [[https://twiki.grid.iu.edu/bin/view/Operations/BDIIServiceLevelAgreement][BDII]] | %BROWN%No%ENDCOLOR%  | GOC |  | Scott | %BROWN%N/A%ENDCOLOR% | CMS is main user | 
| [[https://twiki.grid.iu.edu/bin/view/Operations/CollectorServiceLevelAgreement][GOC Condor Collector]] | Yes | GOC | Server | Scott | %BROWN%NOT NEEDED%ENDCOLOR% | administered by Carl/Juan@Wisc. Confirmed with Brian that testing of HTCondor-CE should be good enough. Don't need to test collector explicitly |
|  |  |  | Client | Alain | %BROWN%N/A%ENDCOLOR% | Only admin access; no user interaction |
| [[https://twiki.grid.iu.edu/bin/view/Operations/GOCContactServiceLevelAgreement][GOC Service Desk]] | Yes | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | Not really a service running on a host. Basically means people who run support|
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Able to access tickets and OIM with CILogon cert imported into browser |
| [[https://twiki.grid.iu.edu/bin/view/Operations/SoftwareCacheServiceLevelAgreement][OSG Production Software cache]] | Yes (!InCommon) | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | software.grid.iu.edu; soon to be replaced by repo.grid.iu.edu |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Was able to access cache with cert via browser |
| !GratiaWeb | Yes (!InCommon) | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Was able to reach Gratia with cert via browser |
| [[https://twiki.grid.iu.edu/bin/view/Operations/GlideInWMSServiceLevelAgreement][GWMS factory]] | Yes | GOC | Server | Scott | %GREEN%PASS%ENDCOLOR% | Suchandra tested on his intergration instances |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% |  |
| [[https://twiki.grid.iu.edu/bin/view/Operations/MyOSGServiceLevelAgreement][MyOSG]] | Yes (!InCommon) | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Was able to access !MyOSG with cert via browser; tested staff and regular user access |
| [[https://twiki.grid.iu.edu/bin/view/Operations/OASISServiceLevelAgreement][OASIS (CVMFS)]] | Yes (oasis, oasis-replica = !InCommon, oasis-login = !DigiCert) | GOC | Server | Scott | %GREEN%PASS%ENDCOLOR% | A cert is used to log into oasis-login via gsissh. Scott tested with his cilogon cert, worked fine. |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Scott was able to access OASIS service via gsissh with the use of his CILogon cert |
| [[https://twiki.grid.iu.edu/bin/view/Operations/OIMServiceLevelAgreement][OIM]] | Yes (!InCommon) | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Accessed OIM with cert via browser |
| [[https://twiki.grid.iu.edu/bin/view/Operations/OSGDisplayServiceLevelAgreement][OSG Display]] | %BROWN%No%ENDCOLOR% | GOC | | Scott |%BROWN%N/A%ENDCOLOR% | |
| [[https://twiki.grid.iu.edu/bin/view/Operations/OSGDocRepoServiceLevelAgreement][OSG Document Repository]] | Yes | GOC | Server | Scott | %ORANGE%PENDING%ENDCOLOR%| Neha to check with Jemise |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Scott reports process went well (his cert loaded in browser was recognized) but is still waiting on approval access to DocDB from FNAL. Neha to contact Jemise |
| [[https://twiki.grid.iu.edu/bin/view/Operations/OSGWebPageServiceLevelAgreement][OSG Web Pages]] | Yes | GOC | Server | Scott  | %BROWN%N/A%ENDCOLOR% | Has !InCommon cert to identify itself |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | access various pages with cert via browser |
| [[https://twiki.grid.iu.edu/bin/view/Operations/JIRAServiceLevelAgreement][OSG Jira]] | Yes (!InCommon) | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Jira accessed via browser |
| [[https://twiki.grid.iu.edu/bin/view/Operations/SoftwareRepoServiceLevelAgreement][OSG RPM Software Repository]] | Yes (!InCommon) | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | repo.grid.iu.edu |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Was able to reach repository with cert |
| [[https://twiki.grid.iu.edu/bin/view/Operations/OSGXSEDEServiceLevelAgreement][OSG-XSEDE]] | Yes (both !DigiCert and !InCommon) | GOC | Server | Scott | %BROWN%NOT NEEDED%ENDCOLOR% | GWMS Frontend and submit host. !InCommon cert to identify itself. As per Mats  these are pretty standard GlideinWMS nodes, so as long as the CILogon certs have been through the GlideinWMS ITB fabric, we should be good |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Scott was able to gsissh into xd-login with his cilogon cert |
| [[https://twiki.grid.iu.edu/bin/view/Operations/RSVServiceLevelAgreement][OSG RSV Collector]] | Yes | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | [[https://twiki.grid.iu.edu/bin/view/Operations/RSVServiceLevelAgreement][RSV Collector]], anyone can publish here, these are made available to !MyOSG. No certificate interaction. |
|  |  |  | Client | Alain | %BROWN%N/A%ENDCOLOR% | no user just admin accesses this service |
| [[https://twiki.grid.iu.edu/bin/view/Operations/RSVReportsServiceLevelAgreement][OSG-WLCG Comparison Reporting]] | Yes | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | runs queries against gratia db and feeds in to epel |
|  |  |  | Client | Alain | %BROWN%N/A%ENDCOLOR% | no cert needed to access service. Now part of OIM |
| [[https://twiki.grid.iu.edu/bin/view/Operations/TicketingServiceLevelAgreement][OSG Ticket Exchange (TX)]] | Yes | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | |
|  |  |  | Client | Alain | %BROWN%N/A%ENDCOLOR% | not a user accessible feature only admin |
| [[https://twiki.grid.iu.edu/bin/view/Operations/GOCTicketServiceLevelAgreement][Ticketing/Notification]] | Yes (!InCommon) | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | I was able to access the service with cert in browser |
| [[https://twiki.grid.iu.edu/bin/view/Operations/TWikiServiceLevelAgreement][Twiki]] | Yes (!InCommon) | GOC | Server | Scott | %BROWN%N/A%ENDCOLOR% | |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Accessed with cert in browser |
| [[https://twiki.grid.iu.edu/bin/view/Operations/VOMSServiceLevelAgreement][VOMS]] | Yes | GOC | Server | Scott | %ORANGE%Cannot test at IU%ENDCOLOR% | MIS, CSIU, OSGEDU, OSG ( backup). No ITB instance at GOC. Neha setup one in FermiCloud, added Alain's DN |
|  |  |  | Client | Alain | %GREEN%PASS%ENDCOLOR% | Alain was able to generate voms proxy  |
| [[https://twiki.grid.iu.edu/bin/view/Operations/OSGConnectServiceLevelAgreement][OSG Connect]] | Yes | UChicago | | Suchandra | %ORANGE%PENDING%ENDCOLOR% | No ITB instance, so only limited testing ( send jobs from OSG connect to CILogon hostcert based UC3 coll/neg); Suchandra will check with Lincoln on testing CILogon host cert on OSG Connect host during next downtime ( couple of weeks ) |
| Stashcache | ? | UChicago | | Suchandra | %ORANGE%PENDING%ENDCOLOR% | check with Lincoln on use of X509 certificates in Stashcache |
| [[https://twiki.grid.iu.edu/bin/view/Operations/GlideInWMSServiceLevelAgreement][GWMS factory]] | Yes | UCSD | | Jeff Dost | %BROWN%NOT NEEDED%ENDCOLOR% | Not needed as tested by GOC |
| Koji | Yes | UW-Madison | Server | Mat Selmeci | %GREEN%PASS%ENDCOLOR% | https://jira.opensciencegrid.org/browse/SOFTWARE-1919 |
|  |  |  | Client | Mat Selmeci | %GREEN%PASS%ENDCOLOR% | |

---+++ Known Issues

   * (1) 
   * (2) 

---++ Fermilab Software/Services Test

Instructions for Testers
   * Get the CA cert/crl files
     <pre>
     yum install cilogon-osg-ca-cert --enablerepo=osg</pre>
     Note: This package is available only in OSG 3.2 repository
   * Request [[https://oim-itb.grid.iu.edu/oim/certificaterequestuser][User]] and [[https://oim-itb.grid.iu.edu/oim/certificaterequesthost][Host/Service]] certificates

| *Service* | *Owner* | *Tester* | *Use cases tested* | *Status* | *Notes* |
| Jobsub - Server and Client |USDC |Neha,Dennis  | Job submission (jobsub_submit) using cilogon and digicert user proxy against server using cilogon/digicert host cert  | %GREEN%PASS%ENDCOLOR%   |https://cdcvs.fnal.gov/redmine/issues/9535|
| VOFrontend                        |DCSO | | | Not needed|Rely on OSG testing|
| GWMS Factory                   |DCSO | | |Not needed |Rely on OSG testing|
| SAM                                    |DMA |Robert |  |  |Tests will be done by the end of June; Update on 7/8/2015 - not started; personal certificate has been approved;will be done by 7/13/2015 |
| IFDH                                   |DMA |Marc |  |  |Tests will be done by the end of June depends on availability of SAM Web, !dCache, !Gridftp and !BeStMan servers with new certs;Update on 7/8/2015 - not started; personal certificate has been approved; depends on SAM & !dCache|
| !dCache                               |DMD |Dmitry |  | %GREEN%PASS%ENDCOLOR% |Tests will be done by the end of June;Update on 7/8/2015 -  personal and host certificates have been approved, VOMS is configured;will be done by 7/13/2015; Update 7/10/2015 -  [[https://srm.fnal.gov/twiki/bin/view/DcacheCorner/CiLogon][details]] |
| VOMS                                 |USDC | Neha | able to add cilogon user cert and generate voms credentials with server using digicert and cilogon cert; cloudgums1 using digicert http cert was able to pull users from fermicloud156 in both cases  | %GREEN%PASS%ENDCOLOR% | test server - fermicloud156 |
| Gratia Web UI                    |DCSO |Nick |  |  |Tests will be done by the end of June|
| GUMS                                |DCSO |Merina |  |  |Tests will be done by the mid July|
| HTCondor-CE                    |DCSO |Tony |  |  |Tests will be done by the mid July|
| !BeStMan |DCSO | Nick/Gerard |  |  | Tests will be done by end of Nov|
| RSV probes |DCSO | ? |  | |
| !GridFTP server                 |ECF | |  |  ||

---+++ Test Details

   * (1) 
   * (2)

---+++ Known Issues

   * (1) 
   * (2) 

The CILogon OSG CA cert file is available in PEM or DER format to import into your browser on the OSGCertificateService page.

%META:FILEATTACHMENT{name="cilogon-osg.tar.gz" attachment="cilogon-osg.tar.gz" attr="" comment="CILogonHSM Cert and CRL" date="1427994092" path="cilogon-osg.tar.gz" size="5953" stream="cilogon-osg.tar.gz" tmpFilename="/usr/tmp/CGItemp19647" user="NehaSharma" version="2"}%
