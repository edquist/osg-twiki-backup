%META:TOPICINFO{author="MineAltunay" date="1390000460" format="1.1" reprev="1.1" version="1.1"}%
---++Reducing the Number of Host Certificates Issued for Worker Nodes in OSG. 

Our goal is to reduce the number of host certificates used on worker nodes. With the latest changes made in OSG glexec and GUMS software, we believe that our sites no longer need to have certificates installed on their worker nodes. Our goal is to unnerstand why our sites need host certificates and inform them about the changes in our software so that they can reduce their certificate usage. 

---+++ Why certificates are needed for worker nodes 
   * If a site requires glexec, then the worker nodes need a secure connection to GUMS server to perform the identity switch. As of 2014, OSG has configured the GUMS and glexec tools such that they could authenticate one another without needing a certificate on the worker node. Therefore, glexec no longer is a requirement for installing certificates on worker nodes. 
   * gridftp server. if the wrker node is running a gridftp server, then it will need a certificate

---+++ Research on Current Certificate Usage in OSG 

As of January 2014, we have approximately 5000 host certificate issued by OSG CA. The full data is available in the attached spreadsheet. Roughly, 1500 host certificates are used by CMS Tier1 center at Fermilab, and 1000 is used by the FermiCloud. Another big spender is Wisconsin university T2 center with around 450 certificates.    

When we interviewed the certificate owners, we found out the following. 
   * CMS tier 1 center uses the worker node certificates due to their requirement to run glexec. The CMS admins already made the necessary changes to glexec-GUMS tools so that they no longer will need certificates on worker nodes. This will provide us with a reduction of 1000 certificates. the reaminign 500 certificates are necessary for gridftp servers. 
   * The FermiCloud has a pool of IP addresses available to instantiate Virtual machines. for a total of 1000 VMs, they need 1000 certificates. this number has nothing to do with glexec requirement. Because the VMs are separate machines iwth separate IP addresses they each need their own certificates. Moreover, we cannot predict for what prupose the VM is going to be used by the end user, the VMs can be used as a gatekepeer, gridftp server, a worker node, so on. In fact, most utilization is made the OSG software development team for testing purposes. We cannot find any immediate reductions that can be made at FermiCloud. 
   * The Wisconsin T2 needs roughly 450 cerificates because of the gridftp servers. They have no glexec requirement. 

---+++ Conclusion
At the beginning of the project, we hoped to make significant certificate savings due to the changes in glexec-gums technology. Our goal was to raise awareness about these changes and reduce the number of certificates. We found out that sites that would benefit the most from glexec technology change have already done so, namely CMS Tier 1. Therefore, we already realized the maximum savings in this area. As a result, we decided not to further raise awareness about glexec change. 

We were somewhat surprised that a significant portion of certificate are spent for gridftp servers. Currently we do not have a strategy to reduce the certificates needed by a large number of gridftp servers at a site. However, this is definitely an area that may make an impact on our certificate usage, and one that we would like explore in future. 



-- Main.MineAltunay - 17 Jan 2014

   * [[%ATTACHURL%/OSG_PKI_host_certs_08jan2014.xlsx][OSG_PKI_host_certs_08jan2014.xlsx]]: OSG_PKI_host_certs_08jan2014.xlsx

%META:FILEATTACHMENT{name="OSG_PKI_host_certs_08jan2014.xlsx" attachment="OSG_PKI_host_certs_08jan2014.xlsx" attr="" comment="" date="1390000460" path="OSG PKI host certs 08jan2014.xlsx" size="506180" stream="OSG PKI host certs 08jan2014.xlsx" tmpFilename="/usr/tmp/CGItemp39820" user="MineAltunay" version="1"}%
