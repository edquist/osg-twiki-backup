%META:TOPICINFO{author="DaveDykstra" date="1481308026" format="1.1" version="1.7"}%
%META:TOPICPARENT{name="SecurityTeamWorkingArea"}%
---+!! Testing of Changes in the CA Distribution

%TOC%

---++ Introduction
Documenting the testing of new CA certificates package and distribution.

---++ ITB distribution and new IGTF hash layout, May 2010
See [[SoftwareTeam.SEP7][SEP7]] for the proposed change to distribute CA certificates package
on the ITB independently of the production grid, and also the changes for the new
IGTF layout for the openssl V1.x hash value changes.

CA package version 1.14aITB was prepared and is hosted at
http://software.grid.iu.edu/.
To use it, set<br/>
<tt>cacerts_url = http://software-itb.grid.iu.edu/pacman/cadist/ca-certs-version</tt>


John Weigand pointed his ITB site to it and all looks good except for a CACert Expiry warning
https://gr7x0.fnal.gov:8443/rsv/gr7x0.fnal.gov/index.html#org.osg.certificates.cacert-expiry.

Iwona installed it on her ITB site using the Debian packaging and authentication, srm-ping
work fine but gets the same RSV probe warnings:
https://myosg.grid.iu.edu/wizardcurrentstatus/index?datasource=currentstatus&current_status_attrs_shownc=on&r=on&r_58=on
<verbatim>
Cert Expiry 
ERROR: Few of the files in your installations are out of sync with the OSG distribution.
 The CA that are out of sync are: 1149214e 9b59ecad 16da7552 b93d6240 
 Please ensure that your CA update process (e.g. vdt-update-certs or yum update) is configured
</verbatim>

The CAs listed are:

<verbatim>
1149214e.0 -> DFN-GridGermany-Root.pem
9b59ecad.0 -> CESNET.pem
16da7552.0 -> NIKHEF.pem
b93d6240.0 -> NERSC-SLCS.pem
</verbatim>

5/17/2010 - Nothing obvious wrong with those CAs. I have asked Anand about those RSV messages.

From Anand:
<verbatim>
When the probe was designed we had decided that the the md5sums from the
GOC production will always be deemed as correct, so thats were the probe
looks at (i.e it is not a parameter). Furthermore the md5sums from
http://software-itb.grid.iu.edu/pacman/cadist/cacerts_md5sum.txt are not
in the same format (note the second col are not hash names). This can
cause issues.

My other question is why is the md5sum different for that file, given
that they are coming from the IGTF dist the md5sums should be same (are
the OSG and ITB cache using different IGTF version).
</verbatim>

---+++ Questions, Issues
   * Consider updating CA package major version to 2.0 for the production release
   * Need updates to RSV probes that monitor CA certs, crls - good to publish before new CA release


-- Main.DougOlson - 17 May 2010