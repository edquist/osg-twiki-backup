%META:TOPICINFO{author="DougOlson" date="1213123125" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="OsgRaPlanning"}%
%TOC%

---++ Email Notifications within the OSG RA
The certificate workflow status and notifications to interested parties has some significant shortcomings.
The existing workflow is illustrated at https://twiki.grid.iu.edu/twiki/bin/view/Security/OsgRaPlanning#Example_workflow.

This page describes a rather simple means to improve (not perfect) the situation.

---+++ Current status of notifications.
The interaction diagram below shows the current state of notifications (in black) along with the desired by missing
notifications (in %RED% red %ENDCOLOR%).

<img src="%ATTACHURLPATH%/notices-jun08.jpg" alt="notices-jun08.jpg" width='960' height='720' />

---+++ Proposed notifications
The interaction diagram below shows the proposed changes to the notifications in %GREEN% green %ENDCOLOR%.

 <img src="%ATTACHURLPATH%/notices-proposed-jun08.jpg" alt="notices-proposed-jun08.jpg" width='960' height='720' />

---+++ Work to do to implement these changes

   1. Set up alias with procmail filter to sort messages by VO using Subject line "OSG:VO" to do the filtering.
   1. Set up a mailman mail list for each VO that receives the filtered notices.
   1. Subscribe the Agents to the VO lists according to which VOs they process requests for.
   1. Redirect the doesg-ra mail list to use the alias with the procmail filter instead of the individual Agents' email addresses.
   1. Add the alias address from 1. to the recipients for "certificate issued" notice sent to subscriber, or a parallel message from the CA.
   1. Train Agents to log all actions to the VO list that they received the notice from.
   1. Inform VOs to subscribe PI's and other interested parties to the appropriate VO mail list.

---+++ Ongoing maintenance
   1. Update the procmail filter and appropriate VO lists for changes in Agents and VOs.
   1. Manage subscriptions to the VO lists.

---+++ Questions
   1. Set up mail processing on portnoy.lbl.gov or set up a dedicated machine?
   1. Use FNAL mail lists of mailman on portnoy.lbl.gov for the mail lists, or define a virtual host on crd.lbl.gov for mail man lists?
   1. What about integration with Roundup issue tracker (https://roundup.doegrids.org/Roundup/osg-ra/) ?


-- Main.DougOlson - 10 Jun 2008
     


%META:FILEATTACHMENT{name="notices-jun08.jpg" attr="" autoattached="1" comment="Current Notifications" date="1213121183" path="notices-jun08.jpg" size="59880" user="Main.DougOlson" version="1"}%
%META:FILEATTACHMENT{name="notices-proposed-jun08.jpg" attr="" autoattached="1" comment="Proposed Notifications" date="1213121504" path="notices-proposed-jun08.jpg" size="65722" user="Main.DougOlson" version="1"}%
