%META:TOPICINFO{author="KyleGross" date="1480625567" format="1.1" reprev="1.3" version="1.3"}%
---++ DOEGrids Software Change Discussion Timelines

2/21/11. Email From Mine Altunay  to Mike, Doug, Alain, and Dhiva, (cc'ed Ruth and Greg). Asking for an initial meeting to understand the changes.

2/22/11. Response from Mike agreeing to a meeting. Due to Mike and Dhiva's availability problems, Mike suggests OSG take a look at a test instance (a new RA service installed based on new software) until he and Dhiva are free

2/23/2011 OSG agrees to take a look at the test instances. Mine sent her personal certificate to be installed on test instance. 

2/24/2011 An initial meeting date is set for March 11 2011. Meeting goals are:
1. Discuss ESNet's transition plan to the new RA software.
2. Discuss the differences between the new and old software. Discuss the
impact of the differences on OSG RA infrastructure. 

3/11/2011 Meeting Minutes are written by OSG sec and sent to all participants. 

3/15/2011 Esnet reported test instance at ESNet was completely destroyed; it would take time to re-build it and they had no location for it; Dhiva was off for several weeks and Mike was traveling next week. At least two weeks delay on bringing up the test instances. 

3/18/2011 ESnet reported a fresh test instance was brought up, but this instance was not where the previous instance was in terms of configuration, modifications needed 

3/21/2011 OSG states that until ESNet would finish their work with the test instance, OSG would postpone their meetings and OSG team would not evaluate the test instances 

4/7/2011 OSG security team asked for project plans for the software upgrade from Greg Bell and Mike Helm

4/7/2011 Esnet stated there were no written plans at the moment. ESnet stated OSG & ESnet needed to agree on the new RA functionality and should write a plan together. ESNet also explained in an email roughly what discussions we should have on various topics.

5/2/2011 OSG responds to ESNet that in the absence of an initial project plan from ESNet, OSG cannot commit to any changes in CA software.  

11/11/2011 OSG ET reports the request from ESNet to upgrade DOEGrids CA software.



Unrelated to CA software upgrade project, ESNet and OSG had other operational challenges in the meantime that also affected the effort and availability of both teams to the upgrade. 

3/21/2011 Host certificate problems with existing DOEgrids CA

4/4/2011 DOEgrids CA temporarily went down. 

4/20/2011 DOEgrids login fails with CERN. 

4/20/2011 OSG and ESNet started work on forming an SLA

5/2011 OSG ESnet started having weekly meetings. 
6/30/2011 OSG-ESNet SLA work has concluded.


*******************************

--2/21/2011 Email From Mine

Hello Mike, Doug, Alain, and Dhiva, (cc'ed Ruth and Greg)

I would like to have a meeting to discuss the status of the new RA
software. What I heard from Mike was that this project can be finished
and in production by June 2011.

I will need your help in  understanding the differences between the new
and old software, the transitioning plans, and many other details.

If possible, one thing that would greatly help us is to take a look at
the new software that has been already deployed and working in a test
(or production) CA instance. Alain heard from Doug that there are some
test instances running with the new CA. If Alain and I can see the new
software in work and observe the differences from an end user viewpoint,
this would greatly help us in making our own plans.

 I set up a doodle poll at http://www.doodle.com/22utyyz8b5ti2wqe. I
appreciate your time and help in this.

Regards
Mine Altunay


--2/22/2011 Email reply from Mike Helm
This is definitely doable.   I suggest we set up some kind of video
or readytalk meeting so we can look at the websites & have some
discussion about deployment options.

However, because both Dhiva & I are going to have some availability
probs in the near future, you can take a look at what the RA provides
out of the box & some experimental work here:
http://odev-vm-7.es.net:12888/

http://odev-vm-7.es.net:12888/

(For the agent services, you need to have Dhiva enable a certificate for you - 
he's the holder of that privilege for now - but that part needs work on this
particular instance.)


--2/23/2011 Email reply from Mine:
Hello Mike
I think it would be great to take a look at the test instance. I tried
to access but apparently need a agent authorization -- as you said
yesterday.

Would Dhiva please install my end user certificate and Alain's
certificate for agent access?

As for planning for our next meeting, I am in the same boat. I am
leaving for a vacation next week. Then we will have All Hands Meeting in
Boston.

Let me check the doodle poll and our calendars and I will send everyone
another email.

--2/24/2011 Email reply form Mine
Dhiva also agreed on the March 11 at 11 am central time. Thank you 
 

here is what I have in mind for this meeting:

1. Discuss ESNet's transition plan to the new RA software.
2. Discuss the differences between the new and old software. Discuss the
impact of the differences on OSG RA infrastructure. 

Thank you


--3/11/2011 Email reply from Mine
 These are my notes. Please add/ modify as necessary.

Thank you

Meeting with DOEGrids on March 11, 2011

 

Attendees: Mike, Dhiva, Alain D, Greg, Mine, and Anand.

Free form notes from the meeting.

 

   * There are some attributes that were not used in the older software version. Doug is working on these.  

   * Dhiva is focusing on CA software changes.

   * Mike is working on Classical RA Agent interface. he is customizing off-the-box web interfaces to match existing RA service interfaces. This will need another 8 hours to complete. We will set up another meeting next week. He started a mock up user enrollment web page. This is not complete yet.

   * Each RA instance can run standalone. OSG, NERSC, ESnet can each run their own RA service, customized to their needs. This is a very appealing feature. OSG can run a service at GOC customized for OSG users. 

   * In Doug’s summary of features table, some items labeled as “not impl”. We are not sure what it means: whether it cannot be implemented or not implemented yet.

   * Email notifications are labeled as N/A and "not impl". Dhiva however clarified that this feature is available. It is not yet configured to use the right email lists.  

   * OSG has a *wish list*.

      * OSG wants to include the sponsors in the Agent workflow. Currently, all communication between the Agent and the sponsor is through emails. We want sponsors to login to the service directly and perform their work in the service. So, we can eliminate the emails between the agent and sponsors.

      * Mike says there is no reason that cannot be done. Dhiva thinks the Agent workflow is not part of the RA service software. This may mean significant changes to the code. He suggests incorporating an external service to track the interactions between the agents and the sponsors such as a ticketing system. Mine thinks if the sponsors can get low-privileged group accounts without changing the ra software or database significantly, this could be a solution. Sponsors can directly view the requests in the service and put their decisions as comments. Mike thinks this could be do-able. They have abilitites to create groups.

      * Listing of Agents: OSG wants to have a web interface that can handle agent addition, listing, and removing. This is the same interface we already have for GridAdmins. Dhiva says this is already included in the new RA service.

      * Agent requests to the RA: OSG wants to have the initial agent requests to be sent from the RA service interface. Similar to a new user sending a certificate request, a new agent to-be, sends a request to the RA via the web interface. Mike thinks this should be doable.

      * Archival of request decisions: Currently OSG agents sends external emails to various archival lists to keep records of request decisions. Can we record these decisions in RA instance? Mike thinks this is not possible. RA database is not meant for archival. He suggests copying the RA database to an external database periodically. There are already easy-to-use API. Mike says they have no plans yet for the data retention in RA service.

      * OSG wishes to access a RA service instance with interfaces similar to existing RA service. Mike thinks he can finish this by next week. We will set up another meeting to take a look at the service.

      * OSG uses command line scripts to access OSG RA and CA interfaces. We like to assess which features in our scripts will need updating based on the new feature set. Doug’s summary shows many features as N/A for the command line access.

      * Dhiva is leaving for a vacation next week. He will be back April 9th. Mike will be on travel after next week.


--3/15/2011 Email from Mike Helm 
Unfortunately, the location where our demonstration was, has been completely
destroyed (odev-vm-7.es.net).

It's going to take me some time to reconstruct it, & currently we don't
have a location for it.

I also have a travel obligation next week, & Dhiva is off for several
weeks, so there will be a shortage of time.  I'll see what can
be done, but I expect a couple of weeks delay before I have much
to show.

Thanks for your consideration, ==mwh

--3/18/2011 Email from Mike Helm

We are making good progress on getting the demonstration site back.  
Before Dhiva left for vacation he set up another RA instance for another
purpose, and once we learned our original instance + platform was 
hopelessly lost, we repurposed the new instance.  The new instance VM
is running on much better VM platform + hardware (none of which was available
when we started work on the odev-* series).  While it is pretty "fresh" out of box,
it's inherently more stable and has better backups from the start. 

Doug has restored much of his work on demo OSG user+agent functionality.
I have to rebuild my classic interfaces, and make some changes to the 
underlying perl modules.  I have a number of time conflicts and I think
I need at least 8 hours of work to get those things done (maybe 16).

I think Doug is going to need a little time to make sure his work is
functional.

You can check on progress here:
gem1.es.net:12888

I don't have your agent certificates in place so you can see the agent ui.
We should probably wait a few days to set up these accounts to make
sure this instance is working.
Doug should have admin access so he can update accounts too.

--3/21/2011 Email from Mine
Hello Mike

It is so unfortunate that the previously installed test VMs are lost. It
seems like you still have some work to get the new test instances to
where they were before.

Please let us know when you think it is ready. Until then, I will not
schedule a meeting. I will also postpone looking into the new test
instances until they are ready.


--4/7/2011 Email from Mine to Mike Helm and Gregg Bell
Hello Mike and Greg

I will give a short report to OSG council about security items. One
thing they asked me specifically to report on is the software upgrade
plans at DOEGrids CA. They asked me if I received a plan and timeline
for this upgrade. Do you have such documents? Do you mind sharing them
with me?

Thank you

--4/7/2011 Email form Mike to Mine, Greg, and Doug Olson

There isn't a useful written plan now.  The CAs themselves are done,
but we have pivoted to include the RA.  OSG & ESnet need to agree
what this RA (or really, RAs) should look like and how it should behave.
So, we should write one.

A generic RA (looks like classic) and and ESnet-specific RA will be
done this month - they were supposed to be done 15 Mar or about
when our meeting was scheduled.

Doug has a short presentation and demo about the OSG RA on
gem1.es.net, but he tells me some discussion and decisions
have to be made about what the next steps are.  Some of those
are captured in your minutes/email from last month, one 
I think is particularly important is

      * OSG wants to include the sponsors in the Agent workflow.
Currently, all communication between the Agent and the sponsor is
through emails. We want sponsors to login to the service directly and

We need to decide how to do this, who is going to do what,
and how this will be maintained.   I don't see this as difficult
but some decisions have to be made.  Example: Having the sponsors log
in  - will you require them to do cert-based authentication?
Is your sponsor community ready for this?  &c.

What I think we need to do together is agree on a minimum 
set of things in the OSG RA in order to cut over to the new CA as soon
as we can do so.    For example, if we agree that the current
OSG self-made page is adequate for Day 0, then we might
focus on porting that in a nearly equivalent form to the 
RA.  

We are going to provide some federated identity - based RAs
as soon as time permits.  OSG may be interested in the same.
We don't have the time to invest in multiple RA developments
at the same time, tho.

We want to focus on cutting over to the new CA, because the old
one is End-of-life with the vendor; otherwise, we could  comfortably
take more time.

I think we can cutover around 01 June if we can come to agreement
on the initial RA (& resources are available to implement it).
ESnet itself should move over in 2-3 weeks.

Does this help?

--5/2/2011 Email From Mine
Mike,

I also copy Ruth and OSG operations and production team leaders to my
email since they may want to be informed.

As you stated below you wanted June 1st as the cut-off date for DOEGrids
CA software upgrade. This change will significantly affect the RA
service instance used by OSG RA. I understand what you meant is that you
want to move all the DOEGrid servers to new software version and put
into production by June 1, 2011.

Given we are a month away form this date and we have not even
accomplished any of the necessary steps (summarized below), I want to
make it clear that OSG cannot possibly be prepared for testing and
getting ready for such a change by June 1st.  Most importantly, I still
have not received a written plan from you and as Ruth and I said before
I cannot commit to any date without such a plan.

With this email I wanted to make sure that everyone understand that OSG
SecurityTeamTeamTeamTeamTeamTeam team is not prepared to test or put any changes in production
by June 1st.

Once we have a plan and agree on the necessary changes, I would be glad
to work with you to set a target date and make progress towards that date.


-- Main.MineAltunay - 02 Dec 2011
