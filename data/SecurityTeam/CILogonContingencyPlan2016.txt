%META:TOPICINFO{author="KyleGross" date="1480625566" format="1.1" reprev="1.8" version="1.8"}%
%META:TOPICPARENT{name="SecurityTeamTeamTeamTeamTeamTeamTeamWorkingArea"}%
%RED%
*OSG Restricted Information*

Information on this web page is restricted to authorized individuals only.  It should not be copied or distributed without
the express consent of the OSG SecurityTeamTeamTeamTeamTeamTeam Team and only to individuals, and while retaining this information protection notice.
%ENDCOLOR%

---+!! Information System Contingency Plan (ISCP): !CILogon OSG CA Service

%BLUE% DRAFT 2, 18 May 2016 %ENDCOLOR%

---++!! Contents
%TOC%

---++ Forward

This document is developed following the guidance and templates in [[http://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-34r1.pdf][NIST SP-800-34]],
"Contingency Planning Guide for Information Technology Systems",
and the contingency planning material developed at
SecurityTeamTeamTeamTeamTeamTeam.IdMContingencyPlanning.
It is derived from the 2012 [[DigiCertContingencyPlan2012][DigiCert CA Contingency Plan]].

---++ Introduction

---+++ Background
This CILogon OSG CA CA Service Relying Party and Registration Authority Contingency Plan ( *RPRACP* ) establishes procedures to mitigate the impact
to OSG operations following a disruption of CILogon OSG CA services.  The CILogon OSG CA is an important part of the
larger Public Key Infrastructure (PKI) essential to OSG.  The PKI includes many IGTF accredited CAs
as well as the means of distribution of the trust anchors (CA signing certificates and related files).
The CILogon OSG CA is operated by XSEDE (Extreme Science and Engineering Discovery Environment) in collaboration with OSG (Open Science Grid).

Because the CILogon OSG CA certificate signing backend is operated by XSEDE, this document has elements of both a contingency plan and
a continuity of operations plan since its purpose is primarily to describe how OSG will continue its PKI related
activities while service is restored to the CILogon OSG CA.
The following objectives have been established for this plan:
   * Maximize the effectiveness of contingency operations through an established plan that consists of the following phases:
      * *Notification/Activation* phase to detect and assess damage and to activate the plan
      * *Recovery* phase to restore partial PKI operations and perform actions to mitigate the impact while normal operations of the CILogon OSG CA is restored by XSEDE.
      * *Reconstitution* phase to restore OSG Relying Party and Registration Authority to normal operations following re-establishment of CILogon OSG CA operations by XSEDE.
   * Identify the activities, resources, and procedures needed to carry out Relying Party and Registration Authority processing requirements during prolonged interruptions to normal operations.
   * Assign responsibilities to designated OSG personnel and provide guidance for recovering OSG Relying Party and Registration Authority during prolonged periods of interruption to normal operations.
   * Ensure coordination with other OSG and XSEDE Operations Center (XOC) staff who will participate in the contingency planning strategies. Ensure coordination with external points of contact and PKI participants who will participate in the contingency planning strategies.

---+++ Scope
This OSG Relying Party and Registration Authority Contingency Plan applies to the effects on OSG of outages and service failures of the
CILogon Open Science Grid Certification Authority (CILogon OSG CA)  ([[https://twiki.grid.iu.edu/bin/view/SecurityTeamTeamTeamTeamTeamTeam/OSGCertificateService][CILogon OSG CA]]) and the %RED%[[http://www.opensciencegrid.org/ra/][OSG Registration Authority]].%ENDCOLOR%

This document describes what actions OSG should take in the event of a disruption to CILogon Open Science Grid Certification Authority (CILogon OSG CA) services.

It also describes what additional preparations OSG can make in order to mitigate the impact of such a future occurrence.

Various scenarios were considered that generally fall into two categories.
   1. Events that cause a functional outage of the service.
      * For these cases the response depends upon the length of the outage.  These are identified as
         * *Case 1* - CA service outage for < 1 week
         * *Case 2* - CA service outage for > 1 week and < 4 weeks
         * *Case 3* - CA service outage for > 4 weeks
   2. Events that corrupt the service or PKI leading to a need to replace certificates for the CA and/or End Entities.
      * For these cases the response depends on the nature of the corruption. The general cases are identified as
         * *Case 4* - some occurrence requires all (or very many) EE certificates to be replaced but the CA certificate is still trusted.
         * *Case 5* - entire PKI is compromised and all EE certificates and the CA certificate must be replaced.
         * *Case 6* - end of service of CA and/or organization running it

---+++ Assumptions

For *Cases 1, 2, 4, 5*, XSEDE Operations Center (XOC) staff are able to reconstitute the CA service within one month.

For *Cases 3 and 6*, XSEDE Operations Center (XOC) staff are not able to reconstitute the CA service within one month.

---+++ References / Requirements
This contingency plan is modeled after the [[http://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-34r1.pdf][NIST SP-800-34]] document.

Planning material is at SecurityTeamTeamTeamTeamTeamTeam.IdMContingencyPlanning.

---++ Concept of Operations

---+++ System Description and Architecture

The CILogon Service provides the certificate signing backend for CILogon OSG CA. OSG OIM interface was integrated with CILogon Hardware SecurityTeamTeamTeamTeamTeamTeam Module (CILogon HSM) resulting in the new CILogon OSG CA, which is operated by OSG in collaboration with XSEDE. Certificates from this CA are only issued issued if user/host/service certificate request has been approved by the Registration Authority Agent (RA) and/or Grid Admin (as the case may be).
It supports the issuance and revocation of X509 certificates.
Additional information is available at [[http://ca.cilogon.org/news/igtfosg][CILogon OSG CA]].

---+++ Line of Succession

The line of succession described here is to ensure that the decision-making
authority for this contingency plan is uninterrupted.
The OSG SecurityTeamTeamTeamTeamTeamTeam Officer is primarily responsible for the execution of this contingency plan.
In the event that the SecurityTeamTeamTeamTeamTeamTeam Officer is unavailable the OSG Deputy SecurityTeamTeamTeamTeamTeamTeam Officer will
be responsible for execution of this plan. If both those are unavailable then the OSG
Executive Director will appoint another person to execute this plan.
At any point in time, the person responsible for executing this plan is called the
_Contingency Plan Coordinator_.

---+++ Responsibilities

The OSG SecurityTeamTeamTeamTeamTeamTeam Team is responsible for carrying out the actions of this contingency plan.

---++ Activation and Notification

The OSG SecurityTeamTeamTeamTeamTeamTeam Team led by the SecurityTeamTeamTeamTeamTeamTeam Officer characterizes the nature of the occurrence that prompts activation of this contingency plan.

If the occurrence requires notifying all OSG sites and VOs the activation of this plan
is done by authority of the OSG Executive Director (ED).  In absence of the ED the plan
can be activated by the OSG SecurityTeamTeamTeamTeamTeamTeam Officer.  This applies to *Cases 2, 3, 4, 5, 6*.

If the occurrence does not require notifying the majority of the OSG sites and VOs
the plan can be activated by the OSG SecurityTeamTeamTeamTeamTeamTeam Officer.  In the absence of the
SecurityTeamTeamTeamTeamTeamTeam Officer the plan can be activated by the OSG Deputy SecurityTeamTeamTeamTeamTeamTeam Officer or
by the OSG ED.  This applies to *Case 1*.

Activation of the contingency plan will include the characterization of the occurrence, the
identification of the _Contingency Plan Coordinator_ and the _Contingency Response Team_ members.
All notifications following the activation of the plan originate with the _Contingency Plan Coordinator_.

The activation of the contingency plan requires notification to the OSG Executive Team (osg-et@opensciencegrid.org)
and the OSG SecurityTeamTeamTeamTeamTeamTeam Team (osg-security-team@opensciencegrid.org).
In the event that email services are not available notification will happen using contact information
from the OSG Information Management system (oim.grid.iu.edu).

The _Contingency Plan Coordinator_ will notify XOC staff that this contingency plan has been activated
and determine who from XOC staff should participate on the _Contingency Response Team_.

The _Contingency Plan Coordinator_ will create a web page on the OSG Twiki with appropriate
access controls that the _Contingency Response Team_ will use to post information about the occurrence
and the status of the plan execution, recovery of the CA service, and return to normal operations.

---++ Recovery
This section describes the actions to perform before CA services are restored.
Depending upon the nature of the event disrupting the CA service the characterization
may escalate (or de-escalate) between *Cases 1,2,3*.

---+++ Case 1 - CA service outage for < 1 week

   * Recovery Goal - preserve last good certificate and CRL information
   * Recovery Goal - inform subscribers of alternative CA options as needed
   * Recovery Goal - transition certificate revocation to user banning

---+++ Case 2 - CA service outage for > 1 week and < 4 weeks

In addition to recovery goals for Case 1:
   * Recovery Goal - provide alternative CA services for urgent subscribers
   * Recovery Goal - disable CRL checking for CILogon OSG CA on OSG sites

---+++ Case 3 - CA service outage for > 4 weeks
In addition to recovery goals for cases 1 & 2:
   * Recovery Goal - establish replacement CA services
   * Recovery Goal - replace all CILogon OSG certificates used in OSG with certificates from alternate CAs
   * Recovery Goal - Notify all VOMS administrators that everyone with CILogon OSG certificates will be getting new certificates.

---+++ Case 4 - need replacement for all EE certificates

   * Recovery Goal - issue replacement EE certificates from CILogon OSG CA, via a self-service and/or automated process to the extent possible

Manual vetting for certificate issuance will slow down the process, so we should try to allow certificate holders to replace their certificates using their current certificates and/or using a previously established PIN/password.

In cases where manual action is required, certificates should be issued in order of priority indicated by Gratia accounting system for most used People and Services certificates.

---+++ Case 5 - need CA and EE certificates replaced
In addition to recovery goal(s) for Case 4:
   * Recovery Goal - propagate new CA certificates quickly via the OSG CA distribution (for OSG sites) and the IGTF CA distribution (for WLCG and other peer grids)
   * Recovery Goal - inform subscribers of alternative CA options as needed

---+++ Case 6 - Service End of Life
   * Recovery Goal - provide alternative CA services for urgent subscribers
   * Recovery Goal - establish replacement CA services
   * Recovery Goal - replace all CILogon OSG certificates used in OSG with certificates from alternate CAs
   * Recovery Goal - Notify all VOMS administrators that everyone with CILogon OSG certificates will be getting new certificates.

---++ Reconstitution

---+++ When CILogon OSG CA returns to service
   * Verify that new CRL is accurate
   * Notify anyone who was previously notified to modify normal CRL handling procedures that the CRL has returned to normal.
   * Notify any VOMS administrators for which user banning was enforced in place of certificate revocation.
   * Notify all certificate holders that were directed to alternate suppliers that CILogon OSG CA is back in service.

---+++ When CILogon OSG CA is EOL
   * Confirm (through site probes, Gratia queries, etc.) that CILogon OSG certificates are no longer in use in OSG.
   * Remove CILogon OSG CA from distribution on date specified for CA trust EOL.

---+++ Plan Deactivation
_Contingency Plan Coordinator_ shall notify the OSG Executive Team (ET) that the contingency plan
is deactivated and write a report on the occurance which will be submitted to the OSG ET.

---++ Appendices

---+++ Personnel & Vendor Contacts
Telephone numbers for OSG staff are kept in oim.grid.iu.edu.

   * OSG SecurityTeamTeamTeamTeamTeamTeam Officer and SecurityTeamTeamTeamTeamTeamTeam Team (security@opensciencegrid.org, osg-security-team@opensciencegrid.org, osg-ra@opensciencegrid.org)
   * OSG Executive Team (osg-et@opensciencegrid.org)
   * The service is supported by XSEDE Operations Center (XOC). The XOC operates during all hours EXCEPT for the following: Friday 11pm to Saturday 7am, Saturday 11pm to Sunday 7am, and Sunday 11pm to Monday 7am. All issues reported to XOC will be investigated by the next business day. All times are central time zone.
      * Support Direct: 1-866-907-2383 (US & Canada)
      * Email: 
         * help@xsede.org
         * help@cilogon.org
      * Jim Basney, jbasney@illinois.edu

---+++ Service Level Agreement between OSG and XSEDE
See: [[https://twiki.opensciencegrid.org/bin/view/Operations/CILogonServiceLevelAgreement][OSG and XSEDE SLA]]

---+++ Service Agreement between OSG and alternate CA service providers
TBD

---+++ Business Impact Analysis

---++++ Changes for DigiCert to CILogon OSG CA Transition

As this plan is derived from the 2012 [[DigiCertContingencyPlan2012][Digicert CA Contingency Plan]], we document in this section those changes that are specific to the DigiCert to CILogon OSG CA transition.

---+++++ Change of CRL Lifetimes

CRL "expiration" is one of the potential causes of service outages. CRL lifetimes are:
   * DigiCert: 6 months for root CA, 7 days for intermediate CA
   * CILogon OSG: 6 months for root CA, 30 days for intermediate CA

Moving from 7 days to 1 month extends the reaction time required in case of a prolonged CRL outage.

---+++ Record of Changes

-- Main.JenyTeheran - 18 May 2016 - Update for CILogon OSG CA replacing DigiCert.

-- Main.JenyTeheran - 27 Apr 2016 - Initial update for CILogon OSG CA replacing DigiCert.

<!--

   * Set ALLOWTOPICVIEW = Main.SecurityTeamTeamTeamTeamTeamTeamTeamGroup, Main.RobQ, Main.ChanderSehgal, Main.VonWelch, Main.NehaSharma, Main.DaveDykstra, Main.JimBasney
   * Set ALLOWTOPICCHANGE = Main.SecurityTeamTeamTeamTeamTeamTeamTeamGroup, Main.VonWelch, Main.NehaSharma, Main.JimBasney
   * Set DENYTOPICVIEW = Main.TwikiGuest

-->

-- Main.JenyTeheran - 27 Apr 2016
