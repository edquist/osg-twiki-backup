%META:TOPICINFO{author="AnandPadmanabhan" date="1236956279" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="BestPractices"}%
---+ Security Handson Training 
%TOC%

---++ Topics covered 
   * How to respond to a security incident 
   * How to ban a user DN from your site 
   * How to track down jobs submitted by a DN
   * How to locate relevant log files
   * Basic forensics steps for incident response

---++ The scenario 
   * OSG Security Team contacts you about a “bad DN”
   * We're submitting jobs using the “bad DN”
   * In a real incident
      * Contact security at opensciencegrid.org  and local security response
      * Security team will send you a signed email indicating the action to be taken
      * Take actions identified in the email ASAP
      * Detailed incident response procedures can be found [[IncidentDiscoveryReporting][here]]

---++ Major steps to take when responding to compromised user DN
   * Stop further exposure
   * Find out if your site was exposed and to what extent
   * Conduct basic forensics
   * Clean up suspect jobs

---+++ How to stop further exposure of your site?
   * Ban the user DN. We will discuss how later.
   * Keep CAs and CRLs upto date
      * Ensure that tools like vdt-update-certs and fetch-CRL have been enabled
   * Keep the VO list updated
      * Check if GUMS is contacting the VOMS server periodically and gums-host-cron service from VDT is enabled on CE
      * If using end-mkgridmap ensure that the edg-mkgridmap service is enabled in VDT
   * Watch the logs 
      * Gatekeeper logs, batch system logs and syslogs
-- Main.AnandPadmanabhan - 13 Mar 2009
