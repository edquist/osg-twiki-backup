%META:TOPICINFO{author="MatyasSelmeci" date="1370385057" format="1.1" reprev="1.9" version="1.9"}%
%META:TOPICPARENT{name="Projects"}%
---+ Globus Patches

We have many patches for Globus packages, and we would like to push most of them upstream.

---++ Patches

| *Package* | *Added* | *Patch File* | *Purpose* | *Status* |
| globus-ftp-control | 4.2-5 | level-out-connection-speeds.patch | Fix connection speed leveling on servers with different buffer sizes | Critical for HDFS; needs Globus review |
| globus-gatekeeper | 8.1-7 | init.patch | Improve checking of binary and host certificate files | Ready for commit |
| globus-gatekeeper | 9.6-1.5 | GRAM-309.patch | Support IPv4-only systems (fixed in GT 5.2.1?) | Needs verification |
| globus-gram-job-manager | 12.10-2 | unlock_init.patch | Added !GlobusGramJobManagerUnlock() and -Lock() pair of calls | Needs review |
| globus-gram-job-manager | 12.10-2 | null_old_jm.patch | Handle NULL old job request | Needs review |
| globus-gram-job-manager | 12.10-2 | description_service_tag.patch | Include the service tag in the job description | Necessary for OSG |
| globus-gram-job-manager | 12.10-2 | load_requests_before_activating_socket.patch | Cleanly recover when globus-job-manager processes die | Ready for commit |
| globus-gram-job-manager | 13.5-4 | fix-job-home-dir.patch | Fix the globus-job-dir option | Necessary for OSG, but needs to be rewritten. |
| globus-gram-job-manager | 13.5-6 | fix-job-lock-location.patch | Keep locks on local filesystem | Fix necessary after fix-job-home-dir.patch.  Likely also needs to be rewritten. |
| globus-gram-job-manager | 13.23-0.5 | allow-manager-restart.patch | Allow job-manager to get a new proxy after the prior one expired | Needs review |
| globus-gram-job-manager | 13.45-1.2 | gt-268-missing-normalize.patch | SEG fails to replay first log of month ([[http://jira.globus.org/browse/GT-268 GT-268]]) | Verify in upstream |
| globus-gram-job-manager | 13.45-1.4 | gt-311-memory-leak.patch | Memory leak in job manager ([[http://jira.globus.org/browse/GT-311 GT-311]]) | Patch may be incomplete -- watch ticket for changes |
| globus-gram-job-manager-condor | 0.0-3 | job_status.patch | Handle $num_abort > 0 | Needs review |
| globus-gram-job-manager-condor | 0.0-3 | gratia.patch | Add logging to Gratia | OSG-private.  Likely can be committed |
| globus-gram-job-manager-condor | 0.0-3 | nfslite.patch | Add NFSLite | Ready for commit |
| globus-gram-job-manager-condor | 0.0-3 | groupacct.patch | Add callout for accounting groups | Ready for commit |
| globus-gram-job-manager-condor | 0.0-3 | managedfork.patch | Add managed fork | OSG-private |
| globus-gram-job-manager-condor | 0.0-4 | conf_location.patch | Fix default configuration file location | Appears to be in upstream; needs verification. |
| globus-gram-job-manager-condor | 1.0-12 | 669-xcount.patch | Add xcount and min_memory | Ready for commit |
| globus-gram-job-manager-condor | 1.0-13 | 717-max-walltime.patch | Add periodic_remove statement for max_wall_time | Ready for commit |
| globus-gram-job-manager-lsf | 1.0-1.1 | xcount.patch | Add xcount attribute | Appears to be a patch from Joe Bester?  May be upstreamed?  Suchandra added fixes to this and integrated into host_xcount.patch in srpm |
| globus-gram-job-manager-pbs | 1.1-3 | osg-teragrid-pbs.patch | Large patch with !TeraGrid changes (still relevant?) | Needs review |
| globus-gram-job-manager-scripts | 3.1-2 | gratia.patch | Add Gratia callout | OSG-specific, but would be harmless on non-OSG sites.  Needs Globus OK. |
| globus-gram-job-manager-scripts | 3.1-2 | osg-environment.patch | Add OSG job environment information | OSG-specific, but would be harmless on non-OSG sites.  Needs Globus OK. |
| globus-gram-job-manager-scripts | 3.1-2 | osg-path.patch | Add default PATH to environment | Needs Globus review. |
| globus-gram-protocol | 11.2-3.1 | increase-concurrency.patch | Increase maximum concurrency | Ready for commit. |
| globus-gridftp-server | 5.4-4 | osg-gridftp.patch | Modify log configuration and source sysconfig file | Needs Globus review - not clear why this is needed. |
| globus-gridftp-server | 6.5-1.7 | GT-195.patch | Fix problem when user is authorized but account does not exist | Fixed in Globus 5.2.2. |
| globus-gridftp-server-control | 2.3-1.1 | GT-195.patch | Fix problem when user is authorized but account does not exist | Fixed in Globus 5.2.2 |
| globus-xio | 2.9-3 | timeout_close.patch | Fix potential deadlock | Only affects threaded mode, I think - possible to drop? |
