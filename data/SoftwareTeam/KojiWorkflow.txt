%META:TOPICINFO{author="AlainRoy" date="1312570716" format="1.1" version="1.3"}%
%META:TOPICPARENT{name="RPMTempDocuments"}%
---+!! Koji Workflow
[[https://koji-hub.batlab.org/koji][OSG Koji]]

---++ Adding new package

---+++ Preferred: Using vdt-build (0.0.15+)
<pre class="screen">
%UCL_PROMPT% vdt-build koji %RED%package_name%ENDCOLOR% --kojilogin="your_cn" </pre>

---+++ Only if needed: Manually
Add new packages to the el5-osg tag.  Your CN will look like =Derek Weitzel 285345=
<pre class="screen">
%UCL_PROMPT% koji add-pkg el5-osg %RED%package_name%ENDCOLOR% --owner="your_cn" </pre>

Build packages to the el5-osg build target.  This will automatically put them in the development repo.
<pre class="screen">
%UCL_PROMPT% koji build el5-osg %RED%SRPM%ENDCOLOR% </pre>


---++ Upgrading packages from development -> testing -> release
Only an admin can upgrade packages to testing and release.

Build name is the name-version-release of the build.
<pre class="screen">
%UCL_PROMPT% koji tag-pkg el5-osg-testing %RED%build_name%ENDCOLOR% </pre>

And to release:
<pre class="screen">
%UCL_PROMPT% koji tag-pkg el5-osg-release %RED%build_name%ENDCOLOR% </pre>