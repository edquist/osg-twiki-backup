%META:TOPICINFO{author="AlainRoy" date="1314119352" format="1.1" version="1.17"}%
%META:TOPICPARENT{name="RPMTransition"}%
<!--
   * Set NOT_STARTED = Not Started
   * Set NOT_RELEASED = Not Released
   * Set ON_TRACK = <div style="background-color: #3366FF; color:white">&nbsp;On Track&nbsp;</div>
   * Set BEHIND = <div style="background-color: #CCFF00;">&nbsp;Behind&nbsp;</div>
   * Set AT_RISK = <div style="background-color: #CC0000; color:white">&nbsp;At risk&nbsp;</div>
   * Set ACHIEVED = <div style="background-color: #00FF66;">&nbsp;Achieved&nbsp;</div>
   * Set RELEASED = <div style="background-color: #00FF66;">&nbsp;Released&nbsp;</div>
   * Set TWISTY_OPTS_DETAILS = mode="div" showlink="Details" hidelink="Hide" showimgleft="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" hideimgleft="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" remember="on" start="hide" 
-->

---+ RPM Transition Plan

[[#CurrentState][Jump to the current state]] (Skip the background information)

 %RED% *Please Note* %ENDCOLOR%: Not all of the dates are filled out. Alain will be talking to people by August 12 to settle details. In particular, he will talk to:
   * Igor Sfiligoi for the schedule for evaluations
   * Suchandra Thapa about the schedule and likely candidate for external beta testing and ITB testing
   * Tanya Levshina for details on the storage element packaging and testing
   * Robert Engel for the documentation schedule

---++ Goal

Our goal is to provide the following _functional units_ as RPMs for Red Hat Enterprise Linux 5, Scientific Linux 5, and !CentOS 5 by December 5, 2011:

   * glexec
   * Worker Node Client
   * Client (i.e. worker node client + end-user tools)
   * Compute Element (CE)
   * RSV (Earlier discussions included this in the CE, but we've separated it.)
   * !BeStMan, Hadoop & !BeStMan, Xrootd & !BeStMan (SE)
   

This does not account for everything in the existing Pacman-based VDT. Additional functional units will come in early 2012, the time to be determined:
   * GUMS
   * Gratia Collector

In addition to the above functional units, we have two more major areas of focus that cut across all of the functional units and need attention beyond that in the developing the functional units.

   * Internal testing infrastructure
   * Documentation

---++ Release Process 

For each functional unit in the VDT, we will proceed through a series of steps, shown here. Steps 4a, 4b, and 4c can be performed in parallel. 

<img src="%ATTACHURLPATH%/rpm-package-process.png" alt="rpm-package-process.png"/>

The tables below show when we complete each step--they are milestones, not periods of time for each state. 

---+++ Definition of steps
*1. Package* <br>
This is the time where we will construct the set of RPMs for the given functional unit. *Note:* We expect some very basic documentation at this point.

*2. Internal Testing* <br>
This is the time where we do basic, hands-on developer testing of the RPMs.

*3. Fix known problems* <br>
We are allocating time to fix problems. While it is hard to know what problems we will encounter, we recognize that we will make an educated guess so that when we run into the inevitable problems, fixing them fits into our schedule. 

*4a. Documentation* <br>
This is the time when we move the existing basic documentation to something that fits into our documentation structure and is usable by end-users.

*4b. Evaluation* <br>
We might do an extensive internal evaluation for scalability or readiness. For instance, evaluating the scalability of GRAM 5. Not all functional components will need this.

*4c. External Beta Testing* <br>
We will work with one or two selected external sites to do testing. This is outside the ITB testing: we will work closely with them to get early feedback. 

*4d. Integration Testbed* <br>
Testing by the integration testbed. 

*5. Limited Release* <br>
We release the software into production. We do not widely announce it, and our ability to provide support is limited (but available). This is a release mean for early adopters.

*6. General Release* <br>
We release the software into production. We announce and fully support the previously created limited release.

---+++ States
Steps can be in five different states:

<table>
<tr><td>%NOT_STARTED%</td><td>Neither started,  nor expected to be started</td></tr>
<tr><td>%ON_TRACK%</td><td>Progress is being made, no worries about meeting deadline</td></tr>
<tr><td>%BEHIND%</td><td>Behind schedule, but may be able to catch up. Not yet at risk.</td></tr>
<tr><td>%AT_RISK%</td><td>At risk, deadline may not be met</td></tr>
<tr><td>%ACHIEVED%</td><td>Goal has been achieved</td></tr>
</table>

#CurrentState

---++ Summary
| *Functional Unit* | *Target Limited Release* | *Target General Telease* | *Summary* |
| [[#VomsStatus][VOMS]] | 4-Oct-2011 | 1-Nov-2011 | VOMS is ready for friendly testing and documentation.  |
| [[#GlexecStatus][glexec]] | 1-Nov-2011 | 29-Nov-2011 | One non-blocking open bug, but ready for testing. |
| [[#WorkerNodeStatus][Worker Node]] | 1-Nov-2011 | 29-Nov-2011 | In testing on at least two sites. |
| [[#ClientStatus][Client]] | 1-Nov-2011 | 29-Nov-2011 | |
| [[#CeStatus][CE]] | 6-Dec-2011 | 13-Dec-2011 | |
| [[#RsvStatus][RSV]] | 6-Dec-2011 | 13-Dec-2011 | |
| [[#SeStatus][SE]] | | | Working on plan with Tanya |
| [[#DocumentationStatus][Documentation]] | Staged, see below | Staged, see below | Working on plan with Robert and Jim |
| [[#TestingStatus][Internal Testing Framework]] | | | Developing plan with Tim, ready by 31-Aug-2011 | 
| [[#SecurityStatus][Security]] | | | (12-Aug) Just talked to Mine and Anand, developing plan with them. |

---++ Weekly Highlights

| *Date* | *Note* |
| 23-Aug-2011 | I'm worried about documentation because I do not yet have a plan or progress from Robert or Jim |
| 19-Aug-2011 | Updated plan with limited and general release dates. Worker node is being tested in ITB |
| 3-Aug-2011 | We have completed internal testing on the OSG client and the VOMS server!<br>We are nearly ready for the OSG site admin meeting, except for some minor glexec issues and basic docs for glexec and the OSG client |


#VomsStatus
---++ Functional Unit: VOMS 

VOMS is *ready* for friendly testing and documentation.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ACHIEVED% | 18-July-2011 | 25-July-2011 | 28-July-2011 | [[https://jira.opensciencegrid.org/browse/SOFTWARE-26][#26]]|
|2. Internal Testing  | %ACHIEVED% | 25-July-211 | 1-Aug-2011 | 2-Aug-2011 | [[https://jira.opensciencegrid.org/browse/SOFTWARE-99][#99]] |
|3. Fix known problems | %ACHIEVED% | 1-Aug-2011 |8-Aug-2011 | 2-Aug-2011 | %TWISTY{%TWISTY_OPTS_DETAILS%}%No problems found during internal testing<br>(but lots found & fixed during packaging)%ENDTWISTY% |
|4a. Documentation  | %BEHIND% | | | | Have [[https://twiki.grid.iu.edu/bin/view/Documentation/InstallVomsService][basic docs]], good enough for early testers. |
|4b. Evaluation  | %NOT_STARTED% | 29-Aug-2011 | 9-Sep-2011 | | |
|4c. External Beta Testing |%NOT_STARTED% | 15-Aug-2011 | 12-Sep-2011 | | Likely candidates: HCC VO (Nebraska), GLOW VO (Madison) & CIGI VO (Ananad) |
|4d. Integration Testing | %NOT_STARTED% | | | |  |
| *Milestone* | *State* | *Target Release* || *Actual Release* | *Notes* |
|5. Limited Release |%NOT_RELEASED%| 4-Oct-2011 || |  |
|6. General Release |%NOT_RELEASED%| 1-Nov-2011 || |  |

#GlexecStatus
---++ Functional Unit: glexec

glexec is *ready* for friendly testing and documentation.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ACHIEVED% | 7-July-2011 | 25-Jul-2011 | 15-Jul-2011 | [[https://jira.opensciencegrid.org/browse/SOFTWARE-17][#17]]|
|2. Internal Testing  | %ACHIEVED% | 25-July-2011 | 1-Aug-2011 | 15-Jul-2011 | |
| 3. Fix known problems | %ON_TRACK% | 1-Aug-2011 | 8-Aug-2011 |  | %TWISTY{%TWISTY_OPTS_DETAILS%}%One open bug remains: [[https://jira.opensciencegrid.org/browse/SOFTWARE-114][#114]] |
|4a. Documentation  |%BEHIND%| | | | |
|4b. Evaluation  |%NOT_STARTED%| 24-Aug-2011 | 9-Sep-2011 | | |
|4c. External Beta Testing |%NOT_STARTED% | 15-Aug-2011 | 12-Sep-2011 | | _Need to pick site_ |
|4d. Integration Testing |%NOT_STARTED%| 1-Sep-2011 | 22-Nov-2011 | | |
| *Milestone* | *State* | *Target Release* || *Actual Release* | *Notes* |
|5. Limited Release |%NOT_RELEASED%| 1-Nov-2011 || |  |
|6. General Release |%NOT_RELEASED%| 29-Nov-2011 || |  |

#WorkerNodeStatus
---++ Functional Unit: Worker node client

The worker node client is *ready* for friendly testing and documentation.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
| 1. Package | %ACHIEVED% | 6-July-2011| 25-July-2011 | 15-July-2011 | [[https://jira.opensciencegrid.org/browse/SOFTWARE-1][#1]] |
| 2. Internal Testing | %ACHIEVED% | 25-July-2011 | 1-Aug-2011 | 15-July-2011 | |
| 3. Fix known problems | %ACHIEVED% | 1-Aug-2011 | 8-Aug-2011 | 15-July-2011 | |
| 4a. Documentation | %BEHIND% | | | | Have [[https://twiki.grid.iu.edu/bin/view/Documentation/InstallWNRPM][basic docs]], good enough for early testers. |
| 4b. Evaluation | %NOT_STARTED% |23-Aug-2011 | 9-Sep-2011 | | UCSD team performing functional tests |
|4c. External Beta Testing |%NOT_STARTED% | 15-Aug-2011 | 12-Sep-2011 | | Nebraska likely site? |
| 4d. Integration testing | %NOT_STARTED% | 22-Aug-2011| 14-Sep-2011 | Test initial rpm packaging and then globus 5.2 based packages |
| *Milestone* | *State* | *Target Release* || *Actual Release* | *Notes* |
|5. Limited Release |%NOT_RELEASED%| 1-Nov-2011 || |  |
|6. General Release |%NOT_RELEASED%| 29-Nov-2011 || |  |

#ClientStatus
---++ Functional Unit: Client

The client is *ready* for friendly testing and documentation.

| *Milestone* | *State* | *Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ACHIEVED% | 6-July | 25-July-2011 | 15-July-2011 | [[https://jira.opensciencegrid.org/browse/SOFTWARE-4][#4]]|
|2. Internal Testing  | %ACHIEVED% | 25-July-2011 | 1-Aug-2011 | 3-Aug-2011 | | Test ticket: [[https://jira.opensciencegrid.org/browse/SOFTWARE-98][#98]] |
|3. Fix known problems | %ACHIEVED% | 1-Aug-2011 | 8-Aug-2011 | 3-Aug-2011 | %TWISTY{%TWISTY_OPTS_DETAILS%}%One non-blocking bug in discovery tools, will be fixed later: [[https://jira.opensciencegrid.org/browse/SOFTWARE-112][#112]]|
|4a. Documentation  | %BEHIND% | | | | Have [[https://twiki.grid.iu.edu/bin/view/Documentation/InstallOSGClient][basic docs]], good enough for early testers. |
|4b. Evaluation  | %NOT_STARTED% | 23-Aug-2011 | 9-Sep-2011 | | UCSD team performing functional tests |
|4c. External Beta Testing |%NOT_STARTED% | 15-Aug-2011 | 12-Sep-2011 | | _Need to pick likely tester: glideinWMS?_ |
|4d. Integration Testing | %NOT_STARTED% | 5-Sep-2011| 28-Nov-2011 | |
| *Milestone* | *State* | *Target Release* || *Actual Release* | *Notes* |
|5. Limited Release |%NOT_RELEASED%| 1-Nov-2011 || |  |
|6. General Release |%NOT_RELEASED%| 29-Nov-2011 || |  |

#CeStatus
---++ Functional Unit: CE

This is our most complex functional unit. We are working with Globus 5 from EPEL and Brian has discovered many bugs in GRAM 5 and fixed most of them. We are in discussions with Globus to sort out our best approach, perhaps by using GT 5.2. Getting a good Globus GRAM ready is our biggest uncertainty and worry at this time.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ON_TRACK% | 20-July-2011 | 29-Aug-2011 | | Much of the CE is packaged, Brian is fine-tuning details. |
|2. Internal Testing  | %ON_TRACK% | 29-Aug-2011 | 12-Sep-2011 | | Brian has done good testing, need other internal testers |
|3. Fix Known Problems | %ON_TRACK% | 12-Sep-2011 | 27-Sep-2011 | | While not officially started, Brian has squashed many bugs in Globus |
|4a. Documentation  | %BEHIND% | | |  | Have [[https://twiki.grid.iu.edu/bin/view/Documentation/InstallCERPM][early documentation]] |
|4b. Evaluation  | %NOT_STARTED% | 27-Sep-2011 | 21-Oct-2011 | | Igor's team will lead scalability/readiness testing |
|4c. External Beta Testing |%NOT_STARTED% | 12-Sep-2011 | | | _Need to pick site (opportunistic Fermilab CE?) |
|4d. Integration Testing | %NOT_STARTED% | 1-Oct-2011 | 28-Nov-2011 | | |
| *Milestone* | *State* | *Target Release* || *Actual Release* | *Notes* |
|5. Limited Release |%NOT_RELEASED%| 6-Dec-2011 || |  |
|6. General Release |%NOT_RELEASED%| 13-Dec-2011 || |  |

#RsvStatus
---++ Functional Unit: RSV

Earlier discussions included this in the CE, but we've separated it out because it is a separate component and because it requires some development.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|0. Develop | %ON_TRACK% | 20-July-2011 | 9-Sep-2011 | | %TWISTY{%TWISTY_OPTS_DETAILS%}% Work led by Scot, who is at 25% OSG time<br>Major remaining work includes:<br>Condor configuration for separate condor-cron<br>Update probes to run in RPM environment<br>Use Condor-G instead of globus-job-run%ENDTWISTY%| 
|1. Package  | %ON_TRACK% | 20-July-2011 | 9-Sep-2011 |  | Initial package was made at build fest |
|2. Internal Testing  |%NOT_STARTED%| 12-Sep-2011 | 16-Sep-2011 | | |
|3. Fix Known Problems | %NOT_STARTED% | 19-Sep-2011 | 23-Sep-2011 | | |
|4a. Documentation  |%BEHIND%| | | | |
|4b. Evaluation  |%NOT_STARTED%|  | | |
|4c. External Beta Testing |%NOT_STARTED% | 16-Sep-2011 | 21-Oct-2011 | | _Need to pick site_ |
|4d. Integration Testing |%NOT_STARTED%| 1-Oct-2011 | 28-Nov-2011 | |
| *Milestone* | *State* | *Target Release* || *Actual Release* | *Notes* |
|5. Limited Release |%NOT_RELEASED%| 6-Dec-2011 || |  |
|6. General Release |%NOT_RELEASED%| 13-Dec-2011 || |  |

#SeStatus
---++ Functional Unit: SE

This is the work to ensure we have a working !BeStMan,  Xrootd and !BeStMan basis for an SE, as well as merge the pre-existing Hadoop Filesystem (HDFS) RPMs into the VDT.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ON_TRACK% | | 16-Sep-2011 |  | %TWISTY{%TWISTY_OPTS_DETAILS%}%Xrootd was packaged in May.<br>!BeStMan was packaged in July.<br>HDFS is being started in late August: [[https://jira.opensciencegrid.org/browse/SOFTWARE-186][#186]].<br> Create metapackage: !BeStMan,gridFTP,lcmap/lcas plugin, gratia-transfer-probe by late August .<br>create metapackage !BeStMan, xrootdfs, gridFTP-dsi, lcmap/lcas plugin, gratia-transfer-probe,gratia-xrootd-storage probe by mid September%ENDTWISTY%|
|2. Internal Testing  |%ON_TRACK%| | 23-Sep-2011 |  | |
|3. Fix Known Problems | %ON_TRACK% | | 30-Sep-2011 |  | |
|4a. Documentation  |%ON_TRACK%| 3-Oct-2011 | | | %TWISTY{%TWISTY_OPTS_DETAILS%}%XRootd docs were done in May<br>!BeStMan yet to be done.<br>Can build on [[https://twiki.grid.iu.edu/bin/view/Storage/Hadoop][existing HDFS docs]], <br>Need to document gridftp and lcas/lcmaps configuration as well as all grtia storage and transfer probe by end of September%ENDTWISTY% |
|4b. Evaluation  |%ON_TRACK%| 3-Oct-2011 | | | %TWISTY{%TWISTY_OPTS_DETAILS%}%Xrootd was evaluated by ATLAS<br>Bestman yet to be done<br>HDFS was evaluated by CMS%ENDTWISTY% |
|4c. External Beta Testing |%NOT_STARTED% | 3-Oct-2011 | | | |
|4d. Integration Testing |%NOT_STARTED% | 3-Oct-2011 | | | |
| *Milestone* | *State* | *Target Release* || *Actual Release* | *Notes* |
|5. Limited Release |%NOT_RELEASED%| 6-Dec-2011 || |  |
|6. General Release |%NOT_RELEASED%| 13-Dec-2011 || |  |

#DocumentationStatus
---++ Documentation

This doesn't match the process diagram above because it is not about packaging but documenting the packages.

%RED%PLEASE NOTE:%ENDCOLOR% This plan has not been completed but is being worked on actively in collaboration with Robert Engel. Take the table below with a grain of salt. 

| *Milestone* | *State* | *Start* | *Target Finish* | *Actual Finish* | *Notes* |
| Create Twiki Web | %NOT_STARTED% | 1-Aug-2011 | 8-Aug-2011 | | |
| Prototype: Worker Node Install |  %NOT_STARTED% | 8-Aug-2011 | 12-Aug-2011 | | |
| Prototype: VOMS Install | %NOT_STARTED% | 15-Aug-2011 | 19-Aug-2011 | | |
| Report: How hard is RPM documentation | %NOT_STARTED% | 22-Aug-2011 | 22-Aug-2011 | | |
| .. | | | | | |

#TestingStatus
---++ Internal testing framework

This doesn't match the process diagram above because it is not about packaging but testing out packages. 

%RED%PLEASE NOTE:%ENDCOLOR% This plan has not been completed but is being worked on actively. Take the table below with a grain of salt. 

| *Milestone* | *State* | *Start* | *Target Finish* | *Actual Finish* | *Notes* |
| Finish plan | %ON_TRACK% | 1-Aug-2011 | 30-Aug-2011 | | Had productive discussion with Batlab and team members. |
| Batlab provides ability to run VMs | %ON_TRACK% | 4-Aug-2011 | 3-Oct-2011 | | This is an external dependency |
| Test 1 | %NOT_STARTED% | TBD | TBD |  | Scripted but manually invoked test in FermiCloud VM |
| Test N | %NOT_STARTED% | TBD | TBD |  | Expand set of tests |
| Test Batlab | %NOT_STARTED% | 3-Oct-2011 | 10-Oct-2011 | | Run tests on one VM in Batlab |
| .. | | | | | |

#SecurityStatus
---++ Security

In collaboration with the OSG Security Team, we are doing three things:

   1. Making source RPMs for the CA certificate distributions. 
   1. Porting and updating =vdt-update-certs= and =vdt-ca-manage=
   1. Ensuring that the Security Team can maintain the =osg-cert-scripts=. (Previously known as the =ppdg-cert-scripts= and originally maintained by Doug Olson.)

These are not blocking other work because we have a hacked version of the the CA certs that is sufficient for testing purposes.

The security team owns the planning for this section. 

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %NOT_STARTED% |  |  |  | %TWISTY{%TWISTY_OPTS_DETAILS%}% [[https://jira.opensciencegrid.org/browse/SOFTWARE-152][#152]]<br>[[https://jira.opensciencegrid.org/browse/SOFTWARE-153][#153]]<br>[[https://jira.opensciencegrid.org/browse/SOFTWARE-154][#154]]<br>[[https://jira.opensciencegrid.org/browse/SOFTWARE-155][#155]]<br>[[https://jira.opensciencegrid.org/browse/SOFTWARE-156][#156]]<br> %ENDTWISTY% |
|2. Internal Testing  |%NOT_STARTED%|  |  | | |
|3. Fix Known Problems | %NOT_STARTED% |  | | | |
|4a. Documentation  |%NOT_STARTED%|  |  | | |
|4b. Evaluation  |%NOT_STARTED%|  | | | |
|4c. External Beta Testing |%NOT_STARTED% |  | | | |
|4d. Integration Testing |%NOT_STARTED%|  |  | | |
|5. Limited Release |%NOT_STARTED%|  |  | | |
|6. General Release |%NOT_STARTED%| |  | | |


---++ Functional Unit: GUMS
<b><div style="background-color: #CC0000; color:white">DEFERRED TO 2012</b></div><br>

We will package GUMS before the end of the year if possible. This is a low priority goal: we will focus on the CE and exclude GUMS if necessary. For the short-term this is acceptable because GUMS can still be installed via Pacman.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ON_TRACK% |  | | In order to provide the gums-client, Brian has done some builds of GUMS. [[http://jira.opensciencegrid.org/browse/SOFTWARE-42][#42]] |
|2. Internal Testing  |%NOT_STARTED%| | | | |
|3. Fix Known Problems | %NOT_STARTED% | |  | | |
|4a. Documentation  |%NOT_STARTED%| | | | |
|4b. Evaluation  |%NOT_STARTED%| | | | |
|4c. Integration Testing |%NOT_STARTED%| | | | |
|5. Release |%NOT_STARTED%| | | | |

---++ Functional Unit: Gratia Collector
<b><div style="background-color: #CC0000; color:white">DEFERRED TO 2012</b></div><br>

This is a low priority goal: we are not aiming to have progress on it during 2011 unless we have spare time.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %NOT_STARTED% | Early 2012? | |  | |
|2. Internal Testing  |%NOT_STARTED%| | | | |
|3. Fix Known Problems | %NOT_STARTED% | |  | | |
|4a. Documentation  |%NOT_STARTED%| | | | |
|4b. Evaluation  |%NOT_STARTED%| | | | |
|4c. Integration Testing |%NOT_STARTED%| | | | |
|5. Release |%NOT_STARTED%| | | | |

%META:FILEATTACHMENT{name="rpm-package-process.png" attachment="rpm-package-process.png" attr="h" comment="" date="1313182630" path="rpm-package-process.png" size="34009" stream="rpm-package-process.png" tmpFilename="/usr/tmp/CGItemp27021" user="AlainRoy" version="6"}%
