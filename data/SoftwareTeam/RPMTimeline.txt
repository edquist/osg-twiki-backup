%META:TOPICINFO{author="AlainRoy" date="1312492593" format="1.1" reprev="1.7" version="1.7"}%
%META:TOPICPARENT{name="RPMTransition"}%
<!--
   * Set NOT_STARTED = Not Started
   * Set ON_TRACK = <div style="background-color: #3366FF; color:white">&nbsp;On Track&nbsp;</div>
   * Set BEHIND = <div style="background-color: #CCFF00;">&nbsp;Behind&nbsp;</div>
   * Set AT_RISK = <div style="background-color: #CC0000; color:white">&nbsp;At risk&nbsp;</div>
   * Set ACHIEVED = <div style="background-color: #00FF66;">&nbsp;Achieved&nbsp;</div>
   * Set TWISTY_OPTS_DETAILS = mode="div" showlink="Details" hidelink="Hide" showimgleft="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" hideimgleft="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" remember="on" start="hide" 
-->

---+ RPM Transition Plan

---++ Goal

Our goal is to provide the following _functional units_ as RPMs for Red Hat Enterprise Linux 5, Scientific Linux 5, and !CentOS 5 by December 5, 2011:

   * glexec
   * Worker Node Client
   * Client (i.e. worker node client + end-user tools)
   * Compute Element (CE)
   * RSV (Earlier discussions included this in the CE, but we've separated it.)
   * Xrootd & Bestman (SE)

This does not account for everything in the existing Pacman-based VDT. Additional functional units will come in early 2012, the time to be determined:
   * GUMS
   * Gratia Collector

In addition to the above functional units, we have two more major areas of focus that cut across all of the functional units and need attention beyond that in the developing the functional units.

   * Internal testing infrastructure
   * Documentation

---++ Release Process 

For each functional unit in the VDT, we will proceed through a series of steps, shown here. Steps 4a, 4b, and 4c can be performed in parallel. 

<img src="%ATTACHURLPATH%/rpm-package-process.png" alt="rpm-package-process.png"/>

The tables below show when we complete each step--they are milestones, not periods of time for each state. 

---+++ Definition of steps
%TWISTY{%TWISTY_OPTS_MORE%}%
*1. Package* <br>
This is the time where we will construct the set of RPMs for the given functional unit. *Note:* We expect some very basic documentation at this point.

*2. Internal Testing* <br>
This is the time where we do basic, hands-on developer testing of the RPMs.

*3. Fix known problems* <br>
We are allocating time to fix problems. While it is hard to know what problems we will encounter, we recognize that we will make an educated guess so that when we run into the inevitable problems, fixing them fits into our schedule. 

*4a. Documentation* <br>
This is the time when we move the existing basic documentation to something that fits into our documentation structure and is usable by end-users.

*4b. Evaluation* <br>
Two kinds of evaluations might happen here:
   1. We might do an extensive internal evaluation for scalability or readiness. (For instance, evaluating the scalability of GRAM 5.) 
   1. We will work with friendly external testers to get feedback. 

*4c. Integration Testbed* <br>
Testing by the integration testbed. 

*5. Release* <br>
The production release.
%ENDTWISTY%

---+++ States
Steps can be in five different states:

%TWISTY{%TWISTY_OPTS_MORE%}%
<table>
<tr><td>%NOT_STARTED%</td><td>Neither started,  nor expected to be started</td></tr>
<tr><td>%ON_TRACK%</td><td>Progress is being made, no worries about meeting deadline</td></tr>
<tr><td>%BEHIND%</td><td>Behind schedule, but may be able to catch up. Not yet at risk.</td></tr>
<tr><td>%AT_RISK%</td><td>At risk, deadline may not be met</td></tr>
<tr><td>%ACHIEVED%</td><td>Goal has been achieved</td></tr>
</table>
%ENDTWISTY%


---++ Weekly Highlights

| *Date* | *Note* |
| 3-Aug-2011 | We have completed internal testing on the OSG client and the VOMS server!<br>We are nearly ready for the OSG site admin meeting, except for some minor glexec issues and basic docs for glexec and the OSG client |

---++ Functional Unit: glexec

glexec is *ready* for friendly testing and documentation.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ACHIEVED% | 7-July-2011 | 25-Jul-2011 | 15-Jul-2011 | [[https://jira.opensciencegrid.org/browse/SOFTWARE-17][#17]]|
|2. Internal Testing  | %ACHIEVED% | 25-July-2011 | 1-Aug-2011 | 15-Jul-2011 | |
| 3. Fix known problems | %ON_TRACK% | 1-Aug-2011 | 8-Aug-2011 |  | %TWISTY{%TWISTY_OPTS_DETAILS%}%Two minor bugs found: [[https://jira.opensciencegrid.org/browse/SOFTWARE-114][#114]] [[https://jira.opensciencegrid.org/browse/SOFTWARE-108][#108]] |
|4a. Documentation  |%NOT_STARTED%| 8-Aug-2011 | 31-Aug-2011 | | |
|4b. Evaluation  |%NOT_STARTED%| 8-Aug-2011 | 22-Nov-2011 | | |
|4c. Integration Testing |%NOT_STARTED%| 1-Sep-2011 | 22-Nov-2011 | | |
|5. Release |%NOT_STARTED%| 28-Nov-2011 | 6-Dec-2011 | | |

---++ Functional Unit: Worker node client

The worker node client is *ready* for friendly testing and documentation.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
| 1. Package | %ACHIEVED% | 6-July-2011| 25-July-2011 | 15-July-2011 | [[https://jira.opensciencegrid.org/browse/SOFTWARE-1][#1]] |
| 2. Internal Testing | %ACHIEVED% | 25-July-2011 | 1-Aug-2011 | 15-July-2011 | |
| 3. Fix known problems | %ACHIEVED% | 1-Aug-2011 | 8-Aug-2011 | 15-July-2011 | |
| 4a. Documentation | %ON_TRACK% | 8-Aug-2011 | 31-Aug-2011 | | Have [[https://twiki.grid.iu.edu/bin/view/Documentation/InstallWNRPM][basic docs]], good enough for early testers. |
| 4b. Evaluation | %NOT_STARTED% | | | |
| 4c. Integration testing | %NOT_STARTED% | | | |
| 5. Release |%NOT_STARTED%| 28-Nov-2011 | 6-Dec-2011 | | |

---++ Functional Unit: Client

The client is *ready* for friendly testing and documentation.

| *Milestone* | *State* | *Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ACHIEVED% | 6-July | 25-July-2011 | 15-July-2011 | [[https://jira.opensciencegrid.org/browse/SOFTWARE-4][#4]]|
|2. Internal Testing  | %ACHIEVED% | 25-July-2011 | 1-Aug-2011 | 3-Aug-2011 | | Test ticket: [[https://jira.opensciencegrid.org/browse/SOFTWARE-98][#98]] |
|3. Fix known problems | %ACHIEVED% | 1-Aug-2011 | 8-Aug-2011 | 3-Aug-2011 | %TWISTY{%TWISTY_OPTS_DETAILS%}%One non-blocking bug in discovery tools, will be fixed later: [[https://jira.opensciencegrid.org/browse/SOFTWARE-112][#112]]|
|4a. Documentation  | %ON_TRACK% | 8-Aug-2011 | 31-Aug-2011 | | Have [[https://twiki.grid.iu.edu/bin/view/Documentation/InstallOSGClient][basic docs]], good enough for early testers. |
|4b. Evaluation  | %NOT_STARTED% | | | |
|4c. Integration Testing | %NOT_STARTED% | | | |
|5. Release | %NOT_STARTED% | 28-Nov-2011 | 6-Dec-2011 | | |

---++ Functional Unit: VOMS 

VOMS is *ready* for friendly testing and documentation.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ACHIEVED% | 18-July-2011 | 25-July-2011 | 28-July-2011 | [[https://jira.opensciencegrid.org/browse/SOFTWARE-26][#26]]|
|2. Internal Testing  | %ACHIEVED% | 25-July-211 | 1-Aug-2011 | 2-Aug-2011 | [[https://jira.opensciencegrid.org/browse/SOFTWARE-99][#99]] |
|3. Fix known problems | %ACHIEVED% | 1-Aug-2011 |8-Aug-2011 | 2-Aug-2011 | %TWISTY{%TWISTY_OPTS_DETAILS%}%No problems found during internal testing<br>(but lots found & fixed during packaging)%ENDTWISTY% |
|4a. Documentation  | %ON_TRACK% | 8-Aug-2011 | 5-Sep-2011 | | Have [[https://twiki.grid.iu.edu/bin/view/Documentation/InstallVomsService][basic docs]], good enough for early testers. |
|4b. Evaluation  | %NOT_STARTED% | | | | |
|4c. Integration Testing | %NOT_STARTED% | | | | |
|5. Release | %NOT_STARTED% | 28-Nov-2011 | 6-Dec-2011 | | |

---++ Functional Unit: CE

This is our most complex functional unit. We are working with Globus 5 from EPEL and Brian has discovered many bugs in GRAM 5 and fixed most of them. We are in discussions with Globus to sort out our best approach, perhaps by using GT 5.2. Getting a good Globus GRAM ready is our biggest uncertainty and worry at this time.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ON_TRACK% | 20-July-2011 | 29-Aug-2011 | | Much of the CE is packaged, Brian is fine-tuning details. |
|2. Internal Testing  | %ON_TRACK% | 29-Aug-2011 | 12-Sep-2011 | | Brian has done good testing, need other internal testers |
|3. Fix Known Problems | %ON_TRACK% | 12-Sep-2011 | 27-Sep-2011 | | While not officially started, Brian has squashed many bugs in Globus |
|4a. Documentation  | %ON_TRACK% | 12-Sep-2011 | 27-Sep-2011 |  | Have [[https://twiki.grid.iu.edu/bin/view/Documentation/InstallCERPM][early documentation]] |
|4b. Evaluation  | %NOT_STARTED% | 27-Sep-2011 | 21-Oct-2011 | | Will have Igor do scalability testing when we're ready |
|4c. Integration Testing | %NOT_STARTED% | 1-Oct-2011 | 28-Nov-2011 | | |
|5. Release | %NOT_STARTED% | 28-Nov-2011 | 6-Dec-2011 | | |

---++ Functional Unit: RSV

Earlier discussions included this in the CE, but we've separated it out because it is a separate component and because it requires some development.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|0. Develop | %ON_TRACK% | 20-July-2011 | 9-Sep-2011 | | %TWISTY{%TWISTY_OPTS_DETAILS%}% Work led by Scot, who is at 25% OSG time<br>Major remaining work includes:<br>Condor configuration for separate condor-cron<br>Update probes to run in RPM environment<br>Use Condor-G instead of globus-job-run%ENDTWISTY%| 
|1. Package  | %ON_TRACK% | 20-July-2011 | 9-Sep-2011 |  | Initial package was made at build fest |
|2. Internal Testing  |%NOT_STARTED%| 12-Sep-2011 | 16-Sep-2011 | | |
|3. Fix Known Problems | %NOT_STARTED% 19-Sep-2011 | 23-Sep-2011 | | |
|4a. Documentation  |%NOT_STARTED%| 16-Sep-2011 | 27-Sep-2011 | | |
|4b. Evaluation  |%NOT_STARTED%| 16-Sep-2011 | 21-Oct-2011 | |
|4c. Integration Testing |%NOT_STARTED%| 1-Oct-2011 | 28-Nov-2011 | |
|5. Release |%NOT_STARTED%| 28-Nov-2011 | 6-Dec-2011 | |

---++ Functional Unit: SE

This is the work to ensure we have a working Xrootd and Bestman basis for an SE. At some point (not yet scheduled) we will merge the CSM Hadoop SE work into our repository. Other SE work is not yet planned.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ACHIEVED% | | | 1-Aug-2011 | Xrootd was packaged in May, Bestman in July. |
|2. Internal Testing  |%ACHIEVED%| | | 1-Aug-2011 | |
|3. Fix Known Problems | %ACHIEVED% | | | 1-Aug-2011 | |
|4a. Documentation  |%ON_TRACK%| | | | XRootd docs were done in May, Bestman yet to be done. |
|4b. Evaluation  |%ON_TRACK%| | | | Xrootd was evaled by ATLAS, Bestman yet to be done |
|4c. Integration Testing |%NOT_STARTED% | | | | |
|5. Release |%NOT_STARTED%| 28-Nov-2011 | 6-Dec-2011 | |


---++ Documentation

This doesn't match the process diagram above because it is not about packaging but documenting the packages.

%RED%PLEASE NOTE:%ENDCOLOR% This plan has not been completed but is being worked on actively in collaboration with Robert Engel. Take the table below with a grain of salt. 

| *Milestone* | *State* | *Start* | *Target Finish* | *Actual Finish* | *Notes* |
| Create Twiki Web | %NOT_STARTED% | 1-Aug-2011 | 8-Aug-2011 | | |
| Prototype: Worker Node Install |  %NOT_STARTED% | 8-Aug-2011 | 12-Aug-2011 | | |
| Prototype: VOMS Install | %NOT_STARTED% | 15-Aug-2011 | 19-Aug-2011 | | |
| Report: How hard is RPM documentation | %NOT_STARTED% | 22-Aug-2011 | 22-Aug-2011 | | |
| .. | | | | | |

---++ Internal testing framework

This doesn't match the process diagram above because it is not about packaging but testing out packages. 

%RED%PLEASE NOTE:%ENDCOLOR% This plan has not been completed but is being worked on actively. Take the table below with a grain of salt. 

| *Milestone* | *State* | *Start* | *Target Finish* | *Actual Finish* | *Notes* |
| Finish plan | %ON_TRACK% | 1-Aug-2011 | 30-Aug-2011 | | Had productive discussion with Batlab and team members. |
| Batlab provides ability to run VMs | %ON_TRACK% | 4-Aug-2011 | 3-Oct-2011 | | This is an external dependency |
| Test 1 | %NOT_STARTED% | TBD | TBD |  | Scripted but manually invoked test in FermiCloud VM |
| Test N | %NOT_STARTED% | TBD | TBD |  | Expand set of tests |
| Test Batlab | %NOT_STARTED% | 3-Oct-2011 | 10-Oct-2011 | | Run tests on one VM in Batlab |
| .. | | | | | |

---++ Functional Unit: GUMS
<b><div style="background-color: #CC0000; color:white">DEFERRED TO 2012</b></div><br>

We will package GUMS before the end of the year if possible. This is a low priority goal: we will focus on the CE and exclude GUMS if necessary. For the short-term this is acceptable because GUMS can still be installed via Pacman.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %ON_TRACK% |  | | In order to provide the gums-client, Brian has done some builds of GUMS. [[http://jira.opensciencegrid.org/browse/SOFTWARE-42][#42]] |
|2. Internal Testing  |%NOT_STARTED%| | | | |
|3. Fix Known Problems | %NOT_STARTED% | |  | | |
|4a. Documentation  |%NOT_STARTED%| | | | |
|4b. Evaluation  |%NOT_STARTED%| | | | |
|4c. Integration Testing |%NOT_STARTED%| | | | |
|5. Release |%NOT_STARTED%| | | | |

---++ Functional Unit: Gratia Collector
<b><div style="background-color: #CC0000; color:white">DEFERRED TO 2012</b></div><br>

This is a low priority goal: we are not aiming to have progress on it during 2011 unless we have spare time.

| *Milestone* | *State* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
|1. Package  | %NOT_STARTED% | Early 2012? | |  | |
|2. Internal Testing  |%NOT_STARTED%| | | | |
|3. Fix Known Problems | %NOT_STARTED% | |  | | |
|4a. Documentation  |%NOT_STARTED%| | | | |
|4b. Evaluation  |%NOT_STARTED%| | | | |
|4c. Integration Testing |%NOT_STARTED%| | | | |
|5. Release |%NOT_STARTED%| | | | |

%META:FILEATTACHMENT{name="rpm-package-process.png" attachment="rpm-package-process.png" attr="h" comment="" date="1312483797" path="rpm-package-process.png" size="25466" stream="rpm-package-process.png" tmpFilename="/usr/tmp/CGItemp22847" user="AlainRoy" version="4"}%
