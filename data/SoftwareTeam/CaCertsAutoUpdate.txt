%META:TOPICINFO{author="AlainRoy" date="1345129770" format="1.1" reprev="1.1" version="1.1"}%
---+ Possibilities for auto-updating CA Certs in OSG Software 3

---++ Current state; problem

As described in [[https://ticket.grid.iu.edu/goc/12257][GOC Ticket #12257]], CA certificate updates are not as automated as they used to be, and this is causing some sites to fall behind on CA certificate updates. If a WLCG site doesn't update its CA certificates within eight days, it sites may be considered "unavailable".

In OSG 1.2, by default all sites had enabled the =vdt-update-certs= tool, which checks for new CA certificates and downloads them when they are available. It does this outside the normal packaging functions (that is, it doesn't use Pacman or RPM). Almost all of the time, sites updated to the latest CA certificates within 24 hours of its release. 

In OSG 3, this tool is still available (though it is now called =osg-update-certs=), but it is not installed or enabled by default. Instead, sites have to choose to install and enable it. When sites install from RPMs, they have three basic choices. Due to the way RPM packaging works, it is not a good idea to combine these. Instead, one must be chosen.

   1. *Install CA certificates by RPM* <br>This is the current default and if the user makes no choice it is what happens. It matches the RPM philosophy in that everything is installed by RPM and standard tools (=yum= and =rpm verify=) can check versions and consistency of the files. However, many users do *not* do automatic updates for RPMs, but quite reasonably choose to do it at scheduled maintenance times. 
   1. *Install CA certificates with =vdt-update-certs=* <br> This is the automated tool we have provided for a while, but it is not installed by default. If sites choose to use it, they will get automated updates. Due to the way packaging works.
   1. *Install no CA certficiates* <br> Users can choose to manage CA certificates themselves. (Perhaps they are installed on a shared filesystem for use across multiple computers). They do this by installing a single RPM that provides no CA certificates while satisfying the RPM dependencies 
