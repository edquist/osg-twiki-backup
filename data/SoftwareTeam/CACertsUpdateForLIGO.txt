%META:TOPICINFO{author="MatyasSelmeci" date="1323970151" format="1.1" version="1.1"}%
%META:TOPICPARENT{name="InternalDocs"}%
---+ How to give LIGO updated CA certs

This requires a VDT team member.

We have some native packages specially built for LIGO that we keep in a separate repository for them.
We also put a copy of the CA certs into that repository.
Here are the steps to take whenever the CA certs get updated:

   1. Copy the latest osg-ca-certs (not -compat) RPM from our mirror of the osg-development repository (/p/vdt/public/html/repos/3.0/el5/development/i386) to somewhere local.
   1. Get the keychain drive labeled VDT from the Condor lockbox.
   1. Extract Native_Signing/redhat/rpm-signing.tar.gz from the keychain drive.
   1. Run <code>sign_rpm.sh osg-ca-certs*.rpm</code>. You can find out the passphrase from the file =PASSPHRASE=.
   1. Delete the extracted files.
   1. Copy the RPM into all of the SL6 LIGO repos: /p/vdt/public/html/ligo/rpm/{production,testing}/SL6/{i386,x86_64}
   1. On a RHEL6 machine, run /p/vdt/public/html/ligo/rpm/updaterepos-sl6.sh
   1. Put the keychain drive back into the lockbox.

-- Main.MatyasSelmeci - 15 Dec 2011