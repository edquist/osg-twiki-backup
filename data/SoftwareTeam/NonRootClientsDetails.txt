%META:TOPICINFO{author="MatyasSelmeci" date="1359066845" format="1.1" version="1.1"}%
%META:TOPICPARENT{name="InternalDocs"}%
---+!! Non-Root Installs of OSG Client Software (WIP)

%TOC%

---++ Rationale

We currently have a large number of hosts across the osg using the osg client
software installed from pacman or via some other non-rpm mechanism, due to the
requirement that these packages be installable by non-root users.

We must offer an official way of ensuring that these hosts can have up-to-date
versions of the client software. We must do this without creating a separate
distribution, to reduce the maintenance burden. So we should have some way of
leveraging our existing RPMs for this.

Note: in this document, the term "client" includes the worker node client,
since the =osg-wn-client= package is a subset of the =osg-client= package.

---++ Ideas

---+++ Original

   1. Install the client packages, relocated (force-relocated, either with =rpm --badreloc --relocate= or with =yum --installroot=)
   1. Run a script to fix problems caused by this (hard-coded paths, etc.)
   1. Tar up the results

---+++ rpm2cpio

Actually installing the client packages in step 1 of "Original" seems a bit
brittle; we are not sure if we want the post-install scripts to run, for
example. Perhaps we can just extract the files from the rpms instead (via
rpm2cpio) and the run the script and tar up the results.


---+++ additional ?

TODO
