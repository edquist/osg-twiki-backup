%META:TOPICINFO{author="BrianLin" date="1473977280" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="InternalDocs"}%
---+ OSG PKI Overview

%TOC{depth="3"}%

---++ About this Doc

This document serves as a high-level overview of how users can interact with OIM and in turn, how OIM manages and forwards those interactions to OSG's CILogon CA.

---++ Overview

---+++ Clients

OIM provides a [[http://confluence.grid.iu.edu/display/CENTRAL/OIM+Rest+API+Guide][REST API]] that users can interact with through the [[http://oim.opensciencegrid.org][web interface]], the [[http://oim-itb.opensciencegrid.org][ITB web interface]], or the [[https://github.com/opensciencegrid/osg-pki-tools][OSG PKI tools]] (henceforth referred to as _clients_). Clients are responsible for sending properly formatted calls to the API and handling the responses. 

If the client sends an improperly formatted call (i.e. a bug), OIM should return a failure response.

---+++ OIM

OIM acts as the filter for incoming client calls: it verifies client calls (e.g. VO must be specified for host cert requests for domains that support multiple VOs ) and ensures sufficient authorization (e.g. Does the user have !GridAdmin privileges for the requested domain to approve the certificate?). Certificate issuances or revocations are forwarded onto CILogon while all other calls are used to manage certificates within OIM.

---+++ osg-gridadmin-cert-request

<img src="%ATTACHURLPATH%/osg_gridadmin_cert_request.png" alt="osg-gridadmin-cert-request" width="400" length="400" /> 

---++ Resources

   * [[http://confluence.grid.iu.edu/display/CENTRAL/OIM+Rest+API+Guide][OIM REST API]]
   * [[https://docs.google.com/document/d/1wGyV_P-oH3A26YvCtVwVYjW1suovjighCz6XN5VidJM/edit#][CILogon OSG CA Design Doc]]

%META:FILEATTACHMENT{name="osg_gridadmin_cert_request.png" attachment="osg_gridadmin_cert_request.png" attr="" comment="" date="1473977222" path="osg_gridadmin_cert_request.png" size="22356" stream="osg_gridadmin_cert_request.png" tmpFilename="/usr/tmp/CGItemp17914" user="BrianLin" version="5"}%
