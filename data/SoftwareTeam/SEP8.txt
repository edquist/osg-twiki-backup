%META:TOPICINFO{author="ArvindGopu" date="1271355755" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="SEPIndex"}%
---+  Software Enhancement Proposal 8: Move ITB caches to Software-ITB Server

| *SEP* | 8 |
| *Title* | Move ITB caches to Software-ITB Server |
| *Comment Period Ends:* |  -  |
| *Last Modified:* | 2010-04-15 | 
| *Created:* | 2010-04-14 |
| *Author:* | ArvindGopu |
| *Status:* | Handed over to ITB for further discussion |
| *Type:* | Process |

---++ Motivation

For a long time, the GOC has wished for the ITB testers to use an ITB server instead of an itb/ directory on the production software cache server to retrieve ITB pacman data. The ITB team has now agreed to move forward with this proposal. We have been asked to lay out the steps this will entail. I expect the process to be fairly simple though the transition for existing ITB installations may need to some tweaking? 

*GOC Reference*: JIRA tickets SOFT-4 (and SOFT-3 specifically for the CA Distribution testing)

---+++ Details

Right now ITB testers use this URL: http://software.grid.iu.edu/itb to get the ITB cache data. This has several drawbacks including:

1) This restricts the ITB to only be able to test the latest OSG version; for example, in the past several months http://software.grid.iu.edu/itb represents the ITB version of the OSG 1.2.x cache. 
 - There is no way for the ITB to test changes to OSG 1.0.x tree.

2) This restricts the ITB from testing CADistribution changes (See related ticket SOFT-3) since http://software.grid.iu.edu/cadist represents only the production CA distribution; 
 - Ditto with the YUM and APT repos held at http://software.grid.iu.edu/yum and http://software.grid.iu.edu/apt

3) ITB is unable to seamlessly test changes to the VO-package.

4) The GOC has to touch the production software cache (servers: software1 and software2 fronted by DNS RR entry software) anytime the ITB cache needs to be updated.


---++ Proposed Change

Starting from the next round of ITB testing (I believe this will correspond to OSG 1.2.21), we would like the ITB testers to use the software-itb server. Benefits include:

a) Getting around all of the problems listed above
b) Having uniform URLs for various pieces of software. For example:
 (1) The production URL for the OSG 1.0.x cache is http://software.grid.iu.edu/pacman
  -- The ITB URL would be http://software-itb.grid.iu.edu/pacman
 (2) The production URL for the OSG 1.2.x cache is http://software.grid.iu.edu/osg-1.2
  -- The ITB URL would be http://software-itb.grid.iu.edu/osg-1.2
 (3) The production URL for the CADist (got via pacman) is http://software.grid.iu.edu/cadist
  -- The ITB URL would be http://software-itb.grid.iu.edu/cadist
 (4) The production URL for the CADist (got via YUM) is http://software.grid.iu.edu/yum
  -- The ITB URL would be http://software-itb.grid.iu.edu/yum
 (5) The production URL for the CADist (got via APT) is http://software.grid.iu.edu/apt
  -- The ITB URL would be http://software-itb.grid.iu.edu/apt


---++ Expected Impact
   * A change in procedures for the ITB team to use when they test various pieces of OSG software; and for the GOC to handle ITB update requests separately on the ITB server.
      * Addition of standardized mechanisms to test things that are not being tested using *standard operating procedures* right now by the ITB (example: OSG 1.0.x cache, VO-package, etc.)
   * A one-time change to the documentation, configuration of the vdt-update-certs process, and other applicable install scripts to point to the software-itb server.


---++ Affected Communities

ITB, GOC, Security Team

---++ Minimum Time for Public Discussion

? ASAP?!

---++ Questions

   1. ?

-- Main.ArvindGopu - 14 Apr 2010