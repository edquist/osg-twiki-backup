%META:TOPICINFO{author="TimCartwright" date="1375472550" format="1.1" reprev="1.1" version="1.1"}%
---++ Subversion

Old:

<pre class="screen">
branches
tags
trunk
upcoming
</pre>

New:

<pre class="screen">
attic
branches
osg-3.1
osg-3.2
upcoming
</pre>

To populate osg-3.2 initially: =svn cp= all of osg-3.1, then =svn rm= the directories that we do not want to carry over into 3.2 with a commit message explaining that.

Implementing the cutover: Best to let people know in advance and schedule the changes. However, if someone has uncommitted changes in, say, =trunk=, after the change, they can run =svn switch osg-3.1= to re-base the working directory.

Will affect OSG Software internal documentation a little bit; generally, search for old directory names.

---++ Yum

Old (under =http://repo.grid.iu.edu=):

<pre class="screen">
3.0/
3.0/el5/
3.0/el5/osg-contrib
3.0/el5/osg-development
3.0/el5/osg-release
3.0/el5/osg-testing
3.0/el5/osg-upcoming-development
3.0/el5/osg-upcoming-release
3.0/el5/osg-upcoming-testing
3.0/el6/
...
osg-el5-release-latest.rpm -> 3.0/el5/osg-release/i386/osg-release-xxxxx.rpm
osg-el6-release-latest.rpm -> 3.0/el6/osg-release/i386/osg-release-xxxxx.rpm
</pre>

New:

<pre class="screen">
3.0/
3.0/el5/
3.0/el5/osg-contrib -> ../../osg/3.1/el5/contrib
...
osg/3.1/
osg/3.1/el5/
osg/3.1/el5/contrib
osg/3.1/el5/development
osg/3.1/el5/release
osg/3.1/el5/testing
osg/3.1/el6/
...
osg/3.2/
osg/3.2/el5/
osg/3.2/el5/contrib
osg/3.2/el5/development
osg/3.2/el5/release
osg/3.2/el5/testing
osg/3.2/el6/
...
osg/upcoming/
osg/upcoming/el5/
osg/upcoming/el5/contrib
osg/upcoming/el5/development
osg/upcoming/el5/release
osg/upcoming/el5/testing
osg/upcoming/el6/
...
osg-el5-release-latest.rpm -> osg/3.1/el5/release/i386/osg-release-xxxxx.rpm
osg-el6-release-latest.rpm -> osg/3.1/el6/release/i386/osg-release-xxxxx.rpm
osg-3.1-el5-release-latest.rpm -> osg/3.1/el5/release/i386/osg-release-xxxxx.rpm
osg-3.1-el6-release-latest.rpm -> osg/3.1/el6/release/i386/osg-release-xxxxx.rpm
osg-3.2-el5-release-latest.rpm -> osg/3.2/el5/release/i386/osg-release-xxxxx.rpm
osg-3.2-el6-release-latest.rpm -> osg/3.2/el6/release/i386/osg-release-xxxxx.rpm
</pre>

---+++ Implementation

New directory structure is manually created on the yum repository host down to the individual repository (e.g., development). Soichi will have to do this at =repo.grid.iu.edu= host, then the mirrors should pick up the new structure. We might want to schedule explicit re-mirroring times at first.

Also, Soichi will need a new script (possibly) to pull from the koji server. We should offer to help with this.

---+++ Other Consequences

   * Internal documentation?
   * Certainly external documentation
   * Must change osg-release

---++ osg-build

   * Change osg-build to understand new Subversion directory layout — e.g., checks for doing Upcoming builds from =upcoming=
