%META:TOPICINFO{author="TimCartwright" date="1380301872" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="InternalDocs"}%
---+ Software Development Process

This page is for the OSG Software team and other contributors to the OSG software stack. It is meant to be the central source for all development processes for the Software team. (But right now, it is just a starting point.)

---++ Testing a Package in Development

Before promoting a package to a testing repository, each build must be tested lightly to make sure that it is not completely broken, thereby wasting time during acceptance testing. Normally, the person who built the package performs the development testing.

<span style="color: #F60;">If you are not doing your own development testing for a package,</span> contact the Software Manager and/or leave a comment in the associated ticket; otherwise, your package may never be promoted to testing and hence released.

---+++ The “Standard 4” Defined

In most cases, the Software Manager will ask a developer to perform the “standard 4” tests on a package before promotion. This is a shorthand description for a standard set of 4 test runs:

   * Fresh install on el5
   * Fresh install on el6
   * Update install on el5
   * Update install on el6

An “update install” is a fresh install of the relevant package (or better yet, metapackage that includes it) *from the production repository*, followed by an update to the new build *from the development repository*.

For each test run, the amount of functional testing required will vary.

   * For very simple changes, it may be sufficient to verify that each installation succeeds and that the expected files are in place
   * For some changes, it may be sufficient to run osg-test on the resultant installation
   * For some changes, it will be necessary to perform careful functional tests of the affected component(s)

If you have questions, check with the Software Manager to determine the amount of testing that is required per test run.

---++ Promoting a Package to Testing

Once development testing is complete, follow these steps:

   1. Make sure the package update has at least one associated JIRA ticket; if there is no ticket, at least create one for releasing the package(s)
   1. Obtain permission to promote the package(s) from the Software Manager; he will likely ask for the associated ticket and about development testing
   1. Use =osg-promote= to promote the package(s) from development to testing
   1. Add a comment to the associated JIRA ticket(s) with the NVR of the build(s) and, if you know, suggestions for acceptance testing
   1. Mark each associated JIRA ticket as “Ready For Testing” and set the Assignee to “Unassigned”
