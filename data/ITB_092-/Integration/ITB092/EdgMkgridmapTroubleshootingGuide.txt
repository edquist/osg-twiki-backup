%META:TOPICINFO{author="KyleGross" date="1193838957" format="1.1" version="1.10"}%
%META:TOPICPARENT{name="DocumentationTable"}%
---+!! *<nop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%

%STARTINCLUDE%
%BR%
---+ _%INCLUDEHEADING%  %SPACEOUT{ "%TOPIC%" }%_
%EDITTHIS%
%BR%

---++ Introduction
This document is intended to provide some assistance in troubleshooting problems  related to use of the =edg-mkgridmap= script and =edg-makegridmap-upgrade= daemon used to maintain  the CE/gatekeeper node grid-mapfile based members pulled from the various VOMS servers.

%RED%This is only for grid-3 and compatibility authorization then, not for full privilege?  Please state explicitly in the intro text. %ENDCOLOR%

This does not address retrieval of members from LDAP servers.


---++ Error code 64
This type of error generally occurs when the VOMS server cannot find the requested group or subgroup.  Contact with the VOMS server was made and it is really a 'not found' type error.  It is caused by a bad entry in the =edg-mkgridmap.conf= file.

The example below is attempting to access all members of  the uscms VO belonging to the /uscms/production group.

Configuration file =VDT_LOCATION/edg/etc/edg-mkgridmap.conf= entry:<br>
<pre class="programlisting">
 group vomss://voms.fnal.gov:8443/voms/uscms/production uscms01
</pre>

Command run on CE node:
<pre class="screen">
 > <b>source $VDT_LOCATION/setup.(c)sh </b>
 > <b>cd $VDT_LOCATION/edg/sbin </b>
 > <b>./edg-mkgridmap </b>
   <i>... output....
  voms search(https://voms.fnal.gov:8443/voms/uscms/production/services/VOMSAdmin?method=listMembers): /voms/uscms/production/services/VOMSAdmin

   Exit with error(s) (code=64)</i>
</pre>

On the VOMS host you are attempting to access, the following error can be seen in the =TOMCAT_LOCATION/logs/voms-admin.VO_NAME.log=

<pre class="programlisting">
2005-05-26 15:51:04,003 INFO  [Ajp13Processor[8892][1]]  Connection from "131.225.82.73" by 
        /DC=org/DC=doegrids/OU=Services/CN=ce_host (serial 4511) -  service.InitSecurityContext
2005-05-26 15:51:04,004 INFO  [Ajp13Processor[8892][1]]  listMembers ("/uscms/production") -  admin.VOMSAdminSoapBindingImpl
2005-05-26 15:51:04,013 ERROR [Ajp13Processor[8892][1]]  org.edg.security.voms.service.NotInDatabase: 
       Not in database: group "/uscms/production" -  connection.Database
 </pre>

%STOPINCLUDE%
%BR%
%COMPLETE1% %BR%
%RESPONSIBLE% Main.RobGardner - 18 Oct 2007 %BR%
%REVIEW%

<!-- Main.JohnWeigand - 26 May 2005 %BR%
Main.JohnWeigand - 13 Jan 2006  %BR%
 Main.RobQ - 01 May 2006  %BR%
-->

%META:TOPICMOVED{by="ForrestChristian" date="1166047098" from="Integration.EdgMkgridmapTroubleshootingGuide050" to="Integration/ITB_0_5.EdgMkgridmapTroubleshootingGuide"}%
