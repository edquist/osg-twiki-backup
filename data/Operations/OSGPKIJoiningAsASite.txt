%META:TOPICINFO{author="VonWelch" date="1350572300" format="1.1" reprev="1.3" version="1.3"}%
This page is intended to provide guidance to sites who wish to use the OSG PKI. It is not intended for sites that are joining to become part of an [[https://oim.grid.iu.edu/oim/vo][existing OSG VO]] - such sites should coordinate with that VO.

*Table of Contents*
%TOC%

---++ Preliminary Decisions

   1 All entities using the OSG PKI are registered as Virtual Organizations (VOs). Examine the [[https://oim.grid.iu.edu/oim/vo][list of current OSG VOs]] and ensure your site doesn't already appear. (If it does, you want to contact the individuals listed under Contact Information for the VO in the list and discuss the situation with them. You probably just want to integrate your needs with the current registration.)
   1 Decide if you need user certificates, host/service certificates or both.
      1 If you need to issue user certificates, you will need to enroll one or more Registration Authority Agents. 
      1 If you need to issue host/service certificates, you will need to enroll one or more Grid Admins. Consider what domains (e.g. 'example.edu') the hosts for which you will be issuing certificates will reside in. You will need to provide this list of domains when you enroll and additions will involve another request (i.e. the list is restrictive in that you cannot issue certificates outside of it).
   1 Select who will be the primary registrant for your site with OSG. This will probably be a senior technical person who will act as the point of contact between your site and the OSG. The remainder of these directions are intended to be completed by that registrant.

---++ Obtain an X.509 User Certificate and Import it into Browser

To perform registration the registrant will need an X.509 certificate from an [[http://igtf.net/][IGTF-approved CA]] loaded into their browser such that they can perform client authentication. A DOE Grids PKI certificate will work.

If you do not have a certificate, you can [[https://oim.grid.iu.edu/oim/certificaterequestuser][obtain one from OSG]] - select the MIS VO as your VO for this purpose.

[[https://confluence.grid.iu.edu/pages/viewpage.action?pageId=3244066][Directions for importing your OSG certificate into your browser]].

---++ Register in OSG Information Management system (OIM)

Once you have a certificate loaded into your browser, the next step will be to register yourself in the OIM.

   1 Visit https://oim.grid.iu.edu/
   2 Click on "Login" in the upper right.
   3 Complete the registration. Please see [[https://twiki.grid.iu.edu/bin/view/Operations/OIMRegistrationInstructions#Registering_Yourself][details on registering yourself on OIM]] if you want assistance.

---++ Registering as a OSG Virtual Organization (VO)

Once you personally are registered with OIM, you may register your site as a Virtual Organization. This is a two-step process. First you register as a Support Center, this allows OSG to assign any support tickets to you that may arise during your use of the PKI. Then you request a Virtual Organization be added. This latter set will require manual approve, so please expect a few business days for it to complete.

---+++ Registering a Support Center

A prerequisite to registering as a VO is to register as a Support Center.  Support Centers -- large or small -- in OSG are charged with creating, receiving, and responding to trouble tickets from the OSG Grid Operations Center (GOC). This will allow the GOC to assign you tickets related to your role as a RA/GA in OSG's PKI.

To register a new support center:
   1 Click on the [[https://oim.grid.iu.edu/oim/sc][Support Centers]] in OIM.
   2 Then click on [[https://oim.grid.iu.edu/oim/scedit][Add new Support Center]] on the right hand side.
   3 Complete the registration form. Guidance on completing the form can be found in the [[https://twiki.grid.iu.edu/bin/view/Operations/OIMRegistrationInstructions#Support_Center_Registration][OIM Registration instructions]].


XXX External Assignment ID.

---+++ Requesting a VO

   1 To request the addition of a new Virtual Organization in OSG to represent your site, please visit the [[https://oim.grid.iu.edu/oim/vo][OSG VO Page]] and select "Add New Virtual Organization"

---++ Enrolling as a Registration Authority Agent

---++ Enrolling as a Grid Admin





-- Main.VonWelch - 15 Oct 2012
