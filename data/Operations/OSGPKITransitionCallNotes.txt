%META:TOPICINFO{author="VonWelch" date="1335881610" format="1.1" reprev="1.21" version="1.21"}%
%META:TOPICPARENT{name="DigiCertPlanningDevAndImplementation"}%
---+ 1 May 2012

Previous Action Items:
   * Von and others to review Keith's new documents
      * Jim has done so.
   * Von to review DN transition document and get back to Jim with next steps.
      * Done, changes pending.
   * Von and Greg to take up question of adding DN to certificate request so we don't have to have it right in CSR (for use case 2)
      * Jeremy did this.
   * Von to take first pass at assigning personnel to Project Plan
      * Pending      
   * Von to write up policy and reasons on in-server key generation.
      * Pending
   * Von to review RA Training Plan
      * Done

Agenda:
   * Action items
   * New document: Analysis of DOE Grids PKI issuance
      * [[https://twiki.grid.iu.edu/twiki/pub/Operations/DigiCertPlanningDevAndImplementation/OSG-certificate-usage-analysis-2.docx][Analysis of DOE Grids PKI certificate issuance v2 (word)]]
      * [[https://twiki.grid.iu.edu/twiki/pub/Operations/DigiCertPlanningDevAndImplementation/OSG-certificate-usage-analysis-2.pdf][Analysis of DOE Grids PKI certificate issuance v2 (pdf)]]
   * What's left to do?


---+ 24 April 2012


New Action Items:
   * Von and others to review Keith's new documents
   * Von to review DN transition document and get back to Jim with next steps.
   * Von and Greg to take up question of adding DN to certificate request so we don't have to have it right in CSR (for use case 2)

Previous Action Items:
   * Von to take first pass at assigning personnel to Project Plan
      * Pending
   * Jim to write up DN Migration Plan with manual authorization at VOMS
      * DONE; this document may be done - could dig more into implementation details and survey VOs on practices.
   * Von to ping Keith C. as we haven't heard from him re Contingency Plan in a couple of weeks.
      * DONE, Keith has sent new document to list.
   * Von to write up policy and reasons on in-server key generation.
      * Pending
   * Von to review RA Training Plan
      * Pending

Agenda:
   * Review use cases: https://docs.google.com/document/d/1-noGy__JKaXP218k3jxtlbl--iuOUCNarL5vBDbxbSk/edit
      * Why not register user in OIM as soon we get the user's contact information? Do we need to make sure the user gets their certificate first?
      * Renewal - don't revoke old certificate on renewal.
      * Renewal - should just re-key; getting new certificate into browser is part of it. Requires new use case for user-supplied CSR.
      * New ticket for each renewal instead of opening new ticket? Some VOs are interested in renewals.
      * Tag tickets differently for requests and renewals for each searching.

---+ 17 April 2012

Decisions:
   * Carry the 50 cert/day limit forward for bulk certificate requests.
   * We will do manual re-authorization at VOMS (no automated population of new DNs)

Action Items:
   * Von to take first pass at assigning personnel to Project Plan
   * Jim to write up DN Migration Plan with manual authorization at VOMS
   * Von to ping Keith C. as we haven't heard from him re Contingency Plan in a couple of weeks.
   * Von to write up policy and reasons on in-server key generation.
   * Von to review RA Training Plan

Agenda:
   * Report on action items:
      * Von and Chander to group tasks to match project plan (pending Von)
         * Tasks now grouped into the following to match Chander's plan: Deployment and Development Plan, Training Plan, Communications Plan, Transition Plan, Contingency Plan, DigiCert Agreements
         * Next step: We need to assign a primary owner for each task and then work with that owner to get intervals for each task.
      * Jim and Von to talk to WLCG VOMS admins to determine policies on pre-loading (in progress)
      * Von to ping Keith C. as we haven't heard from him re Contingency Plan in a couple of weeks.
      * Von, Jeremy and Soichi to address use case of  Grid Admin making authenticated CLI host request.
   * Training plans (Mine)
      * https://opensciencegrid.org/bin/view/Security/DigiCertTrainingPlan
   * Architecture documents (Jeremy/Soichi)
      * [[https://docs.google.com/document/d/1nwBRMoOBP0GbQx0d2ag_JibmkSt5AHCwW6fo4ghIBSY/edit][OIM Certificate Management System Design]]
         * Good Use Cases and Feature Matrix
         * Von went through and commented on, topics to discuss:
            * Sponsors
               * Alain D: VO-manager will provide list of Sponsors for VO, most of the time. Sponsors not formally agreeing to something. They preferably have a DOE Grids Cert. An non-user can act as a sponsor, if need be.   
               * Sponsors do not have authority to issue certificates. 
            * Un-checked Grid Admin requests - concerns Von re typo on CLI app
               * Tony: GA must create a file with N hostnames.
               *  Alain R: Has made a mistake with N wrong hostnames.
               * Tony: This is part of what the 50 cert/day limit enforced - would spread requests out over multiple days. 
               * Decision: Carry the 50 cert/day limit forward.
         * Notes:
            * In-browser vs In-server key generation.
            * Jim: has had an extensive discussion with TAGPMA in CILogon, they were OK with it, so far users seem to like it. No bad experiences so far.
            * In-browser was number 1 complaint at March'12 AHM.
            * *Action Item*: Von to write up a page on this. Need to consider sustainability to make sure future maintenance doesn't break things.
      * [[https://docs.google.com/document/d/1EZJMyEfdS5Ye7lLyaJxWpr-MV-PpX-LsVRUQRTfSC-A/edit][PKI Project Architecture Outline]]
   * Contingency plans (Keith C.)
      * Document in email
      * Von pinged Keith this morning
   * DN change plans (Jim B.)
      * https://twiki.grid.iu.edu/bin/view/Security/DOEGrids2DigiCertDNTransition
      * Users must sign AUP in VOMRS every year, so pre-populating won't save users from visiting VOMRS; will save VOMS admin from approving new DN.
      * Anthony: pre-populating doesn't buy him anything.
      * Pre-population not a clear win over manual approval, especially given re-vetting is required.
      * Any VOs besides ATLAS and CMS we need to consider? GLOW has 12-20 users, would be more work, Engage has 70 users.
      * Housecleaning is benefit of manually.
      * Decision: We will do manual revetting at VOMS.
      * *Action Item*: Jim will write up pan for manual method (add DN to existing VOMS account).
      * Still see much value in GUMS supporting multiple users - expect both DNs to be in system for jobs in flight, and data access (CMS T1 do DN->userid mapping).
   * Report on OSG Certificate needs (Von)
      * Based on analysis of queries to http://pki1.doegrids.org/ca/srchCert.html
      * 3,800 People certificate and 11,500 Host certificates (up from 2,500 and 6,000)
      * Seems to be increasing 10% per year
      * About 10-20% of certificates seem to be duplicate by DN - assuming re-issuances.
   * !DigiCert contracts and agreements (Von)
      * https://twiki.grid.iu.edu/bin/view/Operations/DigiCertAgreements
   * Project Planning (Chander)
      * https://twiki.grid.iu.edu/bin/view/Operations/OSGPKIProjectWBS
   * Other items?

---+ 10 April 20120

Action items:
   * Von and Chander to group tasks to match project plan (pending Von)
   * Jim and Von to talk to WLCG VOMS admins to determine policies on pre-loading (in progress)
   * Von to ping Keith C. as we haven't heard from him re Contingency Plan in a couple of weeks.
   * Von, Jeremy and Soichi to address use case of  Grid Admin making authenticated CLI host request.
      
  
Agenda:
   * Report on action items:
      * Jim and Von to talk to WLCG VOMS admins to determine policies on pre-loading.
         * Conversation initiated.
      * Von and Chander to group tasks to match project plan
   * First stab at training plans: https://opensciencegrid.org/bin/view/Security/DigiCertTrainingPlan (Mine)
   * Design discussion report out (Von)
      * Soichi, Jeremy, Von
      * Users may legitimately have multiple certificates(?) - impacts duplicate detection.
        * Rob Q. confirms - users in multiple VOs.
      * Change: RA agents will not be able to approve Host/Svc certificates
         * Alex: Not going to be easy to have representatives from each domain, allow for delegation from authority.
      * Client-side authn for host scripts? No - Do we want CLI for anything besides host certificates - No.
         * Scripts currently ask for a personal certificate before generating CSR
         * cert-grid-admin - from OSG distribution, does authentication
         * then is another set of scripts that doesn't do authentication - cert-request.
         * Jeremy's script is called - will report.
         * Site admin may submit requests - and then Grid Admin must approve
         * Most of the time Site Admins are also Grid Admins, in that case an authenticated request from a Grid Admin does not need subsequent approval.
      * Matrix of supported features
         * This is in the system design doc: OIM Certificate Management System Design
      * Every request has to be approved by an RA Agent or Grid Admin
         * And not automated.
     * If we're going to have a CLI to generate a CSR, why not just have it do submission, why bring a web browser into it at all?
     * What are the packaging assumptions on what users have installed?
        * Table this for when Alain R.
   * New versions of architecture documents (Jeremy/Soichi)
      * PKI Project Architecture Outline: https://docs.google.com/document/d/1EZJMyEfdS5Ye7lLyaJxWpr-MV-PpX-LsVRUQRTfSC-A/edit
      * OIM Architecture Model: https://docs.google.com/document/d/1nwBRMoOBP0GbQx0d2ag_JibmkSt5AHCwW6fo4ghIBSY/edit
         * Current host certificate quota per day is 50/day
            * Tier One - glexec could require more host certificates - not in the near future.
         * OIM will have regex
   * Contingency plans (Keith C.)
      * Keith not on call.
      * Is this a separate task now under the security team? No.
   * DN change plans (Jim B.)
      * Pending discussion with ATLAS and VOMS admins.
   * DigiCert contracts and agreements (Von)
   * Other items:
      * CMS will suggest users convert as soon as possible. Will users need to be vetted the first time? Yes.

---+ 3 April 2012

AI: Jim and Von to talk to WLCG VOMS admins to determine policies on pre-loading.

AI: Von and Chander to group tasks to match project plan
   * Spend a few minutes on the technical plan - figure out what is high priority (needed by other parts)
   * Can we knock of the REST API design, as that seems simpler.

Agenda:
   * Contingency plans (Keith C.)
      * Latest draft on March 14th, Von comments on March 28th
   * DN change plans (Jim B.)
      * https://twiki.grid.iu.edu/bin/view/Security/DOEGrids2DigiCertDNTransition
      * Von asks: I suspect we'll be in a world with inconsistent GUMS deployment, can we handle that?
      * Alain: OSG 1.0 hasn't been supported in over a year and there are still a handful of sites running this.
      * It takes a long time to get everyone to upgrade.
      * Suspects a lot of sites will be willing to upgrade, still it will take months. LHC sites in production will be reluctant. Will need to think about how to make it as easy as possible.
      * Not sure there has been a non-security issue where software was pushed hard.
      * Believe we've done that with Gratia?
      * Will using the old GUMS with multiple DNs break things? We don't know. This will probably cause problems.
      * Can we have multiple VOMS accounts? One per DN
      * They are not equivalent.
      * Downside to "manual changeover" - GUMS queries VOMS 4x/day - so there is a lag
      * Tony: if you talk to CMS and ATLAS, they use VOMS in WLCG; not a big issue for CMS, they can update GUMS responsively.
      * Unit of transition is individual.
      * Having jobs in flight using proxies requires multiple DNs in VOMs.
      * Tony: suspect we need a 1-2 month window to get sites to upgrade. We think this is relatively easy for the 80% of LHC.
      * Option (A): everyone updates GUMS, add new DNs to existing VOMS accounts, nice and smooth
      * Option (B): add new VOMS accounts with new DNs in advance, existing account mappings could be broken - would need to explore specific account mappings
      * Option (C): once user gets their DigiCert certificate, they need to go to VOMS-Admin, VOMRS and register their new DN. May also require manual operation by VOMS administration, will require approval (Tony: yes, it will require approval).
      * Tony: Don't know we can get WLCG to pre-populate pre-existing DNs
      * Have VOs pick the option they desire? Can this be per-VOs choice?
      * Who is WLCG POC? Marty Pena (Tony will send me contact information) for CMS VOMS server.
      * Could put a temporary OSG VOMS server?
   * DigiCert contracts and agreements (Von)
      * https://twiki.grid.iu.edu/bin/view/Operations/DigiCertAgreements
      * Von has reviewed, call with DigiCert postponed until tomorrow (Apr 4)
      * Question about Sponsor registration - required?
      * Can we make the RA agreements less legalese
      * Master Agreement looks OK
      * RPS needs some tweaks to remove old cyrptographic module language
      * Does it require collection of PII to add Agent? FNAL has a problem with that.
   * OSG RA/Grid Admin training plan (Mine)
   * Project Planning (Chander)
      * https://twiki.grid.iu.edu/bin/view/Operations/OSGPKIProjectWBS

---+ 27 March 2012

Attending: Jeremy, Von, Jim, Alex, Chander, Alain D., Anthony, 

Action items:
   * Von to review latest version of Keith's contingency plan
   * Jeremy to post initial version of design document to email list later this week.
   * Von and Soichi to review Jeremy's document and comment

Agenda:
      * Contingency plans (Keith C.)
         * New version sent out March 14 - anyone had a chance to reivew?
         * AI: Von to review
      * DigiCert RAA vetting process (Jim B.)
         * Standards DigiCert process - Scott checked Jim's photo ID and then Jim digitially signed agreement. Then Jim was able to do Von and Mine.
         * How will this relate to our DigiCert?
         * Would prefer signed email and shorter agreement.
      * DN change plans (Jim B.)
         * Take advantage of new feature in GUMS where we can associate multiple DNs with users
         * If we can predict DigiCert DNs, then we can load those into GUMS ahead of time
         * Puts a strong dependency for us on new GUMS work - John Hoover is spreadheading this.
         * AI: Jim to ping John (and Alain R.) let them know about our dependency, ask for updates, and ask for current timeline.
      * DigiCert contracts and agreements (Von)
         * New versions of all agreements received from DigiCert, haven't had a chance to review: https://twiki.grid.iu.edu/bin/view/Operations/DigiCertAgreements
         * Goal is to turn them around these around in the next week.
         * DigiCert Grid CA is now issuing 30-day CRLs
      * New JIRA Issue: We handle click-through or delegate to DigiCert? (Von)
         * https://jira.opensciencegrid.org/browse/OSGPKI-5
         * In general seems like we should just undertake doing these things.
      * Design updates (Jeremy)
         * High-level design - initial version by 3/23, final version by 3/30: This is a short 2-3 document giving the high-level components of the front end, and also discussing any other components we will be producing (e.g., a new bulk host request script). The major thing this document will do is lay out the big decisions in terms of what software we'll leverage, e.g., OIM, or what is undecided, e.g. we'll need some library here to do REST calls. The initial version gets circulate for comment and then finalized by 3/30.
         * Components designs - initial versions by 4/17, finalized by 5/1. For each component, a ~4 page document describing what it will do, what it's requirements are, what it will interact with, and how we'll go about about developing it. Initial versions by 4/17 gives two weeks for comments and discussions and finalized by the 5/1 end of the planning phase. My expectation is we'd follow a MVC approach, so would have documents for the GUI, the database, and the controller logic (which would perhaps include interacting with DC or perhaps that would be another component), plus a document on the client script changes.
         * Almost got basic design document done, included Soichi work, plans to send to list tomorrow or Thursday. 40k ft view.
         * AI: Von and Soichi to review when it comes out.
      * Discussion of key generation options - user vs OSG (Soichi)
         * https://jira.opensciencegrid.org/browse/OSGPKI-3
         * DOE Grids site used browser generation of key pair, this create some support problems
         * Three ways to generate keys: (1) in browser (via Javascript or HTML5); (2) command line and paste CSR; (3) in the server
         * IE not going to support HTML5
         * Proposal is to support server-side generation.
         * Bulk-host certificate request: limits on request and per-day
         * Von's proposal is we support sever-side key generation for user certificates, with CSR-pasting as a secondary option.
         * Soichi says adding CSR-form isn't much work
         * Host certs are done primarily from the command-line today.
         * Do we need a web interface at all for host certificates? Sites with small number of hosts.
      * OSG RA/Grid Admin training plan (Mine/Von)
         * Mine not on call, Von to follow up off-list


---+ 19 March 2012

No call due to OSG AHM.

---+ 13ç March 2012

Attending: Mine, Rob, Jeremey, Greg, Anthony, Chander, Alain, ...I'm sure I'm missing a few

Agenda:
   *  New email list, please subscribe if you want agendas for these calls and other announcements:
      * OSG-PKI-TRANSITION@OPENSCIENCEGRID.ORG
      * To subscribe send email to listserv@fnal.gov with contents:
=SUBSCRIBE OSG-PKI-TRANSITION@opensciencegrid.org FIRSTNAME LASTNAME=
   * Von take aways with Mar 7 call with Area Coodinators:
      * Currently public cert requiest scripts are poorly maintained, it would be nice if maintenance could be addressed in our support plans
      * Brian B. would be a good source of friendly users
      * Brian B. will contact Von for a host certificate to play with
   * Short Updates:
      * Contingency plans (Keith C.)
      * DN change plans (Jim B.)
         * New version of GUMs that will suport multiple DNs per user that will help.
      * DigiCert contracts and agreements (Von)
         * Nothing to report, Aaron just had child
      * OSG AHM presentation (Von)
         * Presentation next Monday at AHM
      * Design updates (Jeremy)
         * Make a version the CLI script that behaves exactly
         * We think main use is for bulk host generation
         * People write wrapper around VDT script - multi-cert-request script - this script is broken
         * CMS sites use certify - because they ran into issues with VDT software - https://www.racf.bnl.gov/experiments/usatlas/griddev/certify
         * Run interface by osg-sites
         * Can we just have a web-browser script that produces a tarball?
         * Philosophy is to replicate what DOE Grids PKI does by default unless we have good reason.
   * Discussion of key generation options - user vs OSG (Soichi)
      * Deferred, Soichi on PTO
   * No call on March 19th due to AHM

---+ 6 March 2012

Attending: Von, Greg L., Jeremy, Anthony, Jim B., Burt, Alain Roy, Alex, John V., Soichi, Rob, Ruth, Mike H.

Action items:
   * Von to follow up with Anthony re their HTTPS needs

Agenda:
   * Overview, update and Q&A (Von)
      * Timeline delay
      * Question from Alain about long-term ownership of software we are going to develop. Answer is OSG will own this software and we need to plan for this long-term support.
   * Update on DN transition (Jim)
      * https://opensciencegrid.org/bin/view/Security/DOEGrids2DigiCertDNTransition
      * Three impacts:
         * DNs in VOMS
         * DN of VOMS servers and voms files
         * Local account mapping
      * Web server certificates will be moving to InCommon certificate
         * InCommon will only provide opensciencegrid.org, VOMS are run by VOs and will not be under opensciencegrid.org
      * Alain uses a small number of certificates for the build system.
   * Update on front-end design (Jeremy & Soichi)
      * Meeting notes from 3/1 meeting: https://twiki.grid.iu.edu/bin/view/Security/March12012PKIMeetingNotes
      * Looking at existing OSG scripts to figure out what is currently in use.
      * Alain concerned about us making choices that are sustainable.
   * Other business.
   * Next week we go to our standing number:
      * Phone Number: (800) 940-6112 or (812) 856-3600
      * Participant PIN: 001174# 
