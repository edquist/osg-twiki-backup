%META:TOPICINFO{author="VonWelch" date="1334087041" format="1.1" reprev="1.14" version="1.14"}%
%META:TOPICPARENT{name="DigiCertPlanningDevAndImplementation"}%
---+ 10 April 20120

Action items:
   * Von and Chander to group tasks to match project plan (pending Von)
   * Jim and Von to talk to WLCG VOMS admins to determine policies on pre-loading (in progress)
   * Von to ping Keith C. as we haven't heard from him re Contingency Plan in a couple of weeks.
   * Von, Jeremy and Soichi to address use case of  Grid Admin making authenticated CLI host request.
      
  
Agenda:
   * Report on action items:
      * Jim and Von to talk to WLCG VOMS admins to determine policies on pre-loading.
         * Conversation initiated.
      * Von and Chander to group tasks to match project plan
   * First stab at training plans: https://opensciencegrid.org/bin/view/Security/DigiCertTrainingPlan (Mine)
   * Design discussion report out (Von)
      * Soichi, Jeremy, Von
      * Users may legitimately have multiple certificates(?) - impacts duplicate detection.
        * Rob Q. confirms - users in multiple VOs.
      * Change: RA agents will not be able to approve Host/Svc certificates
         * Alex: Not going to be easy to have representatives from each domain, allow for delegation from authority.
      * Client-side authn for host scripts? No - Do we want CLI for anything besides host certificates - No.
         * Scripts currently ask for a personal certificate before generating CSR
         * cert-grid-admin - from OSG distribution, does authentication
         * then is another set of scripts that doesn't do authentication - cert-request.
         * Jeremy's script is called - will report.
         * Site admin may submit requests - and then Grid Admin must approve
         * Most of the time Site Admins are also Grid Admins, in that case an authenticated request from a Grid Admin does not need subsequent approval.
      * Matrix of supported features
         * This is in the system design doc: OIM Certificate Management System Design
      * Every request has to be approved by an RA Agent or Grid Admin
         * And not automated.
     * If we're going to have a CLI to generate a CSR, why not just have it do submission, why bring a web browser into it at all?
     * What are the packaging assumptions on what users have installed?
        * Table this for when Alain R.
   * New versions of architecture documents (Jeremy/Soichi)
      * PKI Project Architecture Outline: https://docs.google.com/document/d/1EZJMyEfdS5Ye7lLyaJxWpr-MV-PpX-LsVRUQRTfSC-A/edit
      * OIM Architecture Model: https://docs.google.com/document/d/1nwBRMoOBP0GbQx0d2ag_JibmkSt5AHCwW6fo4ghIBSY/edit
         * Current host certificate quota per day is 50/day
            * Tier One - glexec could require more host certificates - not in the near future.
         * OIM will have regex
   * Contingency plans (Keith C.)
      * Keith not on call.
      * Is this a separate task now under the security team? No.
   * DN change plans (Jim B.)
      * Pending discussion with ATLAS and VOMS admins.
   * DigiCert contracts and agreements (Von)
   * Other items:
      * CMS will suggest users convert as soon as possible. Will users need to be vetted the first time? Yes.

---+ 3 April 2012

AI: Jim and Von to talk to WLCG VOMS admins to determine policies on pre-loading.

AI: Von and Chander to group tasks to match project plan
   * Spend a few minutes on the technical plan - figure out what is high priority (needed by other parts)
   * Can we knock of the REST API design, as that seems simpler.

Agenda:
   * Contingency plans (Keith C.)
      * Latest draft on March 14th, Von comments on March 28th
   * DN change plans (Jim B.)
      * https://twiki.grid.iu.edu/bin/view/Security/DOEGrids2DigiCertDNTransition
      * Von asks: I suspect we'll be in a world with inconsistent GUMS deployment, can we handle that?
      * Alain: OSG 1.0 hasn't been supported in over a year and there are still a handful of sites running this.
      * It takes a long time to get everyone to upgrade.
      * Suspects a lot of sites will be willing to upgrade, still it will take months. LHC sites in production will be reluctant. Will need to think about how to make it as easy as possible.
      * Not sure there has been a non-security issue where software was pushed hard.
      * Believe we've done that with Gratia?
      * Will using the old GUMS with multiple DNs break things? We don't know. This will probably cause problems.
      * Can we have multiple VOMS accounts? One per DN
      * They are not equivalent.
      * Downside to "manual changeover" - GUMS queries VOMS 4x/day - so there is a lag
      * Tony: if you talk to CMS and ATLAS, they use VOMS in WLCG; not a big issue for CMS, they can update GUMS responsively.
      * Unit of transition is individual.
      * Having jobs in flight using proxies requires multiple DNs in VOMs.
      * Tony: suspect we need a 1-2 month window to get sites to upgrade. We think this is relatively easy for the 80% of LHC.
      * Option (A): everyone updates GUMS, add new DNs to existing VOMS accounts, nice and smooth
      * Option (B): add new VOMS accounts with new DNs in advance, existing account mappings could be broken - would need to explore specific account mappings
      * Option (C): once user gets their DigiCert certificate, they need to go to VOMS-Admin, VOMRS and register their new DN. May also require manual operation by VOMS administration, will require approval (Tony: yes, it will require approval).
      * Tony: Don't know we can get WLCG to pre-populate pre-existing DNs
      * Have VOs pick the option they desire? Can this be per-VOs choice?
      * Who is WLCG POC? Marty Pena (Tony will send me contact information) for CMS VOMS server.
      * Could put a temporary OSG VOMS server?
   * DigiCert contracts and agreements (Von)
      * https://twiki.grid.iu.edu/bin/view/Operations/DigiCertAgreements
      * Von has reviewed, call with DigiCert postponed until tomorrow (Apr 4)
      * Question about Sponsor registration - required?
      * Can we make the RA agreements less legalese
      * Master Agreement looks OK
      * RPS needs some tweaks to remove old cyrptographic module language
      * Does it require collection of PII to add Agent? FNAL has a problem with that.
   * OSG RA/Grid Admin training plan (Mine)
   * Project Planning (Chander)
      * https://twiki.grid.iu.edu/bin/view/Operations/OSGPKIProjectWBS

---+ 27 March 2012

Attending: Jeremy, Von, Jim, Alex, Chander, Alain D., Anthony, 

Action items:
   * Von to review latest version of Keith's contingency plan
   * Jeremy to post initial version of design document to email list later this week.
   * Von and Soichi to review Jeremy's document and comment

Agenda:
      * Contingency plans (Keith C.)
         * New version sent out March 14 - anyone had a chance to reivew?
         * AI: Von to review
      * DigiCert RAA vetting process (Jim B.)
         * Standards DigiCert process - Scott checked Jim's photo ID and then Jim digitially signed agreement. Then Jim was able to do Von and Mine.
         * How will this relate to our DigiCert?
         * Would prefer signed email and shorter agreement.
      * DN change plans (Jim B.)
         * Take advantage of new feature in GUMS where we can associate multiple DNs with users
         * If we can predict DigiCert DNs, then we can load those into GUMS ahead of time
         * Puts a strong dependency for us on new GUMS work - John Hoover is spreadheading this.
         * AI: Jim to ping John (and Alain R.) let them know about our dependency, ask for updates, and ask for current timeline.
      * DigiCert contracts and agreements (Von)
         * New versions of all agreements received from DigiCert, haven't had a chance to review: https://twiki.grid.iu.edu/bin/view/Operations/DigiCertAgreements
         * Goal is to turn them around these around in the next week.
         * DigiCert Grid CA is now issuing 30-day CRLs
      * New JIRA Issue: We handle click-through or delegate to DigiCert? (Von)
         * https://jira.opensciencegrid.org/browse/OSGPKI-5
         * In general seems like we should just undertake doing these things.
      * Design updates (Jeremy)
         * High-level design - initial version by 3/23, final version by 3/30: This is a short 2-3 document giving the high-level components of the front end, and also discussing any other components we will be producing (e.g., a new bulk host request script). The major thing this document will do is lay out the big decisions in terms of what software we'll leverage, e.g., OIM, or what is undecided, e.g. we'll need some library here to do REST calls. The initial version gets circulate for comment and then finalized by 3/30.
         * Components designs - initial versions by 4/17, finalized by 5/1. For each component, a ~4 page document describing what it will do, what it's requirements are, what it will interact with, and how we'll go about about developing it. Initial versions by 4/17 gives two weeks for comments and discussions and finalized by the 5/1 end of the planning phase. My expectation is we'd follow a MVC approach, so would have documents for the GUI, the database, and the controller logic (which would perhaps include interacting with DC or perhaps that would be another component), plus a document on the client script changes.
         * Almost got basic design document done, included Soichi work, plans to send to list tomorrow or Thursday. 40k ft view.
         * AI: Von and Soichi to review when it comes out.
      * Discussion of key generation options - user vs OSG (Soichi)
         * https://jira.opensciencegrid.org/browse/OSGPKI-3
         * DOE Grids site used browser generation of key pair, this create some support problems
         * Three ways to generate keys: (1) in browser (via Javascript or HTML5); (2) command line and paste CSR; (3) in the server
         * IE not going to support HTML5
         * Proposal is to support server-side generation.
         * Bulk-host certificate request: limits on request and per-day
         * Von's proposal is we support sever-side key generation for user certificates, with CSR-pasting as a secondary option.
         * Soichi says adding CSR-form isn't much work
         * Host certs are done primarily from the command-line today.
         * Do we need a web interface at all for host certificates? Sites with small number of hosts.
      * OSG RA/Grid Admin training plan (Mine/Von)
         * Mine not on call, Von to follow up off-list


---+ 19 March 2012

No call due to OSG AHM.

---+ 13ç March 2012

Attending: Mine, Rob, Jeremey, Greg, Anthony, Chander, Alain, ...I'm sure I'm missing a few

Agenda:
   *  New email list, please subscribe if you want agendas for these calls and other announcements:
      * OSG-PKI-TRANSITION@OPENSCIENCEGRID.ORG
      * To subscribe send email to listserv@fnal.gov with contents:
=SUBSCRIBE OSG-PKI-TRANSITION@opensciencegrid.org FIRSTNAME LASTNAME=
   * Von take aways with Mar 7 call with Area Coodinators:
      * Currently public cert requiest scripts are poorly maintained, it would be nice if maintenance could be addressed in our support plans
      * Brian B. would be a good source of friendly users
      * Brian B. will contact Von for a host certificate to play with
   * Short Updates:
      * Contingency plans (Keith C.)
      * DN change plans (Jim B.)
         * New version of GUMs that will suport multiple DNs per user that will help.
      * DigiCert contracts and agreements (Von)
         * Nothing to report, Aaron just had child
      * OSG AHM presentation (Von)
         * Presentation next Monday at AHM
      * Design updates (Jeremy)
         * Make a version the CLI script that behaves exactly
         * We think main use is for bulk host generation
         * People write wrapper around VDT script - multi-cert-request script - this script is broken
         * CMS sites use certify - because they ran into issues with VDT software - https://www.racf.bnl.gov/experiments/usatlas/griddev/certify
         * Run interface by osg-sites
         * Can we just have a web-browser script that produces a tarball?
         * Philosophy is to replicate what DOE Grids PKI does by default unless we have good reason.
   * Discussion of key generation options - user vs OSG (Soichi)
      * Deferred, Soichi on PTO
   * No call on March 19th due to AHM

---+ 6 March 2012

Attending: Von, Greg L., Jeremy, Anthony, Jim B., Burt, Alain Roy, Alex, John V., Soichi, Rob, Ruth, Mike H.

Action items:
   * Von to follow up with Anthony re their HTTPS needs

Agenda:
   * Overview, update and Q&A (Von)
      * Timeline delay
      * Question from Alain about long-term ownership of software we are going to develop. Answer is OSG will own this software and we need to plan for this long-term support.
   * Update on DN transition (Jim)
      * https://opensciencegrid.org/bin/view/Security/DOEGrids2DigiCertDNTransition
      * Three impacts:
         * DNs in VOMS
         * DN of VOMS servers and voms files
         * Local account mapping
      * Web server certificates will be moving to InCommon certificate
         * InCommon will only provide opensciencegrid.org, VOMS are run by VOs and will not be under opensciencegrid.org
      * Alain uses a small number of certificates for the build system.
   * Update on front-end design (Jeremy & Soichi)
      * Meeting notes from 3/1 meeting: https://twiki.grid.iu.edu/bin/view/Security/March12012PKIMeetingNotes
      * Looking at existing OSG scripts to figure out what is currently in use.
      * Alain concerned about us making choices that are sustainable.
   * Other business.
   * Next week we go to our standing number:
      * Phone Number: (800) 940-6112 or (812) 856-3600
      * Participant PIN: 001174# 
