%META:TOPICINFO{author="ScottTeige" date="1404776624" format="1.1" reprev="1.1" version="1.1"}%
---++ Root cause analysis, Oasis Whitelist signature out of date
OUTLINE

---+++ The Event

   * RSV Status changed to WARNING at Fri Jul 04 2014 08:16:01 GMT-0400 (EDT)
   * Scott Teige checked the status of all services early Saturday July 5 morning, saw the warning status
      * Status display is available [[http://myosg.grid.iu.edu/miscstatus/index?datasource=status&count_sg_1=on&count_active=on&count_enabled=on][here]]
      * Logged into a worker node at the GOC to verify content was being delivered correctly
      * /cvmfs/oasis.opensciencegrid.org was not mounted on the node. It is likely it had not been mounted for over a month.
      * changing working directory  to /cvmfs/oasis/opensciencegrid.org caused automount to mount the filesystem
      * ls (ell ess) there showed expected content.
   * Scott made the decision that the inability to update content over a holiday weekend did not constitute an emergency and repair could wait until working hours. 
   * Sunday July 6, Dave Dykstra creates ticket [[https://ticket.grid.iu.edu/21659][21659]]
   * ~8:00 Monday July 5:
      * Master key copied from thumb drive to proper location on oasis.grid.iu.edu
      * Whitelist resigning script invoked
      * Master key removed from system
   * Status changed to OK at Mon Jul 07 2014 08:31:01 GMT-0400 (EDT)

---+++ User Impact
GOC has received no report of problems within the duration of the event. 

---+++ Detection Method
Standard GOC monitoring

---+++ Repair Method
Manual resigning of whitelist

---+++ Remediation
Add direct measurement of and alarm on whitelist age.
 
-- Main.ScottTeige - 07 Jul 2014
