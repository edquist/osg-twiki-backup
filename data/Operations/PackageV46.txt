%META:TOPICINFO{author="RobQ" date="1375214080" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="VOPackageReleases"}%
---+ v46 - Draft

---++ NWICG VO Retirement
[[https://ticket.grid.iu.edu/goc/16217][Ticket]]

---+++ edg-mkgridmap removal
<verbatim>
# USER-VO-MAP nwicg nwicg -- 25 -- Kevin Colby (colbykd@purdue.edu)    
group vomss://vo.rcac.purdue.edu:8443/voms/NWICG nwicg
</verbatim>

---+++ vomses removal
<verbatim>
"NWICG" "vo.rcac.purdue.edu" "15009" "/DC=org/DC=doegrids/OU=Services/CN=vo.rcac.purdue.edu" "NWICG"
</verbatim>

---+++ GUMS template removal
<verbatim>
<!-- 25 NWICG -->
<groupMapping name='nwicg' accountingVo='nwicg' accountingDesc='nwicg'>
     <userGroup className='gov.bnl.gums.VOMSGroup'     
     url='https://vo.rcac.purdue.edu:8443/voms/NWICG/services/VOMSAdmin'     
     persistenceFactory='mysql'      
     name='nwicg'      
     voGroup="/NWICG"     
     sslCertfile='/etc/grid-security/http/httpcert.pem'     
     sslKey='/etc/grid-security/http/httpkey.pem'      
     matchFQAN="vo" acceptProxyWithoutFQAN='true' />
     <accountMapping className='gov.bnl.gums.GroupAccountMapper'      
     groupName='nwicg' />
</groupMapping>
</verbatim>

Removed nwicg from hostGroup className 

---+++ Local accounts
Remove: nwicg

---++ ENMR VO addition
[[https://ticket.grid.iu.edu/goc/16219][Ticket]]

---+++ edg-mkgridmap addition
<verbatim>
#USER-VO-MAP enmr ENMR - 59 - Marco Verlato (Marco.Verlato@pd.infn.it)
group vomss://voms2.cnaf.infn.it:8443/voms/enmr.eu enmr
</verbatim>

---+++ vomses addition
<verbatim>
"enmr.eu" "voms2.cnaf.infn.it" "15014" "/C=IT/O=INFN/OU=Host/L=CNAF/CN=voms2.cnaf.infn.it" "enmr.eu"
</verbatim>

---+++ GUMS template addition
<verbatim>

<!-- 59 ENMR -->
<groupMapping name='enmr' accountingVo='enmr' accountingDesc='ENMR'>
    <userGroup className='gov.bnl.gums.VOMSGroup'
    url='https://voms2.cnaf.infn.it:8443/voms/enmr.eu/services/VOMSAdmin'
    persistenceFactory='mysql'
    name='enmr'
    voGroup="/enmr.eu"
    sslCertfile='/etc/grid-security/http/httpcert.pem'
    sslKey='/etc/grid-security/http/httpkey.pem'
    matchFQAN="vo" acceptProxyWithoutFQAN='true' />
    <accountMapping className='gov.bnl.gums.GroupAccountMapper'
    groupName='enmr' />
</groupMapping>
</verbatim>

Added enmr to hostGroup className 

---+++ Local accounts
Add: enmr

---++ Add Darkside VO
[[https://ticket.grid.iu.edu/goc/14997][Ticket]]

---+++ GUMS template deletion
<verbatim>
<!-- Fermilab darkside roles -->
<groupMapping name="darkside" accountingVo="darkside" accountingDesc="FERMILAB">
    <userGroup className="gov.bnl.gums.VOMSGroup" 
    url="https://voms.fnal.gov:8443/voms/fermilab/services/VOMSAdmin" 
    persistenceFactory="mysql" 
    name="darkside" 
    voGroup="/fermilab/darkside"  
    sslCertfile="/etc/grid-security/http/httpcert.pem" 
    sslKey="/etc/grid-security/http/httpkey.pem" 
    matchFQAN="exact"/>
    <accountMapping className="gov.bnl.gums.GroupAccountMapper" 
    groupName="darkside"/>
</groupMapping>

<groupMapping name="darksideana" accountingVo="darkside" accountingDesc="FERMILAB">
    <userGroup className="gov.bnl.gums.VOMSGroup" 
    url="https://voms.fnal.gov:8443/voms/fermilab/services/VOMSAdmin" 
    persistenceFactory="mysql" 
    name="darksideana" 
    voGroup="/fermilab/darkside" 
    voRole="analysis" 
    sslCertfile="/etc/grid-security/http/httpcert.pem" 
    sslKey="/etc/grid-security/http/httpkey.pem" 
    matchFQAN="exact"/>
    <accountMapping className="gov.bnl.gums.GroupAccountMapper" 
    groupName="darksideana"/>
</groupMapping>

<groupMapping name="darksidecal" accountingVo="darkside" accountingDesc="FERMILAB">
    <userGroup className="gov.bnl.gums.VOMSGroup" 
    url="https://voms.fnal.gov:8443/voms/fermilab/services/VOMSAdmin" 
    persistenceFactory="mysql" 
    name="darksidecal" 
    voGroup="/fermilab/darkside" 
    voRole="calibration" 
    sslCertfile="/etc/grid-security/http/httpcert.pem" 
    sslKey="/etc/grid-security/http/httpkey.pem" 
    matchFQAN="exact"/>
    <accountMapping className="gov.bnl.gums.GroupAccountMapper" 
    groupName="darksidecal"/>
</groupMapping>

<groupMapping name="darksidedat" accountingVo="darkside" accountingDesc="FERMILAB">
    <userGroup className="gov.bnl.gums.VOMSGroup" 
    url="https://voms.fnal.gov:8443/voms/fermilab/services/VOMSAdmin" 
    persistenceFactory="mysql" 
    name="darksidedat" 
    voGroup="/fermilab/darkside" 
    voRole="data" 
    sslCertfile="/etc/grid-security/http/httpcert.pem" 
    sslKey="/etc/grid-security/http/httpkey.pem" 
    matchFQAN="exact"/>
    <accountMapping className="gov.bnl.gums.GroupAccountMapper" 
    groupName="darksidedat"/>
</groupMapping>

<groupMapping name="darksidegli" accountingVo="darkside" accountingDesc="FERMILAB">
    <userGroup className="gov.bnl.gums.VOMSGroup" 
    url="https://voms.fnal.gov:8443/voms/fermilab/services/VOMSAdmin" 
    persistenceFactory="mysql" 
    name="darksidegli" 
    voGroup="/fermilab/grid" 
    voRole="pilot" 
    sslCertfile="/etc/grid-security/http/httpcert.pem" 
    sslKey="/etc/grid-security/http/httpkey.pem" 
    matchFQAN="exact"/>
    <accountMapping className="gov.bnl.gums.GroupAccountMapper" 
    groupName="darksidegli"/>
</groupMapping>

<groupMapping name="darksidepro" accountingVo="darkside" accountingDesc="FERMILAB">
    <userGroup className="gov.bnl.gums.VOMSGroup" 
    url="https://voms.fnal.gov:8443/voms/fermilab/services/VOMSAdmin" 
    persistenceFactory="mysql" 
    name="darksidepro" 
    voGroup="/fermilab/darkside" 
    voRole="production" 
    sslCertfile="/etc/grid-security/http/httpcert.pem" 
    sslKey="/etc/grid-security/http/httpkey.pem" 
    matchFQAN="exact"/>
    <accountMapping className="gov.bnl.gums.GroupAccountMapper" 
    groupName="darksidepro"/>
</groupMapping>
</verbatim>

Add darkside, darksideana, darksidecal, darksidedat, darksidegli, darksidepro to hostGroup className 


---++ Change VOMS URL for NYSGRID
[[https://ticket.grid.iu.edu/goc/15767][Ticket]]

---+++ edg-mkgridmap change
<verbatim>
group vomss://dylan.ccr.buffalo.edu:8443/voms/NYSGRID nysgrid
</verbatim>
to
<verbatim>
group vomss://dylan.ccr.buffalo.edu:8443/voms/nysgrid nysgrid
</verbatim>

---+++ vomses change
No change necessary

---+++ GUMS template change
<verbatim>     
url='https://dylan.ccr.buffalo.edu:8443/voms/NYSGRID/services/VOMSAdmin'
voGroup="/NYSGRID"
</verbatim>
to
<verbatim>     
url='https://dylan.ccr.buffalo.edu:8443/voms/nysgrid/services/VOMSAdmin'
voGroup="/nysgrid"
</verbatim>

---++ Add production role for Belle VO
[[https://ticket.grid.iu.edu/goc/16084][Ticket]]

---+++ GUMS template addition
<verbatim>
<groupMapping name="bellepro" accountingVo="belle" accountingDesc="belle">
    <userGroup className="gov.bnl.gums.VOMSGroup" 
    url="https://voms.cc.kek.jp:8443/voms/belle/services/VOMSAdmin" 
    persistenceFactory="mysql" 
    name="bellepro" 
    voGroup="/belle" 
    voRole="production" 
    sslCertfile="/etc/grid-security/http/httpcert.pem" 
    sslKey="/etc/grid-security/http/httpkey.pem" 
    matchFQAN="exact"/>
<accountMapping className="gov.bnl.gums.GroupAccountMapper" groupName="bellepro"/>
</groupMapping>
</verbatim>

Add bellpro to hostGroup className 

---+ VO Package Files Location

   * For ITB VO Files see:

https://osg-svn.rtinfo.indiana.edu/pacman/vo-package/tags/release-46/

   * For Production VO Files see:

http://software.grid.iu.edu/pacman/tarballs/vo-package/






-- Main.RobQ - 30 Jul 2013
