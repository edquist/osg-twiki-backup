%META:TOPICINFO{author="KyleGross" date="1191435905" format="1.1" version="1.7"}%
%META:TOPICPARENT{name="WebHome"}%
%TOC%

---+Registration and Historical Status Database

---++ Current Schema
   * 3 Tables Resource, Support Center, and Virtual Organization
   * Non Relational
   * Certificate Required to Access

---+++Resources Schema
https://goc.grid.iu.edu/registration/main.php?whichReg=rp

   * Resource URL
   * Resource Short Name
   * Admin Certificate DN
   * Resource Type
      * Compute Element
      * Storage Element
   * Resource FQHN
   * OSG Grid
      * OSG Production
      * OSG ITB
   * Security Contact Name
   * Security Contact Email
   * Security Contact Phone
   * Support Center Name
   * Date Submitted (Auto Populated)
   * Submitter Name (Auto Populated from Cert)
   * Submitter Email

---+++ Support Center Schema
https://goc.grid.iu.edu/registration/main.php?whichReg=sc

   * Support Center Short Name
   * Support Center Brief Description
   * Manager or Rep Name
   * Manager or Rep Email
   * Manager or Rep Phone
   * Manager or Rep Address
   * Operation Contact Name
   * Operation Contact Alt Name
   * Operation Contact Email
   * Operation Contact Alt Email
   * Operation Contact Phone
   * Operation Contact Alt Phone
   * Security Contact Name
   * Security Contact Alt Name
   * Security Contact Email
   * Security Contact Alt Email
   * Security Contact Phone
   * Security Contact Alt Phone
   * Community
   * Date Submitted (Auto Populated)
   * Submitters DN (Auto Populated from Cert)
   * Submitters Name (Auto Populated from Cert) 
   * Submitters Email

---+++Virtual Organization Schema

   * VO Short Name
   * VO Primary URL
   * VO Privilege URL
   * VO Manager Name
   * VO Manager Email
   * VO Manager Phone
   * VO Manager Address
   * Membership Services URL (VOMS URL)
   * VOMS Operations Contact Name
   * VOMS Operation Contact Email
   * VOMS Security Contact Name
   * VOMS Security Contact Email
   * VOMS Security Contact Phone
   * VO Purpose URL
   * User Support URL
   * Community
   * Application Description
   * Support Center Name
   * Date Submitted (Auto Populated)
   * DN of Submitter (Auto Populated by Cert)
   * Submitter Name (Auto Populated by Cert)
   * Submitter Email    

---++ Proposed Schema

%BLUE% Changes Proposed in Blue

   * Relational
   * Certificate Required to Access - Except for VO Post Approval%ENDCOLOR%

---+++ Proposed Resource Schema

%BLUE%Relations: (Resource) Support Center id<-> (Support Center) Support Center id %ENDCOLOR%
%BLUE%Relations: (Resource) Resource id <-> (Support Center) Support Center Short Name %ENDCOLOR%

resource table

   * resource_id
   * site_id
   * url
   * name
   * OSG Grid
      * OSG Production
      * OSG ITB
   * type
      * Compute Element
      * Storage Element - %BLUE%for storage elements, we'll need to add ldap host/port and search string%ENDCOLOR%
   * Support Center id number
   * Date Submitted (Auto Populated)
   * Submitter Name (Auto Populated from Cert)
   * Submitter Email

gatekeeper table

   * resource_id
   * Resource FQHN


resourcecontact table

   * person_id
   * resource_id
   * type
   * rank
   * details
   * cert

vo_resource_ownership

   * resource_id
   * vo_id
   * percent


---+++ Proposed Support Center Schema

%BLUE%Relations: (Resource) Support Center Name<-> (Support Center) Support Center Short Name %ENDCOLOR%
%BLUE%Relations: (Virtual Organization) Support Center Name<-> (Support Center) Support Center Short Name %ENDCOLOR%

supportcenter table

   * sc_id
   * Support Center Name
   * Support Center Brief Description
   * Community
   * Date Submitted (Auto Populated)
   * Submitters DN (Auto Populated from Cert)
   * Submitters Name (Auto Populated from Cert) 
   * Submitters Email

sccontact table

   * sc_id
   * person_id
   * type
   * rank
   * details
   * cert
 

---+++ Proposed Virtual Organization Schema

%BLUE% Pre Approval Submission %ENDCOLOR%

   * id
   * VO Short Name
   * Community
   * Application Description
   * Date Submitted (Auto Populated)
   * DN of Submitter (Auto Populated by Cert)
   * Submitter Name (Auto Populated by Cert)
   * Submitter Email    

%BLUE% Post Approval Submission %ENDCOLOR%
%BLUE%Relations: (Virtual Organization) Support Center Name<-> (Support Center) Support Center Short Name %ENDCOLOR%

   * VO Primary URL
   * VO Privilege URL
   * Membership Services URL (VOMS URL)
   * VO Purpose URL
   * User Support URL
   * Support Center id
   * Date Submitted (Auto Populated)
   * DN of Submitter (Auto Populated by Cert)
   * Submitter Name (Auto Populated by Cert)
   * Submitter Email 

---+++ Historical Resource Status

   * Relation to (Resource) Short Name <-> (Historical Resource Status) Short Name
   * This would contain data from monitoring probes and be available to WLCG monitoring tools.

---++ Other Possibilities


-- Main.RobQ - 04 Apr 2007

%META:FILEATTACHMENT{name="Picture_2.png" attachment="Picture_2.png" attr="" comment="" date="1176299930" path="Picture 2.png" size="57753" stream="Picture 2.png" user="Main.RobQ" version="1"}%
