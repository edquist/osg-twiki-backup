%META:TOPICINFO{author="ChrisGreen" date="1268423425" format="1.1" version="1.5"}%
%META:TOPICPARENT{name="WebHome"}%
%TOC%

---+!! LSST Image Simulation on OSG

---++ Introduction.

This !Twiki area is the knowledge repository for describing the infrastructure and operation of the LSST image simulation on the Open Science Grid. From here, you will be able to obtain details of the setup, how to build and distribute the LSST image simulation software, and how to run image simulations on OSG.

This document is presented in several sections:

   * A high-level [[#Architecture_Overview][architectural overview]] describing the system and its operation in broad-brush;
   * A [[EngaeLSSTUserGuide][user's guide]] to the current infrastructure describing how to submit and run an image simulation, including a guide to first-time setup and simple job monitoring and troubleshooting.
   * An [[EngageeLSSTInfrastructureGuide][reference for infrastructure maintainers]] describing the current implementation, how to compile and upload new software, monitor statistics and troubleshoot problems.
   * A brief description of some possible [[FutureImprovements][future improvements]].

---++ Architecture Overview.

Leveraging the Open Science Grid for LSST image simulations is accomplished with the aid of the OSM Match-Maker OSGMM is an application for use in conjunction with a standard OSG client installation to handle submission of grid jobs with automatic match-making and execution across multiple sites. It is also capable of identifying which sites support the Virtual Organization and performing regular verification and maintenance tasks, such as attribute / feature discovery and software installation. 

Utilities have been developed to build and package the LSST image simulation software for various architectures; to install the simulation software on a site; to submit the jobs to simulate an image; and a wrapper to find and execute the simulation on a remote node. Depending on the number and characteristics of the light sources within the purview of a particular CCD and the capabilities of the CPU, simulation of the image seen by that CCD can take between 90 minutes and about 6 hours. The resulting CFITSIO output file is compressed losslessly from 65!MiB down to about 10MiB before being transferred back to the submission machine for unpacking and stitching together to produce the final composite image.

---++ [[EngageLSSTUserGuide][User's guide]] to running LSST image simulations on OSG.

[[EngageLSSTUserGuide][Read the full user's guide here]], or skip straight to the [[EngageLSSTUserGuide#][new user steps]], [[EngageLSSTUserGuide#][running LSST image simulations]] or [[EngageLSSTUserGuide#][what's new?]] sections.

---++ [[EngageeLSSTInfrastructureGuide][Infrastructure maintainer's reference]].

[[EngageeLSSTInfrastructureGuide][Read the full reference guide here]], or skip straight to the [[EngageeLSSTInfrastructureGuide#][implementation details]], [[EngageeLSSTInfrastructureGuide#][common tasks]] or [[EngageeLSSTInfrastructureGuide#][Setting up a client from scratch]] sections.

---++ [[FutureImprovements][Future improvements]].

-- Main.ChrisGreen - 08 Mar 2010