%META:TOPICINFO{author="RobGardner" date="1248211968" format="1.1" version="1.8"}%
%META:TOPICPARENT{name="SiteValidationTable"}%
---+!! *<nop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%


---++ Validating gLexec
Instructions on how to install and configure gLexec are at GlexecInstall.  This 
guide is only given for users to validate a site and see if it is running gLexec 
or not.  This has been simplified by use of the =$OSG_GLEXEC_LOCATION=
variable which is defined by each site when the configure-osg.py script is run.

Here's a simple shell script that will check if a site has glexec installed and configured
<pre>
#!/bin/sh
# $OSG_GRID should be location of worker node client and glexec is 
# assumed to be in that location.
if [ "$OSG_GRID" != "" ] && [ -d "$OSG_GRID" ] 
then
     . $OSG_GRID/setup.sh
     export GLEXEC_CLIENT_CERT="$X509_USER_PROXY"
     cd $OSG_GRID
     if [ -x $OSG_GLEXEC_LOCATION ] 
     then 
          ls -l $OSG_GLEXEC_LOCATION
          ldd $OSG_GLEXEC_LOCATION
         $OSG_GLEXEC_LOCATION /usr/bin/id
     else
         echo "glexec binary not found" 
     fi 
else
      echo "$OSG_GRID not found"
fi
</pre>

Make a file of this script, and then submit it via jobmanager-condor
to the resource that is being tested.
If it is successful, it will show a uid/gid as the last output on standard out.
If not, it will abort.

%BR%
%COMPLETE3% %BR%
%RESPONSIBLE% Main.StevenTimm - 18 Oct 2007 %BR%
%REVIEW% Main.XinZhao - 21 Jul 2009 %BR%
%REVFLAG% %X% %BR%

---++ *Comments*
%COMMENT{type="tableappend"}%

%META:TOPICMOVED{by="AnneHeavey" date="1192739567" from="Integration/ITB_0_7.ValgLexec" to="Integration/ITB_0_7.ValidateGlexecAtSite"}%
