%META:TOPICINFO{author="ForrestChristian" date="1172188449" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="InstallAndConfigureGlobusWebServices"}%
%LINKCSS%

---+!! Common Steps for using Globus-WS

%TOC%

%STARTINCLUDE%
%EDITTHIS%

This section describes several common steps to implementing Globus Web Services with either gridmap or PRIMA authorization.

---+++ Globus-WS for Condor
%INCLUDE{ "GlobusWsCondor" }%

---+++ Logging Web services
Web services are logged to =/VDT_LOCATION/globus/var/container-real.log=. The default settings provide zero visibility into what is happening, but will identify error or warnings when they occur.

You can use the default settings or use custom ones.


---+++ Reset permissions for web services
Just to be safe, it is probably a good idea to make sure the ownership and  permissions on some of the web services files are set correctly. This is done with the <i>$VDT_LOCATION/vdt/setup/configure_globus_ws</i> that is run automatically during installation.  However, depending on the sequence in which your installation is performed, some of these files may get reset.

<pre class="screen">
&gt; <b>$VDT_LOCATION/vdt/setup/configure_globus_ws -permissions-only</b>
</pre>


---+++ Start the web services container
<pre class="screen">
&gt; <b>/etc/init.d/globus-ws start</b>
</pre>

If the container does not start, check the log file.

%WARNING% *If you are implementing Globus-WS with gridmap authorization*, you must have a =/etc/grid-security/grid-mapfile= in place or the start will fail.

%WARNING% *If you are implementing Globus-WS with gridmap authorization* on a node that was configured for pre-ws prima authorization, you will likely have the file =/etc/grid-security/gsi-authz.conf=. In globus-ws, any output (including stdout/stderr) uses <i>gridftp</i> as the transport mechanism. The gridftp service still uses the C callout of the pre-ws gatekeeper.  %BR% %BR% If the <i>gsi-authz.conf</i> exists, rename it to anything.  %BR%  %BR% You can leave the <i>/etc/grid-security/prima-authz.conf</i> in place as its existence does not affect ws gridmap authorization. 

%STOPINCLUDE%

%BOTTOMMATTER%
-- Main.JohnWeigand  %BR%
-- Main.ForrestChristian - 09 Feb 2007