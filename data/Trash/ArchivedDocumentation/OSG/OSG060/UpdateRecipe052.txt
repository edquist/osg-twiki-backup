%META:TOPICINFO{author="RobQ" date="1171482274" format="1.1" reprev="1.3" version="1.3"}%
%META:TOPICPARENT{name="WebHome"}%
---++Updating an ITB 0.5.2 Installation to use VDT 1.6.1a

These instruction assume you did the original installation as root and will be preforming the update as root.

   * Back Up the Previous Install

=# cd $VDT_LOCATION=

=# source setup.sh=

=# cp -r -p $VDT_LOCATION /your/backup/directory=
d21 1
   * Shutdown VDT Services

=# vdt-control --off=

   * Prepare Installation for Update

=# wget= http://vdt.cs.wisc.edu/releases/1.6.1/pre-update.sh
=# wget= http://vdt.cs.wisc.edu/releases/1.6.1/job-environment-patch.diff

=# patch -p0 -b -z.orig < job-environment-patch.diff=

=# mv vdt/etc/package_data/VDS.filelist vdt/etc/package_data/VDS-Worker.filelist=

   * Run Update

=# pacman -update=

   * Rerun configuration

=# cp monitoring/osg-attributes.conf.old monitoring/osg-attributes.conf=

=# $VDT_LOCATION/monitoring/configure-osg.sh=

   * Restart VDT Services

=# vdt-control --on=

*NOTE:* If you have made any unique changes to /etc/xinetd.d/globus-gatekeeper and /etc/xinetd.d/gsiftp these will need to be redone. 

---++Notes from testing

First attempt at =pacman -update= got a =Can't find [Configure-Condor].=

This was corrected with an update to the auto-vdt package.

First attempt at restarting services =vdt-control --on= got a =enabling init service globus-ws... FAILED! (see vdt-install.log)=

This was due to not preserving permissions during my backup.

d75 1

-- Main.RobQ - 14 Feb 2007 %BR%
-- Main.RobQ - 14 Feb 2007
