%META:TOPICINFO{author="KyleGross" date="1240497198" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="WebHome"}%
---+!! *<nop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%

%STARTINCLUDE%
%BR%
---+ _%INCLUDEHEADING%  %SPACEOUT{ "%TOPIC%" }%_
Instructions for upgrading to OSG 1.0.1 from OSG 1.0.0

%EDITTHIS%
%BR%

---++ Upgrade Instructions
There are two methods for updating 

---+++ Pre-installation
Before upgrading, you'll need to do the following:
   * run =vdt-control --off= in order to turn off your services
   * make a backup of your osg installation directory, using =cp -ar= to copy the directory to another directory will work

---+++ Upgrading OSG components
The changes for the OSG portion of the cache involve an update of configure-osg in order to get a version that works with the updated components and adding a new version script. 

---++++ Updating configure-osg
On an existing osg installation, you'll need to run =pacman -update osg-config=.  After the update, you should delete the =monitoring/simple-config.ini=, =monitoring/full-config.ini=, and =monitoring/extract-config.ini= if these files are present.  In addition, you'll find a =config.ini.new=.  This file has a new version of the config.ini file with updated and simpler syntax especially in regards to configuring SEs and Subclusters.  You may want to use this as your new starting point for your configuration.

---++++ Installing osg-version
There is a new package in this update that provides an osg-version script that allows you to determine the osg and vdt version of your osg installation.  Running osg-version will give you the osg version (1.0.1 in this case).  This version should increment as new vdt updates come out.  In addition, osg-version --verbose will give you the osg version and the vdt version for your system.  For this, you'll need to run =pacman -get OSG:osg-version=.  

---++++ Updating VDT Packages
In order to update the VDT packages, you'll need to use one of the following methods.

---+++++ Using VDT updater script (Recommended)
The VDT team has created a new script that allows you to update an existing OSG 1.0.0 installation on a semi-automated fashion.  We recommend using this script since it will make the upgrade process much easier.  In order to update using this script, you'll need to run =pacman -get OSG:VDT-Updater= in order to install the script.  Then run =vdt/update/vdt-updater=, during the execution, you'll have the opportunity to verify your backup is valid. 

---+++++ Updating manually (Not recommended)
In order to update manually, you'll need to follow the [[http://vdt.cs.wisc.edu/releases/1.10.1/release-v-manual.html][instructions]] provided by the VDT team.  Due to the complexity and the opportunity for error, we don't recommend using this method.

---++++ Completing the update
At this point, you should run a =./monitoring/configure-osg.py -v= to verify your configuration is still valid and then rerun the configuration using =./monitoring/configure-osg.py -c=.  

Once the update procedure has been completed, you can turn on your services using =vdt-control --on= and verify that your services are working correctly.


---++ Known issues

---++ More information
   * [[http://vdt.cs.wisc.edu/releases/1.10.1/release-v.html][VDT update instructions]]

%STOPINCLUDE%
%BR%
%COMPLETE2% %BR%
%RESPONSIBLE% Main.SuchandraThapa - 22 Apr 2009 %BR%
%REVIEW%
%META:TOPICMOVED{by="KyleGross" date="1240497198" from="ReleaseDocumentation.AprUpgradeInstructions" to="ReleaseDocumentation.UpgradeInstructions"}%
