%META:TOPICINFO{author="BrianBockelman" date="1486493717" format="1.1" version="1.14"}%
%META:TOPICPARENT{name="WebHome"}%
---+!! *<nop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%

%STARTINCLUDE%
%BR%

---+ _%INCLUDEHEADING%  %SPACEOUT{ "%TOPIC%" }%_

The probes report storage related information to the central Gratia collector. There are two types of probes:
   * The dCache-transfer probe reports to Gratia the details of each file transfer into or out of a dCache file server. 
   * The dCahche-storage probe is responsible for reporting storage capacity and storage usage to the central Gratia collector. The information reported is:
      * The storage capacity and amount used for each dCache pool.
      * The storage capacity and amount used for each SRM Space reservation.

%EDITTHIS%
%BR%

---++  Gratia dCache Probes Installation
 
In order to install the latest release of Gratia dCache Probes you may choose from  the following options:
   * Install  vdt-dCache (fresh install) 
   * Upgrade existing vdt-dCache installation (full upgrade)
   * Upgrade just Gratia dCache probes without upgrading vdt-dCache (partial upgrade)
   * Install Gratia dCache probes on top of dCache installed from [[http://www.dcache.org][dCache site]] (installation without vdt-dcache)

---+++ Dependency

New gratia dCache probes are depended  on pyOpenSSL package. Please installed it using yum (or from rpm):
<pre class="screen">
yum list pyOpenSSL
Loading "kernel-module" plugin
Setting up repositories
Reading repository metadata in from local files
Excluding Packages from SL 4 base
Finished
Installed Packages
pyOpenSSL.i386                           0.6-1.p23              installed       
[root@gwdca06 ~]# yum install pyOpenSSL.i386
</pre>
---+++  Installation of Gratia dCache probes with vdt-dCache installation (fresh install)

Gratia dCache probes are part of vdt-dcache tarball and could be installed simultaneously with dCache. The whole installation procedure is described at [[http://vdt.cs.wisc.edu/extras//2.4.4/InstallingDcacheForOSG.README.html][VDT-dCache Installation]].
%ICON{"warning"}% Please read [[http://vdt.cs.wisc.edu/extras//2.4.8/InstallingDcacheForOSG.README.html][ITB version VDT-dCache Installation]].

Before installing vdt-dCache you will need to  modify _siteinfo.conf_ file under _vdt-dcache-SLx-y/install_ directory. In order to enable gratia probe you will need to modify the following section:

<pre class="screen">
# +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# SECTION 3 - Gratia dCache storage and transfer probes
# Skip this section, if you do not want to use these probes
# +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
# Name of the host running your local gratia repository
# Example: gratia-osg-transfer.opensciencegrid.org:80
GRATIA_SOAP_HOST="gratia-fermi.fnal.gov:8881"
# Name of the storage element
# Example: FNAL_Gridworks
GRATIA_SITE_NAME="FNAL_Gridworks"
# Name of the grid to which this Storage Element belongs
# Options: OSG-ITB or OSG or LOCAL
GRATIA_GRID_NAME="OSG-ITB"
# Port used to connect to dCache Admin Interface
# Most Probably: 22223
GRATIA_ADMINSRV_PORT="22223"
# Login name to connect to dCache Admin Interface
# Most Probably: admin
GRATIA_ADMINSRV_LOGIN="admin"
# Password to connect to dCache Admin Interface
# Most Probably: dickerelch
GRATIA_ADMINSRV_PASSWORD="dickerelch"
# Would you like to send notification emails about Gratia probes
# Options: yes or no
GRATIA_SEND_EMAIL="yes"
# SKIP, if you chose 'no' to question above
# Mail server that should be used to send emails
# Example: smtp.fnal.gov
GRATIA_EMAIL_SRVHOST="smtp.fnal.gov"
# SKIP, if you chose 'no' to question above
# Sender's name under which you would like the emails to be sent
# Skip if you chose 'no' above
GRATIA_EMAIL_FROM="dCacheProbe"
# SKIP, if you chose 'no' to question above
# Single email address or a comma separated list of email addresses
# to which you would like to send email. Skip, if you chose 'no' above
GRATIA_EMAIL_TO="<your-email-address>"
#+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
</pre>



Your entries depend on the type of your site. In case this is a production OSG site you have to specify the following answers:

 _host running your local gratia repository_ - gratia-osg-transfer.opensciencegrid.org:80

 _name of the grid to which this SE belongs to_ - OSG

in case if your site is a part of ITB please provide the following answers:

_host running your local gratia repository_ - gratia-osg-itb.opensciencegrid.org

_name of the grid to which this SE belongs to_ - OSG_ITB

When you proceed with vdt-dcache installation _install.py_ script will unpack the Gratia probes on admin and srm door nodes and will modify the configuration files.
The following rpms will be installed:
   * gratia-probe-common-&lt;version&gt;.noarch.rpm
   * gratia-probe-dCache-storage-itb-&lt;version&gt;.noarch.rpm          # on SRM door node
   * gratia-probe-dCache-transfer-itb-&lt;version&gt;.noarch.rpm         # on admin door node
   * gratia-probe-extra-libs-&lt;version&gt;.noarch.rpm
   * gratia-probe-extra-libs-arch-spec-&lt;version&gt;.&lt;arch&gt;.rpm
   * gratia-probe-services-&lt;version&gt;.&lt;arch&gt;.rpm                         # on SRM door node


The gratia executables, configuration and log files will be located under _/opt/d-cache/gratia_. The configuration file is called _ProbeConfig_.
To continue with the installation please go to  [[https://twiki.grid.iu.edu/bin/view/Trash/ReleaseDocumentationGratiaDcacheProbes#Setting_index_on_dCache_billing][Setting index on dCache billing database]] section.

---+++  Upgrade existing vdt-dCache installation (full upgrade)

If you already installed vdt-dcache and are in the process of upgrading it you should follow instructions provided in [[http://vdt.cs.wisc.edu/extras//2.4.4/UpgradeDcacheForOSG.html][Upgrade Procedure Document]]. 

%ICON{"warning"}% Please read [[http://vdt.cs.wisc.edu/extras//2.4.8/UpgradeDcacheForOSG.html][ITB version Upgrade Procedure Document]].

If you had configured and enabled Gratia probes during initial installation go to  [[https://twiki.grid.iu.edu/bin/view/Trash/ReleaseDocumentationGratiaDcacheProbes#Setting_index_on_dCache_billing][Setting index on dCache billing database]] section.
If you didn't enable Gratia dCache probe last time you have installed dCache, please proceed to the [[https://twiki.grid.iu.edu/bin/view/Trash/ReleaseDocumentationGratiaDcacheProbes#Enabling_Gratia_dCache_Probes][Enabling Gratia dCache Probes]] section.


---+++  Upgrade gratia dCache probes without upgrading vdt-dCache (partial upgrade)
If you already installed vdt-dcache and just want to upgrade Gratia  dCache probes you have to do the following steps on admin and srm door nodes :

  1. download the new release (Check the right architecture, OS and postgres version):
<pre class="screen">
cd /usr/local/vdt-dcache-SL&lt;OS&gt;_&lt;ARCH&gt;-&lt;VERSION&gt;/RPMS
wget http://vdt.cs.wisc.edu/software/dcache/gratia/1.04.4d-1_post_8.3.7/gratia-probe-dcache-1.04.4d-1_sl&lt;OS&gt;_&lt;ARCH&gt;_postgres_8.3.7.tar.gz
</pre>
  where sl&lt;OS&gt; could be sl4 or sl5,  &lt;ARCH&gt; should be replaced with "32" or "64"
<pre class="screen">
wget http://vdt.cs.wisc.edu/software/dcache/gratia/1.04.4d-1_post_8.3.7/gratia-probe-dcache-1.04.4d-1_sl5_64_postgres_8.3.7.tar.gz 
</pre>

%ICON{"warning"}%  The ITB version may be downloaded from [[http://vdt.cs.wisc.edu/software/dcache/gratia/1.06.15d-1_post_8.3.7][1.06.15d-1 release]]

  2. Untar file:
<pre class="screen">
tar xvfz gratia-probe-dcache-1.04.4d-1_sl&lt;OS&gt;_&lt;ARCH&gt;_postgres_8.3.7.tar.gz 
</pre>

  3. Upgrade all rpms:
<pre class="screen">
rpm -Uvh gratia-probe-dCache-transfer-itb-1.04.4d-1.noarch.rpm   # on admin node
rpm -Uvh  gratia-probe-dCache-storage-itb-1.04.4d-1.noarch.rpm   # on srm door node 
rpm -Uvh  gratia-probe-common-1.04.4d-1.noarch.rpm
rpm -Uvh  gratia-probe-extra-libs-1.04.4d-1.noarch.rpm
rpm -Uvh  gratia-probe-extra-libs-arch-spec-1.04.4d-1.i386.rpm
#or
rpm -Uvh  gratia-probe-extra-libs-arch-spec-1.04.4d-1.x86_64.rpm
</pre>

%ICON{"warning"}% For ITB upgrade do:
<pre class="screen">
rpm -Uvh gratia-probe-dCache-transfer-itb-1.06.15d-1.noarch.rpm   # on admin node
rpm -Uvh  gratia-probe-dCache-storage-itb-1.06.15d-1.noarch.rpm   # on srm door node 
rpm -Uvh  gratia-probe-services-1.06.15d-1noarch.rpm                # on srm door node 
rpm -Uvh  gratia-probe-common-1.06.15d-1.noarch.rpm
rpm -Uvh  gratia-probe-extra-libs-1.06.15d-1.noarch.rpm
rpm -Uvh  gratia-probe-extra-libs-arch-spec-1.06.15d-1.i386.rpm
#or
rpm -Uvh  gratia-probe-extra-libs-arch-spec-1.06.15d-1.x86_64.rpm
</pre>

To configure and enable gratia probes during initial installation go to  [[https://twiki.grid.iu.edu/bin/view/Trash/ReleaseDocumentationGratiaDcacheProbes#Setting_index_on_dCache_billing][Setting index on dCache]] section.
If you didn't enable gratia dCache probe last time you have installed dCache, please proceed to the [[https://twiki.grid.iu.edu/bin/view/ReleaseDocumentation//GratiaDcacheProbes#Enable_Gratia_dCache_Probes][Enable Gratiad Cache Probes]] section.

---+++ Installing Gratia dCache probes without vdt-dcache
If you want to install Gratia  dCache probes on top of "native" dCache installation you have to do the following steps on admin and srm door nodes:

  1. download the new release (Check the right architecture, OS and postgres version):
<pre class="screen">
cd /tmp
wget http://vdt.cs.wisc.edu/software/dcache/gratia/1.04.4d-1_post_8.3.7/gratia-probe-dcache-sl&lt;OS&gt;_&lt;ARCH&gt;_postgres_&lt;POSTGRES_VERSION&gt;1.04.4d-1_post_8.3.7.tar.gz
</pre>
  where sl&lt;OS&gt; could be sl4 or sl5,  &lt;ARCH&gt; should be replaced with "32" or "64", and &lt;POSTGRES_VERSION&gt; is  8.3.7, e.g: 
<pre class="screen">
wget http://vdt.cs.wisc.edu/software/dcache/gratia/	1.04.4d-1_post_8.3.7/gratia-probe-dcache-1.04.4d-1.sl4_32_postgres_8.3.5.tar.gz
</pre>

%ICON{"warning"}% For ITB installation do:
<pre class="screen">
cd /tmp
wget http://vdt.cs.wisc.edu/software/dcache/gratia/http://vdt.cs.wisc.edu/software/dcache/gratia//1.06.15d-1_post_8.3.7/gratia-probe-dcache-1.06.15d-1_l&lt;OS&gt;_&lt;ARCH&gt;_postgres_&lt;POSTGRES_VERSION&gt;_postgres_8.3.7.tar.gz
</pre>


  2. Untar file:
<pre class="screen">
tar xvfz gratia-probe-dcache-sl&lt;OS&gt;_&lt;ARCH&gt;_postgres_&lt;POSTGRES_VERSION&gt;1.04.4d-1_post_8.3.7.tar.gz
</pre>

%ICON{"warning"}% For ITB installation do:
<pre class="screen">
tar xvfz gratia-probe-dcache-1.06.15d-1_l&lt;OS&gt;_&lt;ARCH&gt;_postgres_&lt;POSTGRES_VERSION&gt;_postgres_8.3.7.tar.gz
</pre>
  3. Install rpms:
<pre class="screen">
rpm -Uvh gratia-probe-dCache-transfer-itb-1.04.4d-1.noarch.rpm    # on admin node
rpm -Uvh  gratia-probe-dCache-storage-itb-1.04.4d-1.noarch.rpm    # on srm door node
rpm -Uvh  gratia-probe-common-1.04.4d-1.noarch.rpm                   
rpm -Uvh  gratia-probe-extra-libs-1.04.4d-1.noarch.rpm
rpm -Uvh  gratia-probe-extra-libs-arch-spec-1.04.4d-1.i386.rpm
#or
rpm -Uvh  gratia-probe-extra-libs-arch-spec-1.04.4d-1.x86_64.rpm
</pre>

%ICON{"warning"}% For ITB upgrade do:

If you had co<pre class="screen">
rpm -Uvh gratia-probe-dCache-transfer-itb-1.06.15d-1.noarch.rpm   # on admin node
rpm -Uvh  gratia-probe-dCache-storage-itb-1.06.15d-1.noarch.rpm   # on srm door node
rpm -Uvh  gratia-probe-services-1.06.15d-1noarch.rpm                # on srm  door node
rpm -Uvh  gratia-probe-common-1.06.15d-1.noarch.rpm
rpm -Uvh  gratia-probe-extra-libs-1.06.15d-1.noarch.rpm
rpm -Uvh  gratia-probe-extra-libs-arch-spec-1.06.15d-1.i386.rpm
#or
rpm -Uvh  gratia-probe-extra-libs-arch-spec-1.06.15d-1.x86_64.rpm
</pre>



---++Enabling Gratia dCache Probes
%ICON{"warning"}% If you are doing upgrade of gratia probe keep in mind that _ProbeConfig_ has been changed!!!. The new file will be in _ProbeConfig.rpmnew_. You will need to edit _ProbeConfig,rpmnew_ file incorporating all the modification you have done in old _ProbeConfig_, then move _ProbeConfig.rpmnew_ to _ProbeConfig_.

If you have not enable Gratia probe you  have to modify Gratia !dCache probes configuration files manually. In order to do so, you have to login on admin and srm door node and modify __ProbeConfig__ file.

On dCache admin node do the following:
<pre class="screen">
cd /opt/d-cache/gratia/probe/dCache-transfer/
edit ProbeConfig     #modify the fields:
CollectorHost="&lt;GRATIA_COLLECTOR&gt;:&lt;COLLECTOR_PORT&gt;"
SiteName="&lt;SITE_NAME&gt;"
Grid="&lt;GRID_TYPE&gt;" 
OnlySendInterSiteTransfers="false"
EnableProbe="1"
DBHostName="localhost"
DBLoginName="&lt;DB_LOGIN&gt;"
DBPassword="&lt;DB_PASSWORD&gt;"
DCacheServerHost="&lt;DCACHE_ADMIN_NODE&gt;"
EmailServerHost="smtp.&lt;DOMAIN&gt;"
EmailFromAddress="dCacheProbe"
EmailToList="&lt;email1@domain,email2@domain&gt;"
</pre>

Where 

_&lt;GRATIA_COLLECTOR&gt;_   - collector host (OSG production: gratia-osg-transfer.opensciencegrid.org, OSG ITB: gratia-osg-itb.opensciencegrid.org)

_&lt;COLLECTOR_PORT&gt;_ - collector port (OSG collectors: port 80)

_&lt;SITE_NAME&gt;_   - your site name

_&lt;GRID_TYPE&gt;_    - ITB-OSG or OSG

_&lt;DB_LOGIN&gt;_     - login name for billing database

_&lt;DB_PASSWORD&gt;_ - password for billing database

_&lt;DCACHE_ADMIN_NODE&gt;_ - dCache admin node

_smtp.&lt;DOMAIN&gt;_     -  your  smtp server

_&lt;email1@domain,email2@domain&gt;_ - list of email addresses that will receive email when probe server start/stop




On dCache srm door  node do the following:
<pre class="screen">
cd /opt/d-cache/gratia/probe/dCache-storage/
edit ProbeConfig     #modify the fields:
CollectorHost="&lt;GRATIA_COLLECTOR&gt;:&lt;COLLECTOR_PORT&gt;"
SiteName="&lt;SITE_NAME&gt;"
Grid="&lt;GRID_TYPE&gt;" 
OnlySendInterSiteTransfers="false"
EnableProbe="1"
</pre>

for production version, do the following:
<pre class="screen">
DBHostName="localhost"
DBLoginName="&lt;DB_LOGIN&gt;"
DBPassword="&lt;DB_PASSWORD&gt"
DCacheServerHost="&lt;DCACHE_ADMIN_NODE&gt;"
AdminSvrPort="&lt;ADMIN_PORT&gt;"
AdminSvrLogin="&lt;ADMIN_LOGIN&gt;"
AdminSvrPassword="&lt;ADMIN_PASSWORD&gt;"
</pre>



Where

_&lt;GRATIA_COLLECTOR&gt;_   - collector host

_&lt;COLLECTOR_PORT&gt;_ - collector port

_&lt;SITE_NAME&gt;_   - your site name

_&lt;GRID_TYPE&gt;_    - ITB-OSG or OSG

_&lt;DB_LOGIN&gt;_     - login name for srm database

_&lt;DB_PASSWORD&gt;_ - password for srm database

_&lt;DCACHE_ADMIN_NODE&gt;_ - dCache admin node

_&lt;ADMIN_PORT&gt;_   - port of  dCache admin interface

_&lt;ADMIN_LOGIN&gt;_ - user login of dCache admin interface

_&lt;ADMIN_PASSWORD&gt;_ - password of dCache admin interface


%ICON{"warning"}% For ITB version do:
<pre class="screen">
 InfoProviderUrl = "http://_&lt;DCACHE_ADMIN_NODE&gt;:2288/info"
ReportPoolUsage="0"                    # set this to 1 if you want to report pool utilization
</pre>
---++ Setting index on dCache billing database

If you already set index on your billing database skip this section. Index shoud be set on the datestamp and transaction fields, otherwise the probe will put significant load on your DB! 

In order to set index you have to log in to the billing DB using the following command:
<pre class="screen">
psql -U postgres billing
\d doorinfo
\d billinginfo
# If you don't see an index, execute the following commands:

create unique index transaction on doorinfo(transaction);
create index dates_di on doorinfo(datestamp);
create index initiator on billinginfo(initiator);
create index dates on billinginfo(datestamp);
</pre>
 
The above commands may take awhile before they finish, especially if your billing database is large.

---++ Creating  OSG User-VO Mapping 

Please read  [[https://twiki.grid.iu.edu/bin/view/ReleaseDocumentation/OsgSupportedVos][this page]] about files that are required to accurately collect grid resource usage and metrics by VO for transfer submitted using grid proxies or where voms proxy information is not available. 

You will have to install VO-Map-Utilities from VDT. In order to so you will need first to download and install pacman:
<pre class="screen">
#get pacman 
wget http://physics.bu.edu/pacman/sample_cache/tarballs/pacman-3.28.tar.gz
# Install pacman
tar xzf pacman-3.28.tar.gz
cd pacman-3.28
. setup.sh
</pre>


Then you have to decide if you are going to use gridmap-file or GUMS for user-vo mapping and answer appropriately questions asked during package installation:
<pre class="screen">
#create an installation directory
mkdir &lt;VDT_LOCATION&gt;
cd &lt;VDT_LOCATION&gt;
export VDT_GUMS_HOST=&lt;GUMS hostname&gt;   #if you are using GUMS
pacman -get  %CACHE%:VO-Map-Utilities
Beginning VDT prerequisite checking script vdt-common/vdt-prereq-check...    

The VDT installs a variety of software, each with its own license.
In order to continue, you must agree to the licenses.
You can view the licenses online at:

    http://vdt.cs.wisc.edu/licenses/

After the installation has completed, you will also be able to
view the licenses in the "licenses" directory.

Do you agree to the licenses? [y/n]
y
All prerequisite checks are satisfied.
                                                          


========== IMPORTANT ==========
Most of the software installed by the VDT *will not work* until you install
certificates.  To complete your CA certificate installation, see the notes
in the post-install/README file.

. setup.sh
</pre>

%INCLUDE{"CaCertificatesUpdates"}%


After you install and enable CA package run vdt-post-install script:
<pre class="screen"> 
vdt-post-install 
Starting...
Configuring EDG-Make-Gridmap... Done.
Completed all configuration.
</pre>
To check what services have been installed on your node you can do:

<pre class="screen"> 
cd &lt;VDT_LOCATION&gt;
. setup.sh
 vdt-control --list
Service                 | Type   | Desired State
------------------------+--------+--------------
fetch-crl               | cron   | do not enable
vdt-rotate-logs         | cron   | do not enable
vdt-update-certs        | cron   | do not enable
gums-host-cron          | cron   | do not enable
edg-mkgridmap           | cron   | do not enable
</pre>

You will have to enable and start all the services
<pre class="screen">
#if you are using GUMS
vdt-control -enable gums-host-cron
vdt-control -on gums-host-cron
touch $VDT_LOCATION/monitoring/osg-attributes.conf
$VDT_LOCATION/gums/scripts/gums-host-cron

#if you are using edg-grid-map file
vdt-control -enable edg-mkgridmap
vdt-control -on edg-mkgridmap

#enable and start crl, certificate update
vdt-control -enable vdt-update-certs
vdt-control -enable fetch-crl
vdt-control -on vdt-update-certs
vdt-control -on fetch-crl
</pre>

Check that osg-user-vo-map.txt is present and not empty, eg:
<pre class="screen">
ls -l   $VDT_LOCATION/monitoring/osg-user-vo-map.txt
-rw-r--r--  1 root root 6224 Apr 14 14:23 /opt/vdt_vomap/monitoring/osg-user-vo-map.txt
</pre>

As a last step you will need to modify _ProbeConfig_ file to add location of osg-user-vo-map.txt.
<pre class="screen">
#edit ProbeConfig 
#add the following line:
UserVOMapFile="&lt;VDT_LOCATION&gt;/monitoring/osg-user-vo-map.txt"
</pre>

---++ Starting/Stopping Gratia dCache Probes

To start/stop Gratia dCache-transfer probe that should be running on dCache admin host do the following:
<pre class="screen">
/etc/init.d/gratia-dcache-transfer start/stop
</pre>

Gratia dCache-storage probe is a cronjob that is run by default every hour. The cron file gratia-probe-dcache-storage.cron is located in /etc/cron.d
 
---++ Sanity Check

If you turned on  Gratia dCache probes you should be able to see the accounting information by accessing your Gratia collector. Keep in mind that storage probe collection is executed by a cron job, so check the time the cron job will be executed:
<pre class="screen">
[root@gwdca04 ~]# cat /etc/cron.d/gratia-probe-dcache-storage.cron 
22 * * * * root "/opt/d-cache/gratia/probe/dCache-storage/dCache-storage_meter.cron.sh"
</pre>

To access the information about Gratia dCache-transfer probe, go to http://&lt;gratia_host&gt;:&lt;gratia_port&gt;/gratia-reporting/, click on "Custom SQL Query" on the left site menu frame, enter the following query into provided text box:
<pre class="screen">
select * from MasterTransferSummary where ProbeName like 'dcache-transfer:&lt;dcache_admin_host_name&gt;';
</pre>
click on "Execute Query" and you will see the total number of transfer per user.


To access the information about Gratia dCache-storage probe, go to http://&lt;gratia_host&gt;:&lt;gratia_port&gt;/gratia-reporting/, click on "Custom SQL Query" on the left site menu frame, enter the following query into provided text box:
<pre class="screen">
select j.Host as`Pool Name`, m.CreateTime, r.Value as `File Type`, d.Value as `Disk Usage`, d.StorageUnit from JobUsageRecord j join JobUsageRecord_Meta m on (m.dbid = j.dbid) join Resource r on (r.dbid = j.dbid and r.Description = 'Type' and r.Value = 'precious') join Disk d on (d.dbid = j.dbid and d.description = 'used') where m.ProbeName like 'dcache-storage:&lt;your_host_name&gt;' order by j.dbid desc limit 100;
</pre>
click on "Execute Query" and you will see the pool usage information. 

%ICON{"warning"}% For ITB version do:
To access the information about Gratia dCache-storage probe, go to http://&lt;gratia_host&gt;:&lt;gratia_port&gt;/gratia-reporting/, click on "Custom SQL Query" on the left site menu frame, enter the following query into provided text box:
<pre class="screen">
select * from StorageElement where ProbeName like 'dcache-storage:&lt;dcache_admin_host_name&gt;';
</pre>

click on "Execute Query" and you will see the storage information. 


To check ITB Gratia collector click here [[http://gratia-osg-itb.opensciencegrid.org/gratia-reporting/][ITB Gratia]].

To check OSG Gratia collector click here [[http://gratia-osg-transfer.opensciencegrid.org/gratia-reporting/][OSG Gratia]].

---++ Known issues

---++ More information


%STOPINCLUDE%
%BR%
%COMPLETE2% %BR%
%RESPONSIBLE% Main.TanyaLevshina - 13 Apr 2009 %BR%
%REVIEW% Main.SuchandraThapa - 21 Jul 2009 %BR%
%REVFLAG% %X% %BR%

---++ *Comments*
%COMMENT{type="tableappend"}%