%META:TOPICINFO{author="SuchandraThapa" date="1254860654" format="1.1" version="1.16"}%
%META:TOPICPARENT{name="WebHome"}%
---+!! *Install the CA Certificate Updater*
%TOC%

%STARTINCLUDE%

---++ Install the CA Certificate Updater

%EDITTHIS%

%NOTE% This applies to OSG 1.2 installations, there is a [[OSG10CACertificatesUpdates][separate page]] for OSG 1.0 installions .

As of September 2008, certificate authority certificates will no longer be installed and configured during installation.  Many components of the installation will not work until these are installed.  In order to finish installing the CA-Certificates package on your system you will need to do the following one-time configuration.  For more information, see http://vdt.cs.wisc.edu/releases/2.0.0/certificate_authorities.html

Run the following to setup up your certificates for OSG CA distributions
      <pre class="screen">
#source VDT_LOCATION/setup.sh
#$VDT_LOCATION/vdt/bin/vdt-ca-manage setupca --location [root|local|&lt;PATH&gt;] --url [osg|vdt|&lt;URL&gt;]

 Location:
    root - install into /etc/grid-security
    local - install into $VDT_LOCATION/globus/share
    PATH - install into PATH (e.g. /nfs/certificates)

A common example is to install the OSG-provided certificates into the OSG install directory:

$VDT_LOCATION/vdt/bin/vdt-ca-manage setupca --location local --url osg
</pre>

There are 2 additional services associated with certificate authorities:
   1 _vdt-update-certs_ - a cron service that insures that future certificate updates are fetched automatically.
   1 _fetch-crl_ - a cron service that retrieves the latest certificate revocation lists (CRLs) for each CA.

On Compute Element (CE) installs, the enabling of these services  is performed by the _configure_osg_ script based on the following option in the _config.ini_ file:
<pre class="screen">
[Misc Services]
use_cert_updater = True
   or
use_cert_updater = %(enable)s
</pre>

For all other installations, the following steps  should be performed (you must be _root_ user to use the _vdt-control_ script):
   1 For the _vdt-update-certs_ service:
      * vdt-control --enable vdt-update-certs
      * vdt-control --on vdt-update-certs
   1 For the _fetch_crl_ service (this will activate the service and retrieve an initial set of CRLs)
      * vdt-control --enable fetch-crl
      * vdt-control --on fetch-crl
      * $VDT_LOCATION/vdt/bin/vdt-ca-manage fetchCRL

A complete documentation of vdt-ca-manage command can be found in the [[VDTCAManage][vdt-ca-manage documentation]]

%STOPINCLUDE%
%BR%
%COMPLETE3%%BR%
%RESPONSIBLE% Main.JohnWeigand - 21 Jun 2009 %BR%
%REVIEW% Main.SuchandraThapa - 21 Jul 2009 %BR%
%REVFLAG% %X%  %BR%



---++ *Comments*

%COMMENT{type="tableappend"}%