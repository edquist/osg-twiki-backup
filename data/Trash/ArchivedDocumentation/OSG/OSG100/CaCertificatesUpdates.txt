%META:TOPICINFO{author="JohnWeigand" date="1248191851" format="1.1" version="1.11"}%
%META:TOPICPARENT{name="WebHome"}%
---+!! *Install the CA Certificate Updater*
%TOC%

%STARTINCLUDE%

---++ Install the CA Certificate Updater

%EDITTHIS%

%STARTOSG12%
As of September 2008, certificate authority certificates will no longer be installed and configured during installation.  Many components of the installation will not work until these are installed.  In order to finish installing the CA-Certificates package on your system you will need to do the following one-time configuration.  For more information, see http://vdt.cs.wisc.edu/releases/2.0.0/certificate_authorities.html

   1  Run the following to setup up your certificates for OSG CA distributions
      <pre class="screen">
#source VDT_LOCATION/setup.sh
#$VDT_LOCATION/vdt/bin/vdt-ca-manage setupca --location [root|local|&lt;PATH&gt;] --url [osg|vdt|&lt;URL&gt;]

 Location:
    root - install into /etc/grid-security
    local - install into $VDT_LOCATION/globus/share
    PATH - install into PATH (e.g. /nfs/certificates)

A common example is to install the OSG-provided certificates into the OSG install directory:

$VDT_LOCATION/vdt/bin/vdt-ca-manage setupca --location local --url osg

</pre>
   1 Make sure vdt-update-certs is enabled, so that future certificate updates are fetched automatically.  If you are root, you can use vdt-control
      * vdt-control --enable vdt-update-certs
      * vdt-control --on vdt-update-certs
<div class="twikiConflict"><b>CONFLICT</b> version 10:</div>
<del>   1 On most installations, certificate revocation lists (CRLs) are required to be updated periodically,  This is performed by the _fetch-crl_ cron service that has been installed.  To activate this service and retrieve an initial set of CRLs, you can perform the following as _root_ user:
</del><ins>   1 On most installations, certificate revocation lists (CRLs) are required to be updated periodically,  This is performed by the *fetch-crl* cron service that has been installed.  To activate this service and retrieve an initial set of CRLs, you can perform the following as *root* user:
</ins>      * vdt-control --enable fetch-crl
      * vdt-control --on fetch-crl
<div class="twikiConflict"><b>CONFLICT</b> version new:</div>
   1 On most installations, certificate revocation lists (CRLs) are required to be updated periodically,  This is performed by the *fetch-crl* cron service that has been installed.  To activate this service and retrieve an initial set of CRLs, you can perform the following as *root* user:
      * vdt-control --enable fetch-crl
      * vdt-control --on fetch-crl
      * $VDT_LOCATION/vdt/bin/vdt-ca-manage fetchCRL
<div class="twikiConflict"><b>CONFLICT</b> end</div>
      * $VDT_LOCATION/vdt/bin/vdt-ca-manage fetchCRL

A complete documentation of vdt-ca-manage command can be found [[VDTCAManage][here]]
%ENDOSG12%

As of September 2008, certificate authority certificates will no longer be installed and configured during installation.  Many components of the installation will not work until these are installed.  In order to finish installing the CA-Certificates package on your system you will need to do the following one-time configuration.  For more information, see http://vdt.cs.wisc.edu/releases/1.10.1/certificate_authorities.html

   1 Edit the value of cacerts_url in the configuration file at $VDT_LOCATION/vdt/etc/vdt-update-certs.conf by un-commenting the following line:
      * #cacerts_url = http://software.grid.iu.edu/pacman/cadist/ca-certs-version
   1 Then, run the following commands to download the certificates
      * source (or 'dot' execute) $VDT_LOCATION/vdt-questions.sh
      * $VDT_LOCATION/vdt/sbin/vdt-setup-ca-certificates
   1 Make sure vdt-update-certs is enabled, so that future certificate updates are fetched automatically.  If you are root, you can use vdt-control
      * vdt-control --enable vdt-update-certs
      * vdt-control --on vdt-update-certs


%STOPINCLUDE%
%BR%
%COMPLETE3%%BR%
%RESPONSIBLE% Main.JohnWeigand - 16 Jun 2009 %BR%
<del>%REVIEW%
</del><ins>%REVIEW% Main.SuchandraThapa - 21 Jul 2009 %BR%
</ins>%REVFLAG% %X%  %BR%



---++ *Comments*
<div class="twikiConflict"><b>CONFLICT</b> original 8:</div>
%COMMENT{type="tableappend"}%<div class="twikiConflict"><b>CONFLICT</b> version 10:</div>
<del>   1 On most installations, certificate revocation lists (CRLs) are required to be updated periodically,  This is performed by the _fetch-crl_ cron service that has been installed.  To activate this service and retrieve an initial set of CRLs, you can perform the following as _root_ user:
</del><ins>   1 On most installations, certificate revocation lists (CRLs) are required to be updated periodically,  This is performed by the *fetch-crl* cron service that has been installed.  To activate this service and retrieve an initial set of CRLs, you can perform the following as *root* user:
</ins>      * vdt-control --enable fetch-crl
      * vdt-control --on fetch-crl
<del>%COMMENT{type="tableappend"}%</del>%COMMENT{type="tableappend"}%<div class="twikiConflict"><b>CONFLICT</b> version new:</div>
   1 On most installations, certificate revocation lists (CRLs) are required to be updated periodically,  This is performed by the *fetch-crl* cron service that has been installed.  To activate this service and retrieve an initial set of CRLs, you can perform the following as *root* user:
      * vdt-control --enable fetch-crl
      * vdt-control --on fetch-crl
      * $VDT_LOCATION/vdt/bin/vdt-ca-manage fetchCRL
<div class="twikiConflict"><b>CONFLICT</b> end</div>
%COMMENT{type="tableappend"}%