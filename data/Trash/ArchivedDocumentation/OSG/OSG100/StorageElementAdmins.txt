%META:TOPICINFO{author="KyleGross" date="1476285014" format="1.1" version="1.24"}%
%META:TOPICPARENT{name="DocumentationTable"}%
---+!! *<noop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%


This page contains how-to guides and other necessary information for setting up a Storage Element (SE) or testing a Storage Element Implementation.

For information about CE-Storages ($DATA, ...) and their configuration, please refer to [[LocalStorageConfiguration][Local Storage Configuration]].


<div style="text-align: center; float: right; padding: 10px; width: 50%;"><img src="%PUBURL%/Trash/Trash/Trash/Trash/Integration/StorageElementAdmins/WhatisaSE.png" style="border:0; width: 100%; " /> %BR% [[%PUBURL%/Trash/Trash/Trash/Trash/Integration/StorageElementAdmins/WhatisaSE.png][Full Size]]
([[%ATTACHURL%/WhatisaSE.bmp][in BMP format]])</div>


---++ Setup of Storage Element (SE)

%RED%Is this page needed? Maybe just for the gridftp-based thing and maybe srm-tester? The other setups are  just links.%ENDCOLOR%
---+++ !!How to Setup SE based on Gridftp-based File System

The easiest way to install a Gridftp server with all the required certificates is using VDT (or even the whole OSG package). There is no special requirement about the directory: it has to be a valid path for the Gridftp server and have the protections set to provide the desired access to Grid users. Sometime sticky (only the creator of a file can remove it) or setgroup (group is maintained in subdirectories) ids may be useful.

Making a Gridftp-based File System that is also a CE-Storage (like OSG_DATA) involves creating a data directory and mounting it on all worker nodes so the storage is accessible to applications running on that site via some environment variables. The SE (host, port, path) has then to point to the same data directory.

To make a concrete example let's say that you have:
   * a host where you have a disk space that you want to use as SE and a Gridftp server installed using VDT (this host may be the gatekeeper or a separate host): =ftpserver.domain=.
   * the directory on =ftpserver.domain= that you want to use as SE is =/storage/root/dir/=
   * on the worker nodes you want to have it visible as =/share/osgdata/=

Then you have to set accordingly these values in configure-osg:
   * OSG_DATA=/share/osgdata/
   * DEFAULT_SE=gsiftp://ftpserver.domain/storage/root/dir/

And you have to:
   * create the directory in =ftpserver.domain=, make it worls writable with _sticky_ flag set 
   * configure =ftpserver.domain= to export the directory, e.g. using NFS
   * configure all workernodes and the gatekeeper (or wherever you run your fork jobs) to mount that directory as =/share/osgdata/=

E.g. To obtain the configuration above you can ececute these commands on =ftpserver.domain= as root:
<pre>
mkdir -p /storage/root/dir
chmod a+rwx /storage/root/dir
chmod o+t /storage/root/dir
</pre>

Then in =/etc/exports= on =ftpserver.domain= you'll have a line like (the IPs depend on your subnet):
=/storage/root/dir 10.0.0.0/255.0.0.0(rw,no_root_squash)= 

If you have NFS static mounts (the alternative is to use automount), in =/etc/fstab= of the gatekeeper and all workernodes you'll have an entry like:
=ftpserver:/storage/root/dir        /share/osgdata                 nfs     bg,intr,noatime=


%RED%Example is very specific%ENDCOLOR%

---+++ !!How to Setup SE based on SRM/dCache
[[http://vdt.cs.wisc.edu/extras/InstallingDcacheForOSG.html][SRM/dCache Installation and Configuration using the VDT-dCache package]].

---+++ !!How to Setup SE based on BeSTMAN?!
%RED%Need a link here %ENDCOLOR%

---+++ !!How to Setup Generic Information Provider (GIP)
To configure this component, see the 
[[Trash.Trash/Trash/Integration_ITB092GenericInformationProviders][Generic Information Providers]] and [[GipOverrides][Gip Overrides]] documents in this guide.

 
---++ How to Configure Compute Element Storage
    See  [[LocalStorageConfiguration][Configure "CE Storage"]]

---++ How to Test SE Implementation

      <nop>SRM-TESTER is available to test SRM based storage sites as well as popular file transfer protocol such as gsiftp, http or ftp, based storage sites. SRM-TESTER is available as a stand-alone tester. SRM-TESTER can be installed through VDT pacman, or downloadable from http://sdm.lbl.gov/srm-dist.

The SRM Client Tools are an optional module in the OSG Cache. They are supported by the SRM-dCACHE team: srm@lbl.gov.

---++ More information 
%RED%DON'T NEED HERE%ENDCOLOR%

   * [[GlueOSG][GlueOSG]] - Glue Schema description
 
   * [[LocalStorageConfiguration][Local Storage Configuration]] - Configuring CE Storage
  


%BR%
%COMPLETE1% %BR%
%RESPONSIBLE% Main.TedHesselroth - 17 Oct 2007 %BR%
%REVIEW% Main.RobGardner - 08 Nov 2007 %BR%
%REVCOM% Update?Delete?  Main.RobGardner

%META:TOPICMOVED{by="ForrestChristian" date="1166036420" from="Integration.StorageElementAdmins050" to="Integration/ITB_0_5.StorageElementAdmins"}%
