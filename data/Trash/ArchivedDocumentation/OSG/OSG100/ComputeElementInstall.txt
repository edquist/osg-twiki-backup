%META:TOPICINFO{author="BrianBockelman" date="1486496452" format="1.1" reprev="1.90" version="1.90"}%
---+!! *<noop>%SPACEOUT{ "%TOPIC%" }%*
%TOC{depth="2"}%

%INCLUDE{"InstallingComputeElementServices"}%
%INCLUDE{"CaCertificatesUpdatesConfig"}%
---++ Additional Installations.
There are several pieces of software closely related to, but not a part of the default CE install.  We recommend to carefully consider the following installs:
   * *[[Trash.ReleaseDocumentationManagedFork][Managed Fork]]*: By default, anyone can launch an arbitrary number of processes on the CE node itself (through "jobmanager-fork").  Most "good users" know not to do this, but accidents have happened previously.  Managed fork uses Condor to manage incoming fork requests. Commands such as condor_q and condor_history can be used to see the fork jobs, providing an important tracing capability.  The number of concurrently running fork jobs can be set in the Condor config file.  Managed fork does not prevent a malicious user from overwhelming the CE.  We recommend large sites (>1000 cores) consider running managed fork. 
   * *[[Trash.ReleaseDocumentationGlobusWebServicesInstall][Globus Web Services]]*:  This is a web service that implements a variety of protocols, including WS-GRAM, a replacement for the GRAM protocol used widely in the OSG.  Currently, this is rarely used or configured.
For brevity of the CE install documents, these have been split out into a separate page.  
<!--
It was an easy decision to move Globus-WS off to another page; the Managed Fork stuff is closer to belonging on the top page.
-->

%BR%
---+ Configuration
This next major chapter of this document covers the configuration of the OSG CE.  We first introduce the configuration tool itself, then provide a high-level description of the configuration file.

%INCLUDE{"Trash.ReleaseDocumentationConfigureOSGAttributes"}%
%INCLUDE{"Trash.ReleaseDocumentationFullPrivPreConfig"}%
%INCLUDE{"GipConfiguration"}%
%INCLUDE{"InstallAndConfigureRSV"}%

---++ Run =configure-osg=

At this point, you should have configured every section in the config.ini.  First, validate the setup with:
<pre class="screen">
configure-osg -v
</pre>
This may discover several issues you have to address; don't forget to [[Documentation.SiteAdminResources][ask for help if needed]].  Once this exits successfully, you are ready to run the configuration:
<pre class="screen">
configure-osg -c
</pre>
This will additionally enable any services required by your configuration settings, but not turn them on.

%INCLUDE{"StartingServices"}%
<!--
%BR%
Note: MPI documentation needs a major overhaul before it can be included here.
[[https://twiki.grid.iu.edu/bin/view/Documentation/AdminSetupMPI][How to Support MPI Jobs On Your Site]]
-->
%BR%
%COMPLETE2% %BR%
%RESPONSIBLE% Main.SuchandraThapa  %BR%
%REVIEW% Main.StevenTimm - 20 Jul 2009  %BR%
%REVFLAG% %X% %BR%


---++ *Comments*
| If you have a server certificate but it is expired "vdt-control --on" will start your service but they will not work. Check the gatekeeper log file if you cannot authenticate. | Main.MarcoMambelli | 10 Jul 2009 - 19:15 |
| If the OLD_VDT_LOCATION is set there is no need to run the cert updater by hand, the certs will be handled same way as they were in the old install. I am not sure whether that happens always, but always for me.<br />Also seems to me that the Enabling Full Privilege Authentication is done automatically based on config.ini and the files are placed where they need to be - nothing to be done for it these days.<br /> | Main.IwonaSakrejda | 23 Jul 2009 - 20:54 |
%COMMENT{type="tableappend"}%



%META:TOPICMOVED{by="RobGardner" date="1192745464" from="Integration/ITB_0_7.ComputeElementInstallGuide" to="Integration/ITB_0_7.ComputeElementInstall"}%
