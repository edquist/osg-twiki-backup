%META:TOPICINFO{author="ForrestChristian" date="1172188058" format="1.1" version="1.11"}%
%META:TOPICPARENT{name="DocumentationTable"}%
%LINKCSS%
---+!! OSG Client Installation Guide


%TOC%

%STARTINCLUDE%
%EDITTHIS%

The OSG ITB Release uses the [[http://vdt.cs.wisc.edu/releases/1.6.1/release.html][VDT]] for the client installation.

You do *not* need install the client package as =root=. Use the following commands to create a installation directory and perform the installation.

---++Install Pacman
See the [[PacmanInfo][pacman guide]].

%NOTE% Pacman version 3.19 or greater is required for ITB  0.5.2.

---++Install the client packages
To begin the installation, create an installation directory for the OSG Client:

<pre class="screen">
 > <b>mkdir ~/client_directory</b>
 > <b>cd ~/client_directory</b>
 > <b>pacman -get OSG:client</b>
</pre>

For OSG-ITB do

<pre class="screen">
 > <b>pacman -get ITB:client</b>
</pre>

You will probably need to have the following rpms installed on your redhat-like system: glibc-devel, python-devel, compat-libstdc++-33, gcc.  VOMS is not supported on x86_64 so if you install the client on a 64-bit platform you will not get the voms-proxy clients.

During the installation you will be asked a few questions:

<pre class="screen">
[root@fgitb122 client]# <b>pacman -get ITB:client</b>
Do you want to add [http://software.grid.iu.edu/itb/] to [trusted.caches]? (y or
 n): <b>y</b>
Package [client] found in [ITB]...
Do you want to add [http://software.grid.iu.edu/pacman/] to [trusted.caches]? (y
 or n): <b>y</b>
Package [vo-client-0.4.0] found in [OSG]...
Do you want to add [http://vdt.cs.wisc.edu/vdt_161_cache] to [trusted.caches]? (
y or n): <b>y</b>
.....
</pre>

%NOTE% You may be asked this question multiple times for different pacman cache locations. Answer =y= each time.

Then packages start downloading..


Depending upon your operating system, you may be prompted by the question:

<pre class="screen">
  The VDT is unable to recognize your platform. This version of 
  the VDT is supported on several Linux releases:

   RedHat 7
   RedHat 9
   RedHat Enterprise Linux 3
   Fedora Core 3
   Debian 3.1
   ROCKS 3.3
   Fermi Scientific Linux 3.0
 
  The VDT may work on other platforms, but it's not guaranteed. If you
  encounter problems and send mail to the VDT team for support please
  mention that you are installing the VDT on an unsupported platform.

  Do you wish to continue? [y/n] 
</pre>

Answer =y= to continue the installation.

<!-- After the installation has completed, you will also be able to... -->

<pre class="screen">
VDT 1.6.1 installs a variety of software, each with its own license.
In order to continue, you must agree to the licenses.
You can view the licenses online at:

     http://vdt.cs.wisc.edu/licenses/1.6.1

After the installation has completed, you will also be able to
view the licenses in the "licenses" directory.

Do you agree to the licenses? [y/n] <b>y</b>

</pre>

Answer =y= to continue the installation.

<pre class="screen">
If you would like, we can configure the Condor batch system to
start automatically at boot time.

Configuring the Condor daemon requires changes to
- /etc/init.d (or /etc/rc.d/init.d)

Would you like to enable the Condor batch system to run automatically?

Possible Answers:
     y: Yes. Please remove any old instances of the service and run
        this one..
     n: No. Please remove any old instances of the service, but don't
        run this one.
</pre>

Answer =y= to start up the Condor.  This is a personal condor that is only for submitting jobs to remote sites.

<pre class="screen">
Several services provided by the VDT create unbounded log files.  If you wish, w
e can rotate those file on a daily basis.

Would you like to setup daily rotation of VDT log files?

Possible Answers:
     y: Yes. Please remove any old instances of the service and run
        this one..
     n: No. Please remove any old instances of the service, but don't
        run this one.

<b>n</b>

Do you want to run a cron job that will update the CA certificate
revocation lists automatically? This will use the fetch-crl program
that comes with the VDT. The cron job will run at a random time
between midnight and 6:00am. We select a random time to avoid having
all VDT installations fetching CRLs at the same time.

Do you want to update the CA certification revocation lists (CRLs) automatically
? [y/n] <b>y</b>

The VDT typically installs public certificates and signing policy files
for the well-known public CA's. This is necessary in order for you to
perform GSI authentication with any remote Grid services (that have
service/host certificates signed by these CA's).

For more information please refer to the VDT documentation:
Where would you like to install CA files?

Choices:
        r (root)  - install into /etc/grid-security/certificates
                   (existing CA files will be preserved)
        l (local) - install into $VDT_LOCATION/globus/share/certificates
        n (no)    - do not install
n

</pre>

Press =l= (lowercase "L") to select the location for the certificates.

The client will complete with the following output:

<pre class="screen">
The VDT version 1.6.1 has been installed.


The OSG Client package ITB version 0.5.2 has been installed.
</pre>


You can =source setup.csh=  or =.setup.sh= to get all the client tools into your $PATH.


---++Do you have a user certificate?
You will need a personal grid certificate to run validation tests. See the [[CertScripts#FAQ][directions for obtaining a certificate]]. If you still have questions on getting a personal certificate, or don't know how to generate a grid proxy (=grid-proxy-init=, etc.), contact your [[http://www.grid.iu.edu/osg-includes/sc.php][VO Support Center]].

---++Post-install README
To turn on the daemons and cron jobs, execute

=vdt-control --on=

See CondorMinimal for instructions on running a simple Condor client, ie. one that can only submit jobs and doesn't rely on its own condor master.

More details on how to start up the services are in the =$VDT_LOCATION/post-install/README= for information on how to start it up.  


%STOPINCLUDE%

%WHU%

---++!! Major Updates
- Main.RobQ - 16 Mar 2006  %BR%
- Main.RobQ - 01 May 2006  %BR% 
- Main.MarciaTeckenbrock - 12 Sep 2006   %BR% 

%META:TOPICMOVED{by="ForrestChristian" date="1166046231" from="Integration.ClientInstallationGuide050" to="Integration/ITB_0_5.ClientInstallationGuide"}%
