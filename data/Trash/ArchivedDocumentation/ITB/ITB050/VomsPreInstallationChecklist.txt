%META:TOPICINFO{author="KyleGross" date="1225985924" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="VomsWhatToDo"}%
%LINKCSS%

---+!! %SPACEOUT{ "%TOPIC%" }%
%TOC%

%STARTINCLUDE%
---++ VirtualOrganizations/VOInfoMS Pre-Installation Checklist
%EDITTHIS%

---+++ Certificates
%NOTE% These instructions assume that you already have the necessary certificates on this host. Although it can be done as a post-install step, we recommend you get them in advance.

Instructions for getting the certificate can be found at the [[http://www.cs.wisc.edu/vdt/requesting_cert.html][VDT site]]. Also refer to =$VDT_LOCATION/vdt/post-install/README= for related instructions.

---++++ HOST certificate
During the installation and configure process (using the =configure_voms= script) to create a VO, the HOST certificate is added to the VirtualOrganizations/VOInfoMS Global ACL list for the VirtualOrganizations/VOInfo being created. This allows the root user on this machine to update the VirtualOrganizations/VOInfoMS VirtualOrganizations/VOInfo using the =voms-admin= command, so that, in effect, the root user is already a VirtualOrganizations/VOInfo-Admin in this VO. This is the only purpose for this certificate at this time.

The host certificate should be installed in =/etc/grid-security= with ownership and permissions as:

<pre class="screen">
-rw-r--r--  1 root   root    1176 Nov  7 16:38 hostcert.pem
-r--------  1 root   root     887 Nov  7 16:38 hostkey.pem
</pre>


---++++HTTP certificate
Used by Apache. and the VirtualOrganizations/VOInfoMS server.

The HTTP certificate for your system should be installed in =/etc/grid-security/http= with ownership and permission as:

<pre class="screen">
> <b>/etc/grid-security</b>
drwxr-xr-x    2 root     root         4096 Aug 31 23:00 http

> <b>/etc/grid-security/http</b>
-rw-r--r--    1 daemon   daemon       1169 May  8 10:38 httpcert.pem
-r--------    1 daemon   daemon        887 May  8 10:38 httpkey.pem
</pre>



---+++Previous installations
If you have an OSG VirtualOrganizations/VOInfoMS running and you're about to reinstall or if any of the following daemons are installed and running on your machine, see the [[#ShutdownGuide][Shutdown instructions]] below. 

In addition, if you have a previous installation with the <i>cloned</i> HOST certificate (<i>/etc/grid-security/vomscert.pem - vomskey.pem</i>), you should remove them. The HTTP certificate described above will replace them.

You should also remove the <i>/etc/init.d/edg-crl-upgraded</i> process.  The EDG CRL upgrade is invoked using <i>root</i> cron.



%STOPINCLUDE%

%BOTTOMMATTER%

-- Main.JohnWeigand - 27 Feb 2007