%META:TOPICINFO{author="ElizabethChism" date="1466010125" format="1.1" version="1.6"}%
%META:TOPICPARENT{name="WebHome"}%
---+!! Testing GRAM4

---++ Tests during ITB 0.5.2 

| *Task* | *Description* | *Start*  |  *Finish*  |
| 1 | Exercise gt4 test scripts provided by Globus (functional testing) | 2/1/07 |  2/13/07 |
| 2 | Exercise gt4 test scripts at scale (10/100/1000/2000 jobs) | 2/15/07 |  2/26/07 |
|    |  Examine/plot gram host load  vs n-jobs  | | |
|    |  Same, for submit host   | |  |
| 3 | Check that WS gram enabled submit host comes fully equipped in OSG-Client | 2/15/07  | 2/20/07  |
| 4 | Setup Condor-G submit host | 2/17/07  | 2/23/07 |
| 5 | Perform Condor-G submission to ITB sites (functional testing) | 2/17/07 | 2/23/07 | 
| 6 | Perform Condor-G submission to ITB sites (at scale) | 2/22/07 | 2/28/07 | 
| 7 | Prepare report for OSG consortium meeting  |  2/25/07 | 3/1/07 | 


---++ Task 1

   * ==globusrun-ws -submit -F *<i>hostname</i>*:9443 -c /bin/date==
   * ==globusrun-ws -submit -F *<i>hostname</i>*:9443 -s -c /bin/date==
      * basis validation table entry: %Y% success, %G% failure, %O% connection refused
   * ==globusrun-ws -submit -F *<i>hostname</i>*:9443 -s -job-description-file filename.txt==
   * ==globusrun-ws -submit -F *<i>hostname</i>*:9443 -Ft {Condor|PBS}== with above iterations
      * successful sites - now see https://twiki.grid.iu.edu/twiki/bin/view/Trash/Trash/Integration/WsGramOsgSites

---++ Task 2
   * more fully explored by Suchandra. See his results page at: https://twiki.grid.iu.edu/twiki/bin/view/Main/WSGramTesting
   * showed scaling issues with gt4 by looping over globusrun-ws

---++ Task 3

   *  installed OSG-Client package
      * ==pacman -get ITB:client== 
      * reinstalled on 02/20
      * fresh install 02/26 to fix pilot-error/soft link problem
   *  repeat of Task 1 tests yielded same results
      * continued in Task 4
 

---++ Task 4

   * Used final OSG-Client installation from Task 3, configured a 'full install host'
   * ==vdt-control --on== to turn on condor 
      * instead of just the <i>master + schedd</i> from my attempt to configure as a 'submit-host', it now includes <i>collector, negotiator, startd </i> 
   * downloaded test scripts from http://t2.unl.edu/cms/ws-osg-tests/  and edited for current tests
      * current tests are now successful
   * wrote my own similar tests via OSG documents with same results
   
---++ Task 5

   * Using full condor install via OSG-Client installation of Task 4, began testing ITB set of sites
   * added https://twiki.grid.iu.edu/twiki/bin/view/Trash/Trash/Integration/WsGramOsgSites listing sites working via ws gram 

---++ Task 5 and 6

   * Were completed and documented on separate test page: https://twiki.grid.iu.edu/twiki/bin/view/Trash/Trash/Integration/JeffTestPage
   * results show a scaling dependence in gt4 compared to gt2 such that at high enough rates (with Condor-G limits off), service can be brought down.

---++ Previous testing

   * http://t2.unl.edu/cms/ws-osg-tests/
   * http://home.fnal.gov/~weigand/globus-ws/notes.shtml


---++ References
   * Submiting jobs through WS gram, http://vdt.cs.wisc.edu/releases/1.6.0/submitting_wsgram_jobs.html


-- Main.RobGardner - 14 Feb 2007