%META:TOPICINFO{author="ForrestChristian" date="1172276921" format="1.1" reprev="1.4" version="1.4"}%
%META:TOPICPARENT{name="VomsWhatToDo"}%
%LINKCSS%

---+!!<nop>OSG VOMS  Installed Software
%TOC%
%STARTINCLUDE%

---++ VOMS Installed Software
%EDITTHIS%

<pre class="screen">
&gt; <b>source $VDT_LOCATION/setup.sh </b>
&gt; <b>./osg-voms-version </b>
VOMS deployed with OSG-VTB-1.7.1
VOMS 1.6.16.10 deployed with OSG 0.5.2
</pre>
---+++ OSG 0.5.2
---+++ Discovering exactly what software has been installed
<pre class="screen">
&gt; <b>source $VDT_LOCATION/setup.sh </b>
&gt; <b>vdt-version </b>
You have installed a subset of VDT version 1.6.1a:
    Apache HTTPD 2.2.3
    CA Certificates v21 (includes IGTF 1.11 CAs)
    Fetch CRL 2.6.2
    GPT 3.2
    Java SDK 1.4.2_12
    Logrotate 3.7
    MySQL 4.1.21
    Apache Tomcat 5.0.28
    VOMS 1.6.16.10
    VOMS Admin (client 1.2.13, interface 1.0.3, server 1.2.15) 1.2.15-0
</pre>
You can use the =vdt-control= command to see all services that are installed as part of the install, and whether or not they are enabled or disabled. For example:
---+++ /etc/init.d services
---+++ The init.d services that are included
   * *apache*
   * *mysql*
   * *tomcat-5*
   * *voms* - this is the voms server that services =voms-proxy-init= requests
| voms |  this is the voms server that services =voms-proxy-init= requests |

In addition, during the installation, a test VO called =VDT= will be created  if  your host certificate is available before you install.  If the host certificate is not available, configuration of the =VDT= VO will have to be performed separately.
---+++ cron services
All crons are installed with random times set at installation.
Some cron jobs are installed with random times. Look at =crontab -l= to see which ones you have. Likely candidates are:
=root= cron (sample):
<pre class="programlisting">
54 2 * * * /usr/local/osg-voms/fetch-crl/share/doc/fetch-crl-2.6.2/fetch-crl.cron
0  0 * * * /usr/local/osg-voms/vdt/bin/vdt-rotate-logs
</pre>
| vdt-rotate-logs | Rotate log files periodically, to keep them from growing too large |
---+++ VDT_LOCATION/vdt/services/state file (sample)
<i>root</i> cron
fetch-crl       cron    enable  32 1 * * *      /usr/local/osg-voms/fetch-crl/share/doc/fetch-crl-2.6.2/fetch-crl.cron
mysql           init    enable  /usr/local/osg-voms/post-install/mysql
vdt-rotate-logs cron    enable  0 0 * * *       /usr/local/osg-voms/vdt/bin/vdt-rotate-logs
apache          init    enable  /usr/local/osg-voms/post-install/apache
tomcat-5        init    enable  /usr/local/osg-voms/post-install/tomcat-5
voms            init    enable  /usr/local/osg-voms/post-install/voms
0 0 * * * /usr/local/osg-voms/vdt/bin/vdt-rotate-logs
</pre>

---+++ Log file rotation
The following are the log files that are configured for rotation with the installation in 
=$VDT_LOCATION/vdt/etc/vdt.logrotate=:

<pre class="programlisting">
# Rotate daily
daily
# Keep a week's worth
rotate 7
# Compress old files
compress
compressoptions -9f
# Truncate, instead of moving, files to avoid problems with apps
copytruncate
# Just ignore it if they're not there
missingok
# Rotate these files
/usr/local/osg-voms/apache/logs/access_log {}
/usr/local/osg-voms/apache/logs/error_log {}
/usr/local/osg-voms/apache/logs/mod_jk.log {}
/usr/local/osg-voms/apache/logs/ssl_request_log {}
/usr/local/osg-voms/tomcat/v5/logs/catalina.out {}
<i>*** there will be one of the followoing for each VO you configure ***</i>
/usr/local/osg-voms/glite/log/voms.VDT ()
/usr/local/osg-voms/tomcat/v5/logs/voms-admin.VDT.log {}
</pre>
<!-- MAJOR UPDATES

For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->


%STOPINCLUDE%

%BOTTOMMATTER%
-- Main.JohnWeigand - 27 Feb 2007 - made consistent with the CE version

