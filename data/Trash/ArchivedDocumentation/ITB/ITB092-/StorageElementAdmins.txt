%META:TOPICINFO{author="ForrestChristian" date="1172275199" format="1.1" version="1.10"}%
%META:TOPICPARENT{name="DocumentationTable"}%
---+!! %SPACEOUT{ "%TOPIC%"}%
%TOC%
%STARTINCLUDE%


---++ Introduction
This page contains how-to guides and other necessary information for setting up a Storage Element (SE) or testing a Storage Element Implementation.

<div style="text-align: center; float: right; padding: 10px; width: 50%;"><img src="%PUBURL%/Integration/StorageElementAdmins/WhatisaSE.png" style="border:0; width: 100%; " /> %BR% [[%PUBURL%/Integration/StorageElementAdmins/WhatisaSE.png][Full Size]]
([[%ATTACHURL%/WhatisaSE.bmp][in BMP format]])</div>

A Storage Element on OSG is a node/cluster of nodes which

   * Provides Storage Space.
   * Is accessible to applications running on OSG through either gridftp and/or srm interface. 
   * Has GIP setup and configured properly which publishes its information.
   * Has well-defined policy for cleanup and usage.
   * Is registered with OSG.

Please do not confuse a Storage Element (described above and independent from any CE) with CE-Storages described in [[LocalStorageRequirements][Local Storage Requirements]]. These last ones are part of a CE and functional to it. By themselves, these do not provide outside access to the storage space. To be able to access the space of a CE-Storage from outside a Computing Element, usually a Storage Element is used. They may access the same storage (physical disk or tape space) but they are two distinct resources, described in different elements of the GLUE Schema. The first one within the CE, the second one in the SE. The elements in the CE-SE binding allow to connect them together and specify which SE is accessing the same storage space (disk or tape) served by a CE-Storage.

---++ Types of Storage Elements

---+++ <nop>GridFTP-based File System 

 A [[http://www.globus.org/grid_software/data/gridftp.php][GridFTP]]-based SE is simply a directory accessible via GSI-authenticated ftp.
This provides no space management functions and limited permission management functions.
In LCG this is called also "Classic SE".

The definition is quite loose. To specify it, you need an end-point: host and port of the server and base directory. The whole directory tree under it is part of the SE. There may be even overlapping SEs if one base directory is a subdirectory of another or if there links between the two trees.

The easiest way to install a [[http://www.globus.org/grid_software/data/gridftp.php][GridFTP]] server with all the required certificates is using VDT, or even the whole OSG package. There is no special requirement about the directory: it has to be a valid path for the !GridFTP server and have the protections set to provide the desired access to Grid users. Sometime sticky (only the creator of a file can remove it) or setgroup (group is maintained in subdirectories) IDs may be useful.

All CE-Storages (e.g. $DATA) of Grid3 or earlier versions of OSG were implemented this way. 
An example of Gridftp based SE used to provide outside acces to a CE-Storage is presented [[LocalStorageRequirements#OSG_DATA][here]].

---+++SRM/Gridftp-based File System

      A [[http://www.globus.org/grid_software/data/gridftp.php][SRM/GridFTP]]-based SE is simply a directory accessible via GSI-authenticated ftp and [[http://sdm.lbl.gov/srm-wg/][SRM]] interfaces.
SRM allows to manage and query the resource but the possibility to access files directly breaks the constraints put by SRM by allowing a backdoor.
Beside the SRM interface on top of it, this is like the previous [[#Gridftp_based_File_System][Gridftp based File System]].

---+++SRM/dCache

  This is a full implementation of a Storage Element that enforces stronger constraints and can manage a space spaning more volumes. For information about the VDT-dCache release of SRM/dCache, see the [[http://vdt.cs.wisc.edu/components/dcache.html][VDT-dCache webpage]]. Support for SRM/dCache installations using the VDT-dCache package is available through vdt-support@opensciencegrid.org.
For information on dCache, see the [[http://www.dcache.org/manuals/index.shtml][dCache documentation]].

---+++SRM/Drm

  This is a full implementation of a Storage Element that enforces stronger constraints and can manage a space spanning more volumes.
[[http://sdm.lbl.gov/srm-dist][Documentation and a manual for SRM/DRM v1.2.9 is available]]. Support is available through srm@lbl.gov.

---++ Setup of Storage Element (SE)

For information about CE-Storages ($DATA, ...) and their configuration please refer to [[LocalStorageConfiguration][Local Storage Configuration]] and [[LocalStorageRequirements][Local Storage Requirements]] (for requirements and specification).

---+++ How to Setup SE based on Gridftp-based File System

The easiest way to install a Gridftp server with all the required certificates is using VDT (or even the whole OSG package). There is no special requirement about the directory: it has to be a valid path for the Gridftp server and have the protections set to provide the desired access to Grid users. Sometime sticky (only the creator of a file can remove it) or setgroup (group is maintained in subdirectories) ids may be useful.

Making a Gridftp-based File System that is also a CE-Storage (like OSG_DATA) involves creating a data directory and mounting it on all worker nodes so the storage is accessible to applications running on that site via some environment variables. The SE (host, port, path) has then to point to the same data directory.

---+++ How to Setup SE based on SRM/dCache
[[http://vdt.cs.wisc.edu/extras/InstallingDcacheForOSG.html][SRM/dCache Installation and Configuration using the VDT-dCache package]].

---+++ How to Setup SE based on SRM/DRM
[[http://sdm.lbl.gov/srm-dist/client/][SRM/DRM Installation and Configuration]]

---+++ How to Setup Generic Information Provider (GIP)
To configure this component, see the 
[[GenericInformationProviders][Generic Information Providers]] document in this guide.

 
---++ How to Configure Compute Element Storage
    See  [[LocalStorageConfiguration][Configure "CE Storage"]]

---++ How to enable your applications to access Storage on OSG 
    See [[UsingLocalStorage][Access Storage on OSG]]

---++ How to Test SE Implementation
      <nop>SRM-TESTER is available to test SRM based storage sites as well as popular file transfer protocol such as gsiftp, http or ftp, based storage sites. SRM-TESTER is integrated into the [[http://www.ivdgl.org/gridcat/home/][Integration.GridCat]] and also available as a stand-alone tester. SRM-TESTER can be installed through VDT pacman, or downloadable from http://sdm.lbl.gov/srm-dist.

The SRM Client Tools are an optional module in the OSG Cache. They are supported by the SRM-dCACHE team: srm@lbl.gov.

---++ More information 

   * [[SrmDrm][Integration.SrmDrm]] - Information about the SRM/DRM SE implementation.
   * [[GlueOSG][Integration.GlueOSG]] - Glue Schema description
   * [[Integration.LocalStorageRequirements][Local Storage Requirements]] - Local storage definitions
   * [[LocalStorageConfiguration][Local Storage Configuration]] - Configuring CE Storage
   * [[UsingLocalStorage][Local Storage Use]] - Using Storage on OSG


%STOPINCLUDE%

%BOTTOMMATTER%
<!--Future editors should add their signatures beneath yours!-->
- Main.NehaSharma - 09 Nov 2005   %BR%
- Main.RobGardner - 26 May 2005   %BR%
- Main.BurtHolzman - 04 Jan 2006   %BR%
- Main.JohnWeigand - 13 Jan 2006   %BR%
- Main.RobQ - 01 May 2006   %BR%
- Main.NehaSharma - 21 Feb 2007 %BR%


%META:TOPICMOVED{by="ForrestChristian" date="1166036420" from="Integration.StorageElementAdmins050" to="Integration/ITB_0_5.StorageElementAdmins"}%
