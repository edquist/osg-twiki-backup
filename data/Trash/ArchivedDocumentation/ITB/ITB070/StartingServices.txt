%META:TOPICINFO{author="AnneHeavey" date="1192818974" format="1.1" version="1.13"}%
%META:TOPICPARENT{name="ComputeElementInstall"}%
---+!! *<nop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%

%STARTINCLUDE%
%BR%
---+ _%INCLUDEHEADING%  %SPACEOUT{ "%TOPIC%" }%_
%EDITTHIS%
%BR%

First, make sure your host certificate is installed completely and properly. 

Starting and stopping services is now done via the =vdt-control= script. This is a general description of the =vdt-control= functionality.  The examples shown are for a CE node installation so take that into consideration.

When you do an installation, nothing will be running at the 
conclusion of the install. Source the =$VDT_LOCATION/setup.sh|csh= script. Then you have to run the following command as root to start things up:

<pre class="screen">
# vdt-control --on
</pre>

This will:
   * Copy files into /etc/init.d
   * Configure xinetd
   * Setup cron
   * Start up processes
If vdt-startup finds conflicts (perhaps from an old VDT install) it might decline to do some of the setup. For example, if you already have a gsiftp service in xinetd from an old installation, it would be considered a conflict. You can force it to do the setup with:

<pre class="screen">
# vdt-control --on --force 
</pre>

Or, if there's one service, e.g., mysql, that fails, try:
<pre class="screen">
# vdt-control --off --force mysql
# vdt-control --on mysql
</pre>

There are several times when you might want to shut down the VDT. You should shut down (=vdt-control --off=) before doing a =pacman -update=, if you need to upgrade your system, 

<pre class="screen">
# <b>vdt-control --off </b>
</pre>

Should you want to enable a service that is disabled in OSG, you must first run ==vdt-register-service==. Using <i> gris </i> as an example,

<pre class="screen">
# <b>vdt-register-service --name <em>gris</em> --enable </b>
</pre>

after that, you can turn it on via =vdt-control=.  

You can list all services with the =--list= option:

<pre class="screen">
# vdt-control --list 
Service            | Type   | Desired State
-------------------+--------+--------------
fetch-crl          | cron   | enable
vdt-rotate-logs    | cron   | do not enable
gris               | init   | enable
globus-gatekeeper  | inetd  | enable
gsiftp             | inetd  | enable
mysql              | init   | enable
globus-ws          | init   | enable
edg-mkgridmap      | cron   | do not enable
gums-host-cron     | cron   | enable
MLD                | init   | enable
</pre>

For additional information, consult the man pages for [[http://vdt.cs.wisc.edu/releases/1.6.1/man/vdt-control.html][vdt-control]] and [[http://vdt.cs.wisc.edu/releases/1.6.1/man/vdt-register-service.html][vdt-register-service]]. Note that you can view these commands from the command line using the man command:

<pre class="screen">
# man vdt-control 

VDT-CONTROL(8)                 VDT Documentation                VDT-CONTROL(8)
NAME
       vdt-control - Enable and disable VDT services
SYNOPSIS
           vdt-control [options] [service-name(s)]
                       --on
                       --off
                       --force
                       --no-start
                       --list
                       --hel
           Note: The optional service name(s) only apply to --on and --off.
...etc...
</pre>

%STOPINCLUDE%
%BR%
%COMPLETE1% %BR%
%RESPONSIBLE% Main.RobGardner - 18 Oct 2007 %BR%
%REVIEW%