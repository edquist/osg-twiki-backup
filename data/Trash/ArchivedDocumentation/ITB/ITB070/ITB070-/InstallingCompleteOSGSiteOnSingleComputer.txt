%META:TOPICINFO{author="ForrestChristian" date="1170283475" format="1.1" version="1.6"}%
%META:TOPICPARENT{name="LocalStorageConfiguration"}%
---+ %SPACEOUT{ "%TOPIC%" }%

%TOC%

%STARTINCLUDE%
%EDITTHIS%

This section describes how to install a complete OSG site onto a single computer as a testbed. You thus have CE, SE, and batch system on the same piece of hardware &mdash; no clustering or multiple pieces of hardware.

For this example, we assume a partition mounted as  =/osg=. Users are mapped to different unix accounts but all belong to the same =griduser= unix group. 

   $ %H% *TIP*: If you prefer, you can mount each subdirectory of =/osg= &mdash; =/osg/grid=, =/osg/wntmp=, =/osg/app=, =/osg/data=, =/osg/wngrid= &mdash; on a different partition. Mixing these so that some are on separate partitions and some share a partition also works.

%STARTSECTION{ "InstallCompleteOSGSiteOnSingleComputer_Procedure" }% 
   1. Create the following subdirectories: 
      * =/osg/grid=
      * =/osg/app=
      * =/osg/data=
      * =/osg/wngrid=
      * =/osg/wntmp=
   1. Change the group ownership of these directories to =griduser=
   1. Change the permissions on the following to 1770:
      * =/osg/data=
      * =/osg/wngrid=
      * =/osg/app=
      * =/osg/wntmp=
   1. Install the server (OSG) in =/osg/grid=.
   1. Install the the user client (OSG-WN-Client) in =/osg/wngrid=
   1. Configure variables:
      * GRID=/osg/wngrid
      * APP=/osg/app
      * DATA=/osg/data
      * WN_TMP=/osg/wntmp
<!--   * Point the gridftp server to =/osg/data= (gsiftp://myserver.domain/mydir/ -> =/osg/data=) -->
%ENDSECTION{ "InstallCompleteOSGSiteOnSingleComputer_Procedure" }%

---++ Example Summary of Configuration
Here you will have a summary of =osg-configure.sh= (=osg-attributes.conf=) that looks like:  
<pre>
 Please review the information:
   Grid Site Name:  <i>UNIQUE_NAME</i>
   OSG Location:    <i>/osg/grid</i>
   OSG WN Client:   <i>/osg/wngrid</i>
   Application:     <i>/osg/app</i>
   Data:            <i>/osg/data</i>
   Site read:       UNAVAILABLE
   Site write:      UNAVAILABLE
   WorkerNode Temp: <i>/osg/wntmp</i>
   Default SE:     <i>gsiftp://myheadnode.athome.edu:2811</i>
   JOB Manager:     <i>condor</i>
 Is this information correct (y/n)? [n]: <b>y</b>
</pre>

%NOTE% The specification for the =Default SE= should be such that one can concatenate it with the setting for =Data= to arrive at a valid location SURL without any additional or extraneous slashes.
%NOTE% =myheadnode.athome.edu= is the nodename of the single headnode. The port number is that at which the gsiftp server is listening.

In addition, the OSG CE expects a home directory (=/osg/users/$USER=) for every user to which the proxy and gass-cache are written as jobs are submitted.

---++ OSG Compliance
This installation implements [[LocalStorageRequirements#Grid3Model][Grid3 Model configuration]] and is thus OSG compliant.

%STOPINCLUDE%

%BOTTOMMATTER%
-- Main.ForrestChristian - moved out to single topic %BR%
 %BR%

%META:TOPICMOVED{by="ForrestChristian" date="1163175647" from="Integration/Release00dot5n.IntstallingCompleteOSGSiteOnSingleComputer" to="Integration/Release00dot5n.InstallingCompleteOSGSiteOnSingleComputer"}%
