%META:TOPICINFO{author="StevenTimm" date="1207927878" format="1.1" version="1.52"}%
%META:TOPICPARENT{name="PreparingComputeElement"}%
---+!! *<nop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%

%STARTINCLUDE%
%BR%
---+ _%INCLUDEHEADING%  %SPACEOUT{ "%TOPIC%" }%_
%EDITTHIS%
%BR%

---++ Introduction

This checklist lets you know the environment variables you may need to set before starting the software installation process, and also details the various operating system facilities that need to be available.

---++ Export previous configuration (optional)
   * See ReusingConfigurationInformation.

---++ Exporting Condor environment variables for VDT install
   * Define and export the variable VDTSETUP_CONDOR_LOCATION to point to your Condor installation (i.e., the directory directly above bin, etc, lib, and so on): 
<pre class="screen">
# export VDTSETUP_CONDOR_LOCATION=<i>/my/condor/location/</i>
</pre>
   * Define and export the variable VDTSETUP_CONDOR_CONFIG to point to your Condor config file (i.e., =$VDTSETUP_CONDOR_LOCATION/etc/condor_config=):
<pre class="screen">
# export VDTSETUP_CONDOR_CONFIG=$VDTSETUP_CONDOR_LOCATION/etc/condor_config
</pre>

---++ Using existing Condor install with OSG-RSV
   In VDT 1.10.0 this cannot be done anymore.  What was called condor-devel has been renamed 
  to be condor-cron and it will always get installed.
<!--  S. Timm 4/11/08 comment out obsolete info
   * For OSG-RSV, if you want to use a pre-existing Condor *6.9.x* installation, be sure the following variable is set appropriately, otherwise VDT will bring down a full installation of all the condor-devel (i.e. Condor 6.9.4) binaries. The Condor 6.9.x =bin/=, =sbin/=, =etc/=, =lib/= ...  directories should be directly under this location, e.g. =/opt/condor-6.9.3=.
<pre class="screen">
# export VDTSETUP_CONDOR_DEVEL_LOCATION=<i>/my/condor-<strong>6.9.x</strong>/location/</i>
</pre>
-->

---++ Setting !GUMS environment variables for VDT install
To save yourself some steps later on in the privilege (authorization) configuration, set the variable VDT_GUMS_HOST to your GUMS host now.  For example:
<pre class="screen">
# export VDT_GUMS_HOST=<i>mygumshost.domain</i>
</pre>

---++ Operating System and Networking Requirements
---+++!! Compilers
From OSG 0.5.1 and greater no compilers are required to install the CE. Previous VDT installations presumed that you have a working C and C++ compiler as part of the install.  The gcc and g++ that come as rpms with most Linux distributions are fine.  

---+++!! Network setup
It is assumed that your hardware has a working network connection through which packages may be retrieved and from which services may contact your system. The full OSG CE package is ~850 MB.
%RED% Should check the size again%ENDCOLOR%
---++++!! Firewall
If your installation is inside a site firewall, has a host firewall (ipchains/iptables), or is using TCP wrappers (=/etc/hosts.{allow,deny}=), you'll need to review the [[ComputeElementFirewalls][Firewall Document]] of this guide and arrange for appropriate Internet access.

---++++!! Time synchronization (NTP) 
Each system should be setup to support network time protocol. Lack of synchronization generally complicates troubleshooting and can cause problems with the security infrastructures evaluation of e.g. proxy lifetimes. 

---++++!! Reverse name lookups (DNS)
For the middleware to correctly function both the forward and reverse lookups as configured through a local DNS service are required for the IP address of the system.

---+++!! Previous OSG or Grid3 Installations
If there is a _previous installation_ of the OSG or Grid3 environment or other Globus middleware, please _stop the processes_ which are currently running. This includes the Globus Resource Information Service (GRIS), !Integration.MonALISA and other services configured to start upon initialization on your system. Also, if you've sourced the =$VDT_LOCATION/setup.[c]sh= on your previous VDT install, just log out and log back in to clear out your environment.  From VDT 1.6.1 and later (OSG 0.6.0 and later) this can be done with the vdt-control --off command.

More information is provided in the current [[ShuttingDownCE][OSG Shutdown Guide]] or the Shutdown Guide for the version being upgraded.

---+++!! Creation and setup of local user accounts for VOs for OSG 
UNIX user accounts need to be created by the system administrator for the VOs. You will need to create at least one local user account (with the appropriate configuration) for each VO to which you wish to provide resources.  The uid and name of the account can be locally determined. You will be asked to provide a mapping from local accounts to VOs later in the installation, the following default accounts are assumed for examples in this document.  VO's are frequently added to the OSG, any new VO's not mentioned here will appear in =$VDT_LOCATION/monitoring/osg-user-vo-map.txt=.

The accounts are: 
<table style="vertical-align: top"><tr><td style="vertical-align: top">
   * cdf 
   * fermilab 
   * fmri 
   * grase  
   * mis 
   * sdss   
</td><td style="vertical-align: top">
   * star 
   * usatlas1 
   * uscms01 
   * ligo 
   * sam 
   * samgrid 
   * dosar 
   * des 
</td><td style="vertical-align: top">
   * glow 
   * gridex 
   * nanohub 
   * geant4 
   * i2u2 
   * mariachi 
   * osg 
</td><td style="vertical-align: top">
   * osgedu 
   * nwicg 
   * ops 
   * gugrid
   * gpn
   * compbiogrid
   * engage
</td>
<td style="vertical-align: top">
   * ilc
   * nysgrid
   * sbgrid
   * cigi
</td>
</tr></table>

If there is already a "globus" user on the system, the Web Services container will run as globus, else it will run as "daemon".

---+++!! Do you have a user certificate?
You will need a personal grid certificate to run validation tests in your =$HOME/.globus= directory.  If you don't have a personal certificate, or don't know how to generate a grid proxy (grid-proxy-init, etc),  see [[UserCertificates][User Certificates]].


%STOPINCLUDE%
%BR%
%COMPLETE1% %BR%
%RESPONSIBLE% Main.StevenTimm - 18 Oct 2007 %BR%
%REVIEW% Main.RobGardner - 20 Nov 2007 %BR%
%REVCOM% Remove Grid3 references.  List of user accounts when they can become out of date quickly?  Change to refer to the vo-package.

%META:TOPICMOVED{by="RobGardner" date="1192751193" from="Integration/ITB_0_7.CEPreInstallationChecklist" to="Integration/ITB_0_7.PreInstallationChecklistCE"}%
