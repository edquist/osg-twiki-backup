%META:TOPICINFO{author="KyleGross" date="1225985928" format="1.1" version="1.20"}%
---+!! *<nop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%

%STARTINCLUDE%
%BR%
---+ _%INCLUDEHEADING%  %SPACEOUT{ "%TOPIC%" }%_
%EDITTHIS%
%BR%

The OSG generally accepts X509 certificates issued by Certification Authorities accredited by the [[http://www.gridpma.org][IGTF]] from many different locations around the world.  Most people working with OSG may obtain certificates from the DOEGrids CA and these instructions apply only to DOEGrids.  For information on others, contact your [[http://www.grid.iu.edu/osg-includes/sc.php][VirtualOrganizations/VOInfo Support Center]]. 
Certificates and their uses, particularly user certificates (also called personal certificates) are described in [[Documentation/CertificateWhatIs][CertificateWhatIs]].  

---++ Obtaining a personal Certificate
There are a set of scripts distributed in VDT which provide the most convenient
method of obtaining a certificate but one can also use a web browser to request and download certificates.  The web browser is convenient for web and email uses while the scripts are most convenient for shell command grid activities. 
This is described in [[Documentation/CertificateGet][How do I maintain a DOEGrids Digital PKI/X509 Personal Certificate?]].

---++ Update the VirtualOrganizations/VOInfoMS information (e.g., after renewing): 
You will need to check with your [[http://www.opensciencegrid.org/Support_Centers][VirtualOrganizations/VOInfo support]] for what you may need to do to
update your certificate information in your VirtualOrganizations/VOInfo's VirtualOrganizations/VOInfoMS server.

The example command that shows the typically useful information about a certificate is:

<pre class="screen">
> <userinput>openssl x509 -in ~/.globus/usercert.pem -subject -serial -dates -issuser -noout</userinput>
</pre>

---++ Test your credentials:

In the simplest case:
<pre class="screen">
> <userinput>source $VDT_LOCATION/setup.sh</userinput>
> <userinput>grid-proxy-init</userinput>
> <userinput>grid-proxy-info</userinput>
</pre>

To test with voms-proxy-init you will need instructions from your VirtualOrganizations/VOInfo about the correct environment setup.


---++ Troubleshooting

If this doesn't work, check that the "gatekeeper" &mdash; the Grid component that accepts and executes remote jobs &mdash; can correctly authenticate you:

%NOTE% This example was run against the Fermilab site. Customize it for your VirtualOrganizations/VOInfo and site.

<pre class="screen">
> <userinput>globusrun -a -r <replaceable>fermigrid2.fnal.gov</replaceable>/jobmanager-fork</userinput>
GRAM Authentication test successful
> 
</pre>

---++ Renewing or Revoking a Personal Certificate
Information about replacing your certificate before it expires, and about revoking your certificate
if/when your private key is lost or compromised is described at
[[Documentation/CertificateGet][How do I maintain a DOEGrids Digital PKI/X509 Personal Certificate?]].


%STOPINCLUDE%
%BR%
%COMPLETE3% %BR%
%RESPONSIBLE% Main.DougOlson - 26 Oct 2007 %BR%
%REVIEW% Main.RobGardner - 20 Nov 2007  %BR%
%REVCOM%  This needs to be re-done and integrated with GetGridCertificates
