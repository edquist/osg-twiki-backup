%META:TOPICINFO{author="BrianBockelman" date="1269542675" format="1.1" version="1.4"}%
%META:TOPICPARENT{name="WebHome"}%
---+ Measurements and Metrics Graphing

Metrics and Measurements provides a web graphing system designed for experts to pull data out of the Gratia system and other data sources.  It is based upon !GraphTool.

---+++ Install Directions
   * Start on a working RHEL-4 or -5 compatible system with a functional yum setup.
   * Install the Nebraska yum repository RPM:
      * For 32-bit RHEL-4 compatible installs: rpm -i http://t2.unl.edu/store/rpms/SL4/i686/Nebraska-repo-0.1-1.noarch.rpm
      * For 64-bit RHEL-4 compatible installs: rpm -i http://t2.unl.edu/store/rpms/SL4/x86_64/Nebraska-repo-0.1-1.noarch.rpm
      * For 32-bit RHEL-5 compatible installs: rpm -i http://t2.unl.edu/store/rpms/SL5/i686/Nebraska-repo-0.1-1.noarch.rpm
      * For 64-bit RHEL-5 compatible installs: rpm -i http://t2.unl.edu/store/rpms/SL5/x86_64/Nebraska-repo-0.1-1.noarch.rpm
   * Install the EPEL repository.
   * Do =yum install OSG-Measurements-Metrics=
      * This will pull in python-matplotlib and python-setuptools, which may conflict with old versions of OSG-Metrics-Measurements
   * Edit =/usr/lib64/python2.4/site-packages/matplotlib/mpl-data/matplotlibrc= and set =backend: Agg=.
   * Copy =/etc/DBParam_basic.xml.rpmnew= to =/etc/DBParam.xml=.
   * Fill out the templates in =/etc/DBParam.xml=.  You can set things up so all three connections point to the same Gratia database if you'd like (in fact, this is the usual setup for local collectors).
   * Start up the service with =service !GratiaWeb start=.
   * View the webpage at http://your_hostname.example.com:8100/gratia/xml/
   * The graphs utilize port 8100; it is common practice to use mod_proxy in Apache to put the graphs behind a production webpage.