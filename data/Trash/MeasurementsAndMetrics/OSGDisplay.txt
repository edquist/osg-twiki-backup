%META:TOPICINFO{author="X509_2fDC_3dorg_2fDC_3ddoegrids_2fOU_3dPeople_2fCN_3dAshu_20Guru_20897726" date="1291656649" format="1.1" reprev="1.4" version="1.4"}%
%META:TOPICPARENT{name="WebHome"}%
---+ OSG Display

The OSG Display is currently in alpha / draft form and is liable to change.  The current link is here:

   * http://display.grid.iu.edu


---+ Installation

   * Install the MS core fonts as described here: http://corefonts.sourceforge.net/; the OSG Display RPM will depend on the resulting msttcorefonts package.  In the US, it is permissible to install using the above method, but not to redistribute; this is why this is a separate step.
   * Install the Nebraska yum repository RPM:
      * For 32-bit RHEL-5 compatible installs: rpm -i http://t2.unl.edu/store/rpms/SL5/i686/Nebraska-repo-0.1-1.noarch.rpm
      * For 64-bit RHEL-5 compatible installs: rpm -i http://t2.unl.edu/store/rpms/SL5/x86_64/Nebraska-repo-0.1-1.noarch.rpm
   * Do =yum install OSG_Display_Data=

This automatically sets up a cron job (the osg_display script itself includes an automatic timer so the OS kills it after 100 seconds) to generate the required images and data.  Writes are handled atomically, so it should not be possible to encounter a partially-updated graph.  By default, output is written to /var/www/html/osg_display.  This can be controlled by the configuration file /etc/osg_display/osg_display.conf. 

Four cache files (dailydatasource.b, dailydatasourcecount.b, monthlydatasource.b and monthlydatasourcecount.b ) are written to the /tmp folder to assist in caching of SQL fetched data.

Logs are written to /var/log/osg_display.  The entire update procedure can be manually triggered by running =osg_display=.  I recommend to run this at least once the first time you install it to verify everything works.

---+ Building

Build on a RHEL5-compatible node.  To check out the code, run:
<verbatim>
svn co svn://t2.unl.edu/brian/osg_display
</verbatim>

There's a file in the directory called =RPM_BUILD_INSTRUCTIONS= which will always contain the most up-to-date instructions.  Currently, this can be built by running the following command from the checked-out directory
<verbatim>
./src/scripts/rpm_build_script 
</verbatim>

The results will be dropped into the dist/ directory.
