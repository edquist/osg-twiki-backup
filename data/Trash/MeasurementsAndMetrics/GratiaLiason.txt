%META:TOPICINFO{author="PhilippeCanal" date="1263497596" format="1.1" version="1.11"}%
%META:TOPICPARENT{name="WebHome"}%
The metrics and measurements area is in charge of being the liason between the OSG and the external Gratia project.

This page is meant to be a "virtual post-it", a record of the ongoing requests from the OSG to Gratia.  This is updated during the weekly Gratia meeting (every Wednesday).

The Gratia meeting on Jan 8, 2010 was cancelled.

New requests:

Gratia Tasks (Prioritized)

   * Storage Accounting:
      * Big changes were put in 1.06
      * Collecting data with BDII probe.
      * Storage probes in progress for Xrootd, Hadoop, and dCache.  dCache is about 75% done; Xrootd 50%; Hadoop 100%
      * Moving onto validation of information. Need effort help here.

   * Evaluate impact of new CE interfaces - CREAM and Gram 5. 

   * Improve the automation of the Gratia Testing framework and work with the VDT team on including this in the nightly build/tests as far as possible.

   * Allow data from single probe to be delivered to multiple collectors

   * Ensure clean and clear separation of code modules  between "Gratia, the job accounting system" and "Gratia, the data transport".

   * Make transfer probes work at a summary level instead of per-file; 

   * Add a layer to allow forwarding of summary data instead of raw data. 

   * Work with the MonaLisa team to allow Gratia probe information to be injested into ML

   * Insure that the DCache probe can really unique record its states by adding a unique id to the transfer records in the billing database.

   * Mitigate issues related to log rotation in the Probe that do log scrapping (SunGrid Engine, PBS, LSF, glexec).
 
In progress to Complete to agreed upon timeline shown in Gratia plans:
   * Transfer reports:
      * Requirements given to Chris.  On May 6, statement was transfer reporting was 5 calendar weeks away (June 10-ish?).
      * Possibly will have Karthik look at this.
   * Storage reports:
      * Worked on by Karthik.
   * BOINC Probe: Headed up by Clemson.  
      * Being rolled out at Clemson; changes might be needed for wider deployment.
 
   * STG requirement 22: Not done, not being worked on.  Push back on the STG



DONE
   * Gratia RSV probe -- handed off to GOC.  In the code, but not currently well-deployed.  More work is needed to make GOC happy, I believe.
      * Decision by STG that probe owned by the Gratia project. Testing in ITB underway.
      * Released in OSG 1.2.4?
  * Storage Accounting: Implemented at the collector side - updates are about ready to be committed for Gratia 1.06.
      * Running in test collector at Nebraska.
      * Collecting data with BDII probe.
      * Need effort to integrate with site admin tools.
      * Stakeholder requirement (CMS).  Overdue.
      * In release 1.06. Now moving onto validation of information. Need effort help here. 
   * CMS requested that we be able to distinguish jobs removed in Condor with the PeriodicRemove expression be reported as failed jobs (currently, they are listed as successful).
      * Asked Gratia team on September 1 to put this as a high priority update for v1.06.
      * DONE
   * Gratia 1.06 - feature freeze Sept 9, release Sept 21. DONE
   * Upload DN to WLCG
      * John W progressing with John Gordon's team.  Waiting on John Hover's work to finish.
      * STG requirement 35.
         * Needs to contact STG
      * John Hover is working on this.  Has stated he's on target for 1.06 feature freeze target date.
      * In 1.06 release DONE.
   * Metrics and Measurements status data in Gratia:
      * Year 4 deliverable for M&M - updates should be ready for collector for 1.06.
      * Included in 1.06. DONE
Notes:
   * Gratia made these following requirements on OIM; uploaded Dec 2008:  http://osg-docdb.opensciencegrid.org/cgi-bin/ShowDocument?docid=809
   * No longer being pursued due to BNL's lack of interest:
      * Gratia 1.04 does not include http proxy support, as *might* be required by BNL.  This requires deep hacking into the Python urllib; if BNL needs it, they will need to contribute this due to the amount of effort.

-- Main.BrianBockelman - 13 May 2009; Main.RuthPordes - 10 DEc 2009