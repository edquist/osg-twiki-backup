%META:TOPICINFO{author="ChrisGreen" date="1247512163" format="1.1" reprev="1.6" version="1.6"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2009/07/06 - 2009/07/17

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2009/07/13</dt>
  <dd>
    <ul>
      <li>Work with Phil to get DN properly authorized in VOMRS (glitch in approval process). Go over simple grid use. Start him investigating DAGs.</li>
      <li>Cancel stalled TG jobs. Something is not right but no-one around right now to help. Neha back tomorrow. Try 10 jobs again when bluearc stabilizes.</li>
    </ul>
  </dd>
  <dt>2009/07/10</dt>
  <dd>
    <ul>
      <li>Reply to Tanya regarding LQCD PPC srmcp problems.</li>
      <li>Hiccups with 100 jobs. try to get to sane state. Fail. try again. Jobs are pending for a very long time now -- don't know what the trouble (if any) is.</li>
    </ul>
  </dd>
  <dt>2009/07/09</dt>
  <dd>
    <ul>
      <li>Send latest progress notes to John M. Respond to related questions from Maxim. Bow out of attendance at AC meeting.</li>
      <li>More work and discussions with Phil. Send scripts and JDL files.</li>
      <li>IM with TRB on problems with DOE cert.</li>
      <li>More TG messings-about. 10 jobs successful; send 100.</li>
      <li>Fix OSGMM / Condor configuration.</li>
    </ul>
  </dd>
  <dt>2009/07/08</dt>
  <dd>
    <ul>
      <li>Question to Steve about OSG client config on gratia01.</li>
      <li>Improve configuration of OSG client / condor on gratia01. OSGMM is now controlled by Condor.</li>
      <li>Start trying to run jobs via TG gateway. Problems (apparently) due to WS config being hosed on all FNAL GKs.</li>
      <li>Work with Phil on intro to grid, globus-job-run and !CondorG.</li>
      <li>Compose and send out notes on TG meeting Monday.</li>
      <li>Respond to urgent request from Mats to suspend a user from the OSG VO due to multiple VO / certificate confusion.</li>
      <li>IM from Brian regarding D0 use of UNL and possible improvements -- their use of srmcp to pull a large amount of data onto each worker node is a major bottleneck, contributing to to up to 100% overhead (ie job takes twice as long as it would otherwise). Much better CPU use would result if they staged their files on the local SE and pulled from there. Discuss with Parag, get name (Adam Lyon) and pass on to Brian.</li>
    </ul>
  </dd>
  <dt>2009/07/07</dt>
  <dt>2009/07/06</dt>
  <dd>
    <ul>
      <li>Quick mail to Ruth about meeting with Phil.</li>
      <li>TG meeting with Ruth, Phil, Steve, Keith, Neha, Eileen on TG plans and action items.</li>
      <li>Share Skype details with Phil. A little research his Perl / !GnuPG problem -- possibly due to incompatibility between old perl and new !GnuPG.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2009/07/13</dt>
  <dd>
    <ul>
      <li>Turn off gr5xN collector DB updates to allow gratia06 update.</li>
      <li></li>
    </ul>
  </dd>
  <dt>2009/07/10</dt>
  <dd>
    <ul>
      <li>Check on transfer collector health -- kill stuck queries.</li>
      <li>FGCAB and install new dCacheSimple procedure on transfer collectors.</li>
      <li>Fermigrid group meeting.</li>
      <li>Install pyOpenSSL on fgitb002 to prevent complaints.
      <li>Question to Burt regarding whether 7PB is a reasonable number for combined transfers for CMS during June. Yes, apparently.</li>
    </ul>
  </dd>
  <dt>2009/07/09</dt>
  <dd>
    <ul>
      <li>Compose, execute and send results of queries for Philippe showing accumulated results for jobs, wall and CPU time, distinct sites and VOs by quarter for proposal.</li>
      <li>Check on transfer collector health -- kill stuck queries.</li>
    </ul>
  </dd>
  <dt>2009/07/08</dt>
  <dd>
    <ul>
      <li>Respond to question from Tanya regarding transfer collector.</li>
      <li>Respond to question from Philippe regarding upload rates per hour for transfer collectors: compose, execute and send results of queries. Discussion of results.</li>
      <li>Shut down DB updates of collectors for Dan to reboot for (another) new kernel.</li>
      <li>Check on transfer collector health -- kill stuck queries.</li>
    </ul>
  </dd>
  <dt>2009/07/07</dt>
  <dd>
    <ul>
      <li>Based on report from Steve Timm, investigate psacct problem.</li>
      <li>Investigate disastrously slow transfer record processing rate on OSG collector reported by Brian. After investigation, turned out to be that the DB was swamped by stacked, stalled instances of the potted query, dCacheSimple. Apparently the nested query does not scale well to large summary tables. Will need a new query (some ideas on improving) to prevent recurrences of the problem.</li>
      <li>Mail to Steve apprising of new version of probes in YUM repository.</li>
    </ul>
  </dd>
  <dt>2009/07/06</dt>
  <dd>
    <ul>
      <li>Question from Dan re probe errors on fgt5x5 (indicative of FS / hardware issues).</li>
      <li>IM / email with Karthik and Brian on collector trouble -- no apparent problem.</li>
      <li>Email with Karthik on possible transfer collector problems -- just 503 from overloaded collector due to CMS T1 catchup.</li>
      <li>Email with Xin / Brian on dCache and possible collector problems. Possible rot in billing DB on their end -- 503 problem on ours due to CMS T1 catchup.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2009/07/13</dt>
  <dd>
    <ul>
      <li>Reply to John Hover email regarding WLCG DN summarization.</li>
      <li>Reply to Ruth email regarding transfer collector capacity worries.</li>
      <li>Discussion with Philippe and fix probes that weren't using DN method to upload DN information. Cut release and notify VDT. Reply to questions from Alain.</li>
    </ul>
  </dd>
  <dt>2009/07/10</dt>
  <dd>
    <ul>
      <li>Compose improved dCacheSimple query to avoid long delays on the transfer collectors and greatly decreased record processing capacity.</li>
      <li>Discussion with Philippe on further improvements to query vs possible loss of precision. Test different versions of query. Seem to be significant caching effects.</li>
      <li>Question from Dan on whether proposed changes to GUMS mappings for FNAL would cause problems for Gratia. Some VO->reporting name changes might need to be made, but nothing crazy.</li>
      <li>Question from Philippe on whether we have a robots.txt on the collector -- yes.</li>
    </ul>
  </dd>
  <dt>2009/07/09</dt>
  <dd>
    <ul>
      <li>IM discussion with Alain regarding pyOpenSSL problem -- agreed the best solution is for VDT to build and package same.</li>
    </ul>
  </dd>
  <dt>2009/07/08</dt>
  <dd>
    <ul>
      <li>Reply to Suchandra re status of Steve's complaints.</li>
      <li>Check with John W. on gratiax33 install errors. Pilot error.</li>
    </ul>
  </dd>
  <dt>2009/07/07</dt>
  <dd>
    <ul>
      <li>Fix from Brian for dCache probe -- !PostGresQL is not optimizing the current query against the billing DB very well.</li>
      <li>With Philippe, find and fix psacct problem and typo in Gratia.py breaking backward compatibility with !MeterName for psacct probe. Cut and release 1.04.3a-1 of probes.</li>
      <li>Reply to Steve on gratia YUM repo: shipped default off but does not overwrite configs where repo has been enabled.</li>
      <li>Investigate problem with Brian's collector on not summarizing multi-processor jobs properly. Problem in 1.02.1 already fixed in 1.04, but provided a patch to stored procedure for quick fix.</li>
      <li>Reply to Alain on pyOpenSSL problem.</li>
    </ul>
  </dd>
  <dt>2009/07/06</dt>
  <dd>
    <ul>
      <li>Answer questions from Eileen for CD Gratia self-assessment.</li>
      <li>Satisfy request from Brian for update of yum repository to include new release RPMs.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2009/07/13</dt>
  <dd>
    <ul>
      <li>Fill in and return property pass for D820.</li>
      <li>Do delinquent test for ergonomics.</li>
    </ul>
  </dd>
  <dt>2009/07/10</dt>
  <dd>
    <ul>
      <li>Respond to Marc M.'s email about SVN vs git.</li>
      <li>Work log catch-up.</li>
      <li>Effort report.</li>
    </ul>
  </dd>
  <dt>2009/07/09</dt>
  <dd>
    <ul>
      <li>OSG@FNAL meeting.</li>
      <li>'Phone conversation and emails with Dell rep. Agreement to replace D820 with E6500 of comparable specs. ETA about 2 weeks. Includes replacements for non-compatible replicator and notebook stand.</li>
      <li>Discussion with Andy L. on whether CD support has any constraints on the model of laptop Dell would send: no.</li>
    </ul>
  </dd>
  <dt>2009/07/08</dt>
  <dd>
    <ul>
      <li>More mail with Jack S., Cele.</li>
      <li>Department meeting.</li>
    </ul>
  </dd>
  <dt>2009/07/07</dt>
  <dd>
    <ul>
      <li>Write bi-weekly report for Gabriele.</li>
      <li>Lose Dell (again) for another non-helpful hardware replacement. Talk to Eileen. Ticket. Mail on ticket to try to get it directed to the right place. argh.</li>
      <li>Start using Mac. Register network interfaces. Get VPN, ssh, chat, Skype going.</li>
      <li>Request pro-card order for AC adapters and external drive for backup.</li>
      <li>Mail to Jack S. on D820 hardware ticket for replacement.</li>
    </ul>
  </dd>
  <dt>2009/07/06</dt>
  <dd>
    <ul>
      <li>Chat to Eileen about lemon^H^H^H^H^HDell laptop. Eileen wants to try to get me a new machine. </li>
      <li>Fill in time sheet. More shenanigans.</li>
      <li>Write accomplishment report for Gabriele.</li>
      <li>Send requested email to Eileen detailing history of problems with lemon^H^H^H^H^HDell laptop.</li>
      <li>Email, IM, 'phone with Tom B. and visit to Mike Behnke to fast-track DB registration and property pass for new Mac.</li>
      <li>Request property pass extension for Dell.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Main.ChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->
-- Main.ChrisGreen - 06 Jul 2009
