%META:TOPICINFO{author="KyleGross" date="1507063760" format="1.1" version="1.13"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2010/02/01 - 2010/02/14

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2010/02/12</dt>
  <dd>
    <ul>
      <li>Emails to and from Bo Xin. He had a successful run last night. Walk him through diagnosing site problem at CLEMSON-Palmetto and a possible problem with one particular chip.</li>
      <li>Remove software install at CLEMSON-Palmetto -- SLOW rm! Talk to Mats. Get half-way through an email to site admin before problem gets fixed. Re-run maintenance script to install fresh software, looks good.</li>
      <li>Submit two jobs on chip 70 with different seeds to see if there's a data-related problem.</li>
    </ul>
  </dd>
  <dt>2010/02/11</dt>
  <dd>
    <ul>
      <li>Compose follow-up email to LSST.</li>
      <li>Interpret properly --help in =submitLSSTsim=.</li>
    </ul>
  </dd>
  <dt>2010/02/10</dt>
  <dd>
    <ul>
      <li>Meeting with Ruth, Keith, Gabriele over !Geant4 issues.</li>
      <li>Continue LSST work. Attempt to diagnose site failures -- only one left: USCMS. Eventually discover that post-install configuration step failed due to tcsh hiccough. Work around by bypassing startup scripts with -f option, execute manually. Report to Burt / Tony for possible permanent fix.</li>
      <li>Chat to Mats about svn / CVS storage of LSST scripts, etc. Will attempt to set up with RENCI.</li>
    </ul>
  </dd>
  <dt>2010/02/09</dt>
  <dd>
    <ul>
      <li>Find problem with run script put LSSTsim output in APP area -- the cause of failures on systems where OSG_APP is not writable from a worker node. Re-jig scripts for better debugging and robustness. Document. Test and fix problems with new scripts.</li>
      <li>Submit new full run to see how the scripts perform. Couple of false starts. Try again. More trouble with new cleanup-and-tar code. Try again.</li>
    </ul>
  </dd>
  <dt>2010/02/08</dt>
  <dd>
    <ul>
      <li>Chat to Lynn about VM requirements for OSGMM client for !Geant4. Subsequent email.</li>
      <li>Chat to Mats about automatic resubmission of failed LSST jobs. Start working on changing scripts around to use DAGs.</li>
      <li>Test new DAG submission scripts -- run fill-in jobs for missing chips from first run. Automatic job re-submission seems to work after minor fixes.</li>
    </ul>
  </dd>
  <dt>2010/02/05</dt>
  <dd>
    <ul>
      <li>Looks at jobs. Resubmit jobs failed due to site-specific problems.</li>
      <li>Chat to Gabriele, progress email on LSST.</li>
      <li>Question to Mats on auto-resubmit of certain classes of failed job.</li>
      <li>More monitoring of fill-in jobs, resubmit. Will need to investigate problematic sites.</li>
    </ul>
  </dd>
  <dt>2010/02/04</dt>
  <dd>
    <ul>
      <li>Ping from Mats re problem with !ClassAd advertisement -- fix.</li>
      <li>Continue work on scripts for LSST. Quick IM to Mats with JDL boilerplate question. Questions to Bo.</li>
      <li>Submit jobs to OSGMM.</li>
    </ul>
  </dd>
  <dt>2010/02/03</dt>
  <dd>
    <ul>
      <li>Start work on scripts for LSST job submission, including verification script to publish !ClassAds for installed software versions.</li>
      <li>Chat to Chander about LSST.</li>
    </ul>
  </dd>
  <dt>2010/02/02</dt>
  <dd>
    <ul>
      <li>Respond to Bo Xin ping on LSST progress. Will start Wed.</li>
    </ul>
  </dd>
  <dt>2010/02/01</dt>
  <dd>
    <ul>
      <li>Chat to Mats about login renewal at FNAL.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2010/02/12</dt>
  <dd>
    <ul>
      <li id="CD">Investigate complaint from gr10x2 (qcd). Discover service-IP problems on gr5xN, gr1[01]xN. Fix. Retrospective FGCAB. Discussions with Dan.</li>
      <li>Discussion with Dan on gratia06 re-purpose.</li>
       <li>FGCAB: OSG DB copy 2/18.</li>
       <li id="CD">FGCAB: deactivate gr5xN collectors.</li>
      <li>Status report for Keith.</li>
      <li>Fermigrid meeting.</li>
       <li id="CD">FGCAB: install optimization script on gr10x5 for execution on the 17th of each month.</li>
      <li>Answer question from Gabriele re average data input to OSG collectors:
        <ul>
          <li>osg-transfer is mode between 8-11 million transfers per week</li>
          <li>osg-prod is mode 2-2.5 million jobs per week</li>
        </ul>
      </li>
      <li>Question from Philippe re use of QCD collector / reporting.</li>
      <li id="CD">Copy XML files from gr5xN to gr10xN and expand into thread0.</li>
    </ul>
  </dd>
  <dt>2010/02/11</dt>
  <dd>
    <ul>
      <li>Template mail to site admins sent to Philippe <em>et al.</em> requesting OIM / !ProbeConfig fix. Reply to comments.</li>
      <li>Chat to John W., Alain, Suchandra about template email.</li>
      <li>Email, chat to Dan, Ruth about switchover schedule. Settle on 2/18, 2/25.</li>
      <li id="CD">fg6x2 / fg6x3 GUMS / SAZ page. Talk to Steve -- LVS not re-enabled after reboot. Fixed.</li>
      <li id="CD">Examine backup logs to compare performance on gratia06 vs gr11x5.</li>
      <li id="CD">Check with Steve on gratiax23 status -- waiting for Faarooq to fix keytab.</li>
      <li id="CD">Chat to Dan and Keith about the future disposition of gratia06/07 and VM needs for same.</li>
      <li id="CD">With Faarooq, fix problems with gratiax23 passwd, etc. files and home directories.</li>
      <li id="CD">Deactivate integration collectors and nightly upgrades of same on gratia02.</li>
    </ul>
  </dd>
  <dt>2010/02/10</dt>
  <dd>
    <ul>
      <li id="CD">Problems with gratiax23 -- sshd reports duplicate address. Ticket to netops for investigation. Turns out to be firewall / bad keytab / sshd being a lying SOS. Work with Steve to fix.</li>
      <li id="CD">Email to Tom Roberts over work flow.</li>
    </ul>
  </dd>
  <dt>2010/02/09</dt>
  <dd>
    <ul>
      <li id="CD">Out to FCC with Steve to look at problems caused by outage.</li>
      <li id="CD">With Steve, diagnose and fix VM problems on gratia10/11.</li>
      <li id="CD">Bring Fermi collectors back.</li>
      <li id="CD">Deactivate ddback, enstore on gr5x[0-4]. Deactivate ZRM on gratia06. Leave CRL/CA updating in place. reply to FGCAB.</li>
      <li>Bring OSG collectors back.</li>
      <li>Chat to Burt and John about CMS T1 SE probe. Point to Tanya for new packages.</li>
      <li id="CD">With Dan, verify !TiBS backup of gr11x5:/backup.</li>
      <li>Question from Dan on whether 2-day binlog time can be increased -- sure, if we have the space.</li>
      <li id="CD">Retrospective FGCAB for gratia10/11 Xen fixes.</li>
      <li id="CD">Retrospective FGCAB for gr10x* collectors to remove initial disablement of replication.</li>
    </ul>
  </dd>
  <dt>2010/02/08</dt>
  <dd>
    <ul>
      <li id="CD">Check in with Dan on enstore / gratia-archive. Make necessary alterations to gratia-archive script.</li>
      <li id="CD">Discussion with Dan / Keith on Fermi schemata.</li>
      <li>Answer question from Steve re Gratia dev / ops separation.</li>
      <li>Answer question from JW re VM use on gratia02.</li>
      <li id="CD">Discover and fix problem with mysql_meta ZRM config on gr11x5. Keep an eye on purging -- may have to purge manually once.</li>
      <li id="CD">Clock skew problem on fg6x2. Ask Steve for key escrow instructions.</li>
      <li>Chat to Philippe about OIM registration / Gratia discrepancy emails.</li>
    </ul>
  </dd>
  <dt>2010/02/05</dt>
  <dd>
    <ul>
       <li>FGCAB: Deactivate backups, etc, etc. on gr5xN and gratia06.</li>
      <li id="CD">Follow-up discussion with Rob K.</li>
      <li>Fermigrid group meeting.</li>
      <li>Status report for Keith.</li>
      <li>Question from Philippe re VOMS trouble with CERN cert -- refer to Dan.</li>
    </ul>
  </dd>
  <dt>2010/02/04</dt>
  <dd>
    <ul>
      <li>Continue to monitor catchup progress. When complete, spot-check some tables for identity between gr10x5 and gr11x5 -- looks good.</li>
      <li>Report from Tanya of gratia-fermi.fnal.gov:8881 not working. With Dan, diagnose minor problem with IPTables redirection on new collectors. Fix.</li>
      <li id="CD">Grid question from Rob K.</li>
    </ul>
  </dd>
  <dt>2010/02/03</dt>
  <dd>
    <ul>
      <li>Report from Merina of out-of-date CMS T1 SE in Brian's reports -- trace to incorrect DBID in replication progress indicator in replication table in gr10x3 -- copy from gr5x3 and resume. Check progress.</li>
      <li>Kick DB updates on gr10x0 -- turned off after apparent socket glitch.</li>
      <li>Discover that DB replication has not been occurring between gr10x5 and gr11x5 due to inconsistencies (both collectors were writing to the trace table). Since this is debug only, have Dan exclude the trace tables from the replication. Restart and monitor catchup progress.</li>
      <li>FYI from Philippe re site name changes to some Nebraska machine.</li>
    </ul>
  </dd>
  <dt>2010/02/02</dt>
  <dd>
    <ul>
      <li>Question from Philippe on how BNL should codify their config change -- in configure.py if it's modern enough.</li>
      <li>Improvements to ops scripts to check and re-copy non-root-owned keys as necessary in start script. Also fix problem with hostname calculation for redirection.</li>
      <li>Finish and test heartbeat script.</li>
      <li>Install new heartbeat configuration on collectors and reporters. Go live with IP switch.</li>
      <li>Chat to Dan about detection of ongoing legacy redirection use with IPTABLES config.</li>
      <li id="CD">Request to Keith to redirect monitoring scripts to gr10x*, gr11x* rather than gr5x*.</li>
      <li>Respond to Keith question on things to check with !MySQL service monitor.</li>
      <li id="CD">With Faarooq, investigate problem with VMs not coming back on gratia01 after reboot for kernel upgrade -- correct kernel not default in grub; fixed. Notify John W., Aaron as appropriate.</li>
       <li>FGCAB: deactivate inactivity warnings on gr5xN.</li>
      <li>Request to remove gr5xN from FGCAB control -- discussion.</li>
      <li>Question from Suchandra re MWT2_IU.</li>
      <li>Chat to Dan about encp access. Will request.</li>
      <li>Question from Philippe re VOMRS registration of CERN cert. Walk him through.</li>
    </ul>
  </dd>
  <dt>2010/02/01</dt>
  <dd>
    <ul>
      <li>Chat to Dan about remaining work items for migration.</li>
      <li>Chat to Dan about ddback issues.</li>
      <li>Chat to Steve T. -- plan on tomorrow for switch.</li>
      <li>Chat to Farooq re heartbeat. Start working on heartbeat init script. Ask Farooq / Dan for logic check prior to testing.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2010/02/12</dt>
  <dd>
    <ul>
      <li>Brief chat with Brian re dCache-transfer probe development.</li>
      <li>Brief chat with Dan about upcoming development items -- forward link to discussion.</li>
    </ul>
  </dd>
  <dt>2010/02/11</dt>
  <dd>
    <ul>
      <li>Email with Brian, Tanya over AGLT2 install.</li>
      <li>Discussion with Philippe, Alain over upcoming work, including summarization at probe-side for transfer records. Reconstruct list of things to do. Add them to [[SoftwareTools.Meeting20100126][meeting notes]].</li>
      <li>Help John W. with transfer queries, including translation of units as appropriate, and problems with back-quotes.</li>
      <li>Discussion with Philippe on attributes required of a job manager (GT2, GT4, GT5, CREAM) to Gratia interface. Sent email.</li>
    </ul>
  </dd>
  <dt>2010/02/10</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
      <li>Discussion with Brian re possible replication problems at Nebraska -- stuck replication thread, restart collector.</li>
      <li>Report fnpcsrvX problems to Keith / Steve after trying to log in to submit a test job to examine ways of tagging jobs for tracing through Gratia.</li>
    </ul>
  </dd>
  <dt>2010/02/09</dt>
  <dd>
    <ul>
      <li>Question from Scot K. re RSV Gratia probe critical designation on metric probe. Due to the fact that probe is being run from another machine. Scot will help site admin reconfigure.</li>
      <li>Chat to John W. re Gratia/OIM interactions.</li>
      <li>Report from Brian of possible problems with Gratia yum repository -- PEBKAC.</li>
      <li>Questions from Arvind re upgrading RSV production collector. Check. Everything seems to be proceeding through schema upgrade normally.</li>
      <li>Reply to Aaron on Gratia probe configuration for testing system.</li>
      <li class="done">Reply to mail from Cathrin re security fixes to condor probe. Will merge.</li>
      <li>Merge and commit Cathrin's contributions.</li>
    </ul>
  </dd>
  <dt>2010/02/08</dt>
  <dt>2010/02/05</dt>
  <dd>
    <ul>
      <li>Add remainder of /tmp race fix to condor_meter.pl.</li>
      <li>More BIGINT discussion with Philippe, Karthik.</li>
      <li>Question from Philippe on identification of WS jobs in Gratia -- mostly not possible. Look for possible differences in !GlobalId or !RecordId. Run into trouble running WS jobs, help from Steve. After all that, the only difference is no FQAN info, meaning no difference between a WS job and an old probe.</li>
    </ul>
  </dd>
  <dt>2010/02/04</dt>
  <dd>
    <ul>
      <li>More BIGINT with Karthik.</li>
    </ul>
  </dd>
  <dt>2010/02/03</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
      <li>Report from Tanya of post-install problem with new storage items. Investigate: not my problem, bounce to Neha.</li>
    </ul>
  </dd>
  <dt>2010/02/02</dt>
  <dd>
    <ul>
      <li>Ping Brian inquiring of any more changes to xrootd, etc, prior to probe release.</li>
      <li>From Philippe, silliness in storage probe was overwriting !CollectorHost setting. Fix. Notify Tanya <em>et al</em>.</li>
      <li>Migrate storage probe-specific config items to .spec file. Update release and cut.</li>
      <li>Extra armoring in Gratia.py against certain types of !ProbeConfig problem (wouldn't have helped here).</li>
      <li>More mail on BIGINT.</li>
      <li>Fix problem with Philippe's !WorkingFolder discover in storage and transfer probe cron scripts. Also fix problem with erroneous ITB flag on services API RPM from Brian. Re-cut and release to Neha.</li>
    </ul>
  </dd>
  <dt>2010/02/01</dt>
  <dd>
    <ul>
      <li>Email to Karthik on BIGINT.</li>
      <li>Email, chat to Alain, Philippe, Mine re reported Gratia problems. Meeting at 2pm. Notified Gabriele of clash.</li>
      <li>Meeting with Philippe, Mine, Alain, <em>et al</em>. Agree to provide help to Wisconsin as necessary.</li>
      <li>Comments post meeting and suggestions for fix.</li>
      <li>Report from Tanya from testing of storage probe -- !CollectorHost is apparently getting lost somewhere. Investigate. Call in Philippe for a second pair of eyes.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2010/02/12</dt>
  <dd>
    <ul>
      <li>Work log.</li>
    </ul>
  </dd>
  <dt>2010/02/11</dt>
  <dd>
    <ul>
      <li>Work log catch-up.</li>
      <li>Chat to Ruth about effort replacement.</li>
    </ul>
  </dd>
  <dt>2010/02/10</dt>
  <dt>2010/02/09</dt>
  <dd>
    <ul>
      <li>Work log catch-up.</li>
    </ul>
  </dd>
  <dt>2010/02/08</dt>
  <dd>
    <ul>
      <li>Email catch-up.</li>
      <li>Time card.</li>
      <li>Mail computer-security to ask about strong-auth complaints. Turns out CICERO has been re-assigned. Remove self from authorized list.</li>
    </ul>
  </dd>
  <dt>2010/02/05</dt>
  <dd>
    <ul>
      <li>Work log catch-up.</li>
    </ul>
  </dd>
  <dt>2010/02/04</dt>
  <dd>
    <ul>
      <li>Respond to query from John Galvan on old (returned) DELL D820.</li>
      <li>Complete IQA training and online test.</li>
    </ul>
  </dd>
  <dt>2010/02/03</dt>
  <dt>2010/02/02</dt>
  <dt>2010/02/01</dt>
  <dd>
    <ul>
      <li>Bi-weekly report for Gabriele.</li>
      <li>Time card.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Trash.MainChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->
-- Main.ChrisGreen - 01 Feb 2010