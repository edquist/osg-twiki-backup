%META:TOPICINFO{author="KyleGross" date="1507063759" format="1.1" version="1.12"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2009/06/08 - 2009/06/19

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2009/06/19</dt>
  <dd>
    <ul>
      <li>Attend first part of meeting with Suzanne and co. on requirements document for Geant4 Hadron validation.</li>
      <li>Check in with Suzanne after meeting. Asked to review requirements doc. Apparently a request is going to be headed up the line for a significant chunk of my time.</li>
      <li>Sign up for more Engage VOMRS messages and approve / add Chris H. to Engage/Fusion/TGYRO.</li>
      <li>Question from Igor S. about OSG VO membership -- referred him to Alina.</li>
      <li>More work with Iter -- JACQUARD failed. Edit FORTRAN code to set exec bit on script before trying to exec. Recompile. Try again.</li>
      <li>Chat to Alain about PPC64 globus and friends -- he has successfully installed the PPC64 build of globus from lqcdg5 on Intrepid at ANL. He thinks he should be able to take current progress on VOMS and turn that into a successful build on lqcdg5 next week.</li>
    </ul>
  </dd>
  <dt>2009/06/18</dt>
  <dd>
    <ul>
      <li>IM and research with John W. on full vs limited delegation for pre-WS. looks like hacking the globus source is the only way to do full delegation with globus-job-run.</li>
      <li>Message on GOC ticket for VDT compile on PPC64 -- reply to keep ticket open. Promising progress but a working system could be a couple more weeks.</li>
      <li>Decline invitation to attend VO forum meeting on behalf of Geant4 -- nothing to report.</li>
      <li>Inaugurate Engage/Fusion/TGYRO sub-VO and add myself to it. Question to Mats over whether specific mapping needed -- not right now. Concur.</li>
      <li>Some more work with Iter and testing output gathering -- looks like scripts are copied with exec bit removed to Franklin -- try JACQUARD.</li>
      <li>Mail to Steve / Neha on tweaking pre-WS for full delegation.</li>
    </ul>
  </dd>
  <dt>2009/06/17</dt>
  <dd>
    <ul>
      <li>Mail with Steve and Neha on TG gateway pre-WS !ClassAd matching.</li>
      <li>Mail with Alain on VOMS build on RHAP5: globus as packaged with VOMS build needs to be unpacked even if it's not built. Fix build procedure -- success! Now need to translate to lqcdg5. Might need to build mysql5 if we can't hack the VOMS Makefile to build only the client.</li>
      <li>Attempt to test output-gathering on ITER. Problem. Will need to try to diagnose script locally since the failure precludes getting any log info back. Argh.</li>
    </ul>
  </dd>
  <dt>2009/06/16</dt>
  <dd>
    <ul>
      <li>'Phone call with Mats and Gabriele on moving Iter forward within Engage.</li>
      <li>'IM and 'phone call with Alain -- finish configure and test of globus, move on to RHAP5 test build of VOMS client.</li>
      <li>'Phone call with Mats and Chris Bizon -- they have a local user interested in running Geant4 batch jobs, possibly moving to the OSG.</li>
      <li>Chat to Chander about report.</li>
      <li>IM with Mats about report.</li>
      <li>Geant4 progress report to eie4ci to enable John to give a more complete report.</li>
      <li>Fill in missing link in Iter job scripts to collect output. Submit test.</li>
      <li>try to diagnose failure in VOMS build on RH -- might have to build globus from scratch again. Ugh.</li>
    </ul>
  </dd>
  <dt>2009/06/15</dt>
  <dd>
    <ul>
      <li>Look up Engage documentation links and get them to Gabriele.</li>
      <li>Read draft email to Iter from Gabriele and research / document procedure for adding certificate to user mapping using NERSC's NIM interface.</li>
      <li>Investigate completed globus build on lqcdg5 -- successful! Simple tests OK, need more setup for more complicated tests. Leave voicemail for Alain -- need next stage of instructions.</li>
      <li>'Phone call from Abhhishek re Geant4.</li>
    </ul>
  </dd>
  <dt>2009/06/12</dt>
  <dd>
    <ul>
      <li>More work with Alain on lqcdg5. Problems with RSL, so deactivate. Also needed to download ant. Try again.</li>
      <li>Talk to Dan about Alexis' gridFTP problem -- looks like grid-mapfile use doesn't honor the RFC that mentions case should be irrelevant. Investigate further and report to vdt-support. Initial suggestions that problem is already fixed in 4.0.8.</li>
      <li>Bounce Iter meeting minutes to sharepoint. Discussion with Gabriele about missing Feb minutes. He will find and bounce to sharepoint.</li>
      <li>Get tgyro compiled on jacquard -- looks like FFTW has a circular dependency within its own libraries. Lovely. Submit test job.</li>
    </ul>
  </dd>
  <dt>2009/06/11</dt>
  <dd>
    <ul>
      <li>Get a successful globus build/run on gratia01: move to lqcdg5. Some basic guesses at architecture-specific tweaks to script and try it.</li>
      <li>Email with Alberto regarding improvement suggestions.</li>
      <li>Report G4 progress to VO forum meeting.</li>
    </ul>
  </dd>
  <dt>2009/06/10</dt>
  <dd>
    <ul>
      <li>Iter 'phone meeting.</li>
      <li>More progress on globus build -- with Alain, identified some missing steps and command-line arguments from the initial build attempts. Try again. Updated notes.</li>
      <li>Check build env on lqcd5g and reply to Don.</li>
      <li>'Phone conversation with Abhishek; remember promise to send email to Alberto with suggestions. Send email.</li>
      <li>During tests to refine suggestions for Alberto, discover FNAL down and notify Keith / Steve. Apparently GUMS has rolled over.</li>
    </ul>
  </dd>
  <dt>2009/06/09</dt>
  <dd>
    <ul>
      <li>'Phone call with Alain walking through VDT builds of packages. Start building globus on known platform. Notes in ~greenc/notes/vdt-build-notes.txt.</li>
      <li>Conversation with Abhishek re Geant4. Email with updated info.</li>
      <li>Email with Alexis (!MiniBooNE) regarding grid trouble.</li>
      <li>Verify Iter job execution on FRANKLIN: exits upon completion instead of stalling for time limit.</li>
      <li>Start building globus on gratia01. Couple of false starts due to network issues; start using screen.</li>
    </ul>
  </dd>
  <dt>2009/06/08</dt>
  <dd>
    <ul>
      <li>Talk to Don. Get account on =lqcdg5.fnal.gov=.</li>
      <li>Mail to Alberto for progress report.</li>
      <li>Mail to Alain asking to be brought up to speed on VDT compile for PPC64.</li>
      <li>IM with Elizabeth C. at GOC -- get 6912 (PPC64 VDT compile) assigned to me. Update ticket.</li>
      <li>Conversation with Ruth and Abhishek re Geant4.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2009/06/19</dt>
  <dd>
    <ul>
      <li>Reply to request from Glenn Cooper for CPU SPECINT2000 information for his clusters. Did query and returned results for all known nodes in ps-accounting DB with SPECINT2000 scores.</li>
      <li>Restart production collector to clear servlet crash problem again.</li>
      <li>Investigate ways to monitor number of servlet threads -- not easy. Maybe there's a tomcat JMS function but lsof and ps don't appear to be able to distinguish servlet threads from anything else.</li>
      <li>Fermigrid group meeting.</li>
    </ul>
  </dd>
  <dt>2009/06/18</dt>
  <dt>2009/06/17</dt>
  <dd>
    <ul>
      <li>Attempt to ascertain why gratia02 spontaneously rebooted just after midnight -- no joy.</li>
      <li>Stop DB updates on all production collectors to enable DB machine firmware updates.</li>
      <li>Question from Dan on AFS on gratia06 -- can deactivate, I think.</li>
      <li>Verify collectors are back up, backlog is cleared and LVS re-directors are working.</li>
      <li>Request from Anthony Tiradani to verify that cmsosgce3 is reporting properly. Looks OK.</li>
    </ul>
  </dd>
  <dt>2009/06/16</dt>
  <dd>
    <ul>
      <li>Chat with Elizabeth re GOC ticket 6882 and verify no other Gratia tickets require attention right now.</li>
    </ul>
  </dd>
  <dt>2009/06/15</dt>
  <dd>
    <ul>
      <li>Investigate missing site reports for Steve on hidden resources -- turns out he's not registered for reports on those sites.</li>
      <li>Investigate and update all outstanding Gratia GOC and Remedy tickets. Notify Elizabeth to verify.</li>
    </ul>
  </dd>
  <dt>2009/06/12</dt>
  <dd>
    <ul>
      <li>Request from Brian to change site translation for condor:cithep252.ultralight.org from CIT_CMS_T2B to CIT_CMS_T2</li>
      <li>Discussion with Brian about GPN-HUSKER. Change translation back to Nebrasks. Ask him to send email to gratia-operation about site name vs resource group.</li>
      <li>Answer question from Elizabeth regarding firewalls and Gratia. Answer it properly when I work out she's talking about a different Rob and therefore probes rather than a collector.</li>
      <li>Chat to Brian about MIT_CMS outage and how to avoid it next time. Looks like the main reason for data loss was that they didn't have PER_JOB_HISTORY_DIR set so they could only recover records for that part of the outage period for which the condor_history logs hadn't already rotated away.</li>
      <li>Fermigrid meeting.</li>
    </ul>
  </dd>
  <dt>2009/06/11</dt>
  <dd>
    <ul>
      <li>Request from Brian to remap SBGrid as sbgrid. Problem is that new FQANs default to SBGrid because that is the official VO name as reported by the proxy.</li>
      <li>Question from Brian regarding renaming sites. Mentioned that Nebraska could have a surfeit of processing power soon -- mentioned Geant4.</li>
      <li>Emails to Alexis with advice on tracing grid problems.</li>
    </ul>
  </dd>
  <dt>2009/06/10</dt>
  <dd>
    <ul>
      <li>Question to Dan & Steve about HD troubles, progress.</li>
    </ul>
  </dd>
  <dt>2009/06/09</dt>
  <dd>
    <ul>
      <li id="CD">Reply to IM Condor question from Dan.</li>
      <li>Update Elizabeth on remedy interface progress (none). Re-check gridplexus -- still globus error 12. Could be firewall at their end.</li>
    </ul>
  </dd>
  <dt>2009/06/08</dt>
  <dd>
    <ul>
      <li>Forward probe cron email from D0 node indicative of machine distress (bus error) to fermigrid-ops.</li>
      <li>Look into problems with rungratia report on gratia09. Change root setup script.</li>
      <li>Mail from Kyle regarding completion of addition of people to emailed reports in OIM.</li>
      <li>Reply to Steve's email about gratia09 reboot.</li>
      <li>IM from Elizabeth: Gratia tickets getting lost again. Investigate three most urgent:
      <ul><li>6885 (ATHENA): entered new site name and changed probe -> site translation</li>
          <li>6882 (Gridplexus): globus error 12 -- probably not reporting because no jobs are running.</li>
          <li>6880 (GPN-HUSKER): Translation changed but they haven't reported since 5/21.</li></ul></li>
      <li>Emails and ticket requesting addition to CD-Grid/GRATIA ticket group.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2009/06/19</dt>
  <dd>
    <ul>
      <li>Write reply to Arvind's email and send it to Philippe instead.</li>
      <li>Chat to Alain about release schedules. End of next week is drop-dead date for packages to get into the OSG 1.2 initial release cycle. Talked about doing probe release first and collector release later since we don't have to get past the, "LHC expts aren't going to update their CEs much after they start running" problem for the collector. Check with Ruth if this is an acceptable fallback plan.</li>
    </ul>
  </dd>
  <dt>2009/06/18</dt>
  <dd>
    <ul>
      <li>Mail to Arvind regarding specifying "default reporting group / name" in OIM for previously unseen FQANs.</li>
      <li>Reply to Arvind's email.</li>
      <li>Identify and fix problems with indexing for Brian's additions to the collector.</li>
      <li>Reply to request from Keith for ways of eliminating double-counting of resources handled by multiple gatekeepers; no easy way that I can see.</li>
      <li>Reply to Scot K. on Gratia release plans. Alain says must be in by end of next week to make OSG 1.2.</li>
      <li>Fix "Connection" table in connection monitoring schema -- in modern !MySQL, Connection is a reserved keyword. Use !ConnectionTable instead.</li>
    </ul>
  </dd>
  <dt>2009/06/17</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
      <li>Mail to Keith re job-duration figures.</li>
      <li>IM and 'phone with Arvind. Retrofitting of gratia-rsv-probe to new RSV API is complete. Brief discussion of testing gratia probes on different machine than where RSV client is running.</li>
      <li>Check out gratia-rsv-probe. Merge uncommitted improvements and fixes, test, fix and commit.</li>
      <li>Mail to Arvind -- remote probe testing is practically impossible. Further IM and mail with Ruth and Brian.</li>
      <li>Mail to Arvind requesting prompt release of enabled gratia probe with upcoming RSV.</li>
      <li>Request from Ruth to ensure new release before end-of-month.</li>
      <li>Mail with Karthik on problems with his test collector -- Brian has a fix for his code.</li>
      <li>Question to Brian about possible manual schema changes to test collectors to accommodate recent changes in hibernate config.</li>
    </ul>
  </dd>
  <dt>2009/06/16</dt>
  <dt>2009/06/15</dt>
  <dd>
    <ul>
      <li>Catch up with Philippe.</li>
      <li>Formulate job-level query for Keith to enable him to come up with a sensible job retirement limit for opportunistic jobs to placate CDF without screwing everyone else.</li>
    </ul>
  </dd>
  <dt>2009/06/12</dt>
  <dd>
    <ul>
      <li>Mention to John Arvind's note that date-specific parameters are vestigial and can be removed (but will not cause problems if they are there).</li>
      <li>Suggestion to Arvind for default reporting name to get past the SBGrid / sbgrid and ATLAS / usatlas problems.</li>
    </ul>
  </dd>
  <dt>2009/06/11</dt>
  <dd>
    <ul>
      <li>Discussion with John W. on obtaining info from !MyOSG, including use of xpath.</li>
      <li>Update URL used for VO contact info to obtain parent VO info: update emailed reports to use it.</li>
      <li>Transition to using OIM info exclusively for contact information (except for people wanting multiple reports).</li>
      <li>Alert Arvind regarding NYSGrid VO apparently being its own parent. Query date-specific parameters in resource contact URL.</li>
    </ul>
  </dd>
  <dt>2009/06/10</dt>
  <dd>
    <ul>
      <li>Cancel Gratia meeting.</li>
    </ul>
  </dd>
  <dt>2009/06/09</dt>
  <dt>2009/06/08</dt>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2009/06/19</dt>
  <dd>
    <ul>
      <li>Catch up with work log.</li>
      <li>Enter effort report into FTL.</li>
      <li>All-Hands meeting on focus-group reports.</li>
      <li>Check req. progress: still waiting for head of CD to personally approve my $2500 laptop purchase. Grr.</li>
      <li>Check in with Gabriele.</li>
    </ul>
  </dd>
  <dt>2009/06/18</dt>
  <dd>
    <ul>
      <li>Catch up with work log.</li>
    </ul>
  </dd>
  <dt>2009/06/17</dt>
  <dt>2009/06/16</dt>
  <dd>
    <ul>
      <li>Function to make remembering obscure off-site machines easier.</li>
    </ul>
  </dd>
  <dt>2009/06/15</dt>
  <dd>
    <ul>
      <li>Call helpdesk over non-responsive printers. Power-cycle. Thanks for calling Microsoft Technical Support.</li>
    </ul>
  </dd>
  <dt>2009/06/12</dt>
  <dd>
    <ul>
      <li>Dept lunch.</li>
      <li>Catch up on work log (twice due to unscheduled reboot).</li>
      <li>Enter effort report.</li>
    </ul>
  </dd>
  <dt>2009/06/11</dt>
  <dd>
    <ul>
      <li>OSG@FNAL meeting.</li>
      <li>Rectify problems in bounced req. and resubmit.</li>
    </ul>
  </dd>
  <dt>2009/06/10</dt>
  <dd>
    <ul>
      <li>Dept meeting.</li>
      <li>Arrange dept lunch.</li>
      <li>Bring work log up to date.</li>
    </ul>
  </dd>
  <dt>2009/06/09</dt>
  <dd>
    <ul>
      <li>Place req for new laptop including associated docs (AIP, approver note, buyer note, sole source justification).</li>
    </ul>
  </dd>
  <dt>2009/06/08</dt>
  <dd>
    <ul>
      <li>Bi-weekly report for Gabriele.</li>
      <li>Group meeting.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Trash.MainChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->

-- Main.ChrisGreen - 10 Jun 2009