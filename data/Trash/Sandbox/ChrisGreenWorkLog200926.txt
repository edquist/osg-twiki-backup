%META:TOPICINFO{author="KyleGross" date="1507063759" format="1.1" version="1.8"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2009/06/22 - 2009/07/03

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

*[Independence Day Observance 2009/07/03]* <br/>

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2009/07/02</dt>
  <dd>
    <ul>
      <li>Meeting with Ruth and Chander re TG. Agree to oversee MPI/TG and related efforts. Agree get Phil going on Monday with TG stuff.</li>
      <li>Meeting with Ruth and Neha on TG allocation.</li>
    </ul>
  </dd>
  <dt>2009/07/01</dt>
  <dd>
    <ul>
      <li>Install new OSG client on gratia01 to solve condor problems. Configure with NETWORK_INTERFACE set properly. Ask Steve for certificates.</li>
    </ul>
  </dd>
  <dt>2009/06/30</dt>
  <dt>2009/06/29</dt>
  <dd>
    <ul>
      <li>Check Iter file retrieval works for OSG submissions to FRANKLIN. Transfer distribution to engage-submit.</li>
      <li>Phone conference with Chris H. and Jeff walking through job submission, etc. Hiccoughs due to file permissions on exec to transfer and on tar / bzip2 on remote end. Everything working eventually.</li>
      <li>Reply to queries from Abhishek and John A.</li>
    </ul>
  </dd>
  <dt>2009/06/26</dt>
  <dd>
    <ul>
      <li>More trouble on FRANKLIN (this time unscheduled). Down and further down all day.</li>
    </ul>
  </dd>
  <dt>2009/06/25</dt>
  <dd>
    <ul>
      <li>Reply to Britta -- no further Geant4 info.</li>
      <li>AC meeting.</li>
    </ul>
  </dd>
  <dt>2009/06/24</dt>
  <dd>
    <ul>
      <li>Reply to Mats with per-user allocation usage information for NERSC.</li>
      <li>Query to Shreyas on possible FS problem with NERSC -- turned out to be scheduled (but still didn't find notification).</li>
      <li>'Phone meeting with ITER.</li>
    </ul>
  </dd>
  <dt>2009/06/23</dt>
  <dd>
    <ul>
      <li>Reply to Jeff's email re certificate troubles with fine-grained, explicit instructions.</li>
      <li>Reply to Chris on certificate instructions.</li>
      <li>Reply to Mats with total allocation usage information for NERSC.</li>
    </ul>
  </dd>
  <dt>2009/06/22</dt>
  <dd>
    <ul>
      <li>'Phone meeting with Ruth, Keith, Steve, Neha, Phil re TG gateway. See</li>
      <li>IM with Shreyas regarding apparent onerous restrictions on FRANKLIN: scripts are practically impossible since the WNs have a very restricted OS (no tar binary, no perl, etc, etc). Discuss work-around. New attempt has something else wrong with it, possibly transient batch trouble. Try again tomorrow.</li>
      <li>Respond to Doug Olson query for clarification re !FusionGrids.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2009/07/02</dt>
  <dd>
    <ul>
      <li>Chat to John W about proposed CMS T1 CE name changes and consequences thereof.</li>
      <li>Discover CMS T1 started reporting yesterday. Check on processing rate -- not as high as one would hope (~30K/h with replication turned on). Talk to Philippe. Turn off connection tracking -- apparently no significant change. Investigate possible reasons.</li>
      <li>Send probe version info to Steve. Investigate missing prove version info for fcdfosg1 -- condor_meter.pl is way too old. vdt-version is apparently lying.</li>
      <li>Discover cmsosgce3/4 have been reporting to osg collector instead of fermi collector. Deactivate fermi->osg replication and set up osg->fermi replication starting at reasonable DBID to avoid too much duplication.</li>
      <li>Send ominous probe warning (I/O error) from fgt5x5 to fermigrid-ops.</li>
      <li>Work with Steve to update condor probes on FNAL GKs and fix destinations.</li>
      <li>Check other probe versions on FNAL machines. Will need to check again Monday.</li>
    </ul>
  </dd>
  <dt>2009/07/01</dt>
  <dd>
    <ul>
      <li>Check progress of new collectors on gr5xN.</li>
      <li>Install 1.04.3 on gr8xN. Fix duplicate entries in Replication table to allow index creation. Clean up empty directories in thread0 directory on gr8xN collectors which were a holdover from the DB migration and skewing the pending-in-queue count.</li>
      <li>From Brian: report of errors on upgrade of 1.04.3 -- turn out to be warnings of harmless occurrence due to requesting an admin page before schema update is complete.</li>
      <li>Notify Brian of the fact that CMS T1 SE has not reported since 6/18. Also BNL has nothing more recent than May01. Investigate: BNL is reporting but very slowly -- apparently no indexes on billing DB. Brian has asked to fix.</li>
      <li>Reply to Steve on query regarding "missing" monthly site reports -- he still needs to register for them.</li>
      <li>Respond to query on missing CRL update on gratia01.</li>
    </ul>
  </dd>
  <dt>2009/06/30</dt>
  <dd>
    <ul>
      <li>FGCAB -- install 1.04.3 on fermi collectors. gr5x4 explodes with FS trouble. Explanations of spurious (and not so spurious) install failure messages to Steve. Steve fixes FS on gr5x4.</li>
      <li>Check progress of new collectors on gr5xN.</li>
      <li>Query to fermigrid about panic on gratia02 -- apparently Xen configuration problem.</li>
      <li>Query to Steve about fgitb-gk not reporting -- shortly to be decommissioned.</li>
    </ul>
  </dd>
  <dt>2009/06/29</dt>
  <dt>2009/06/26</dt>
  <dd>
    <ul>
      <li>Group meeting.</li>
    </ul>
  </dd>
  <dt>2009/06/25</dt>
  <dt>2009/06/24</dt>
  <dt>2009/06/23</dt>
  <dd>
    <ul>
      <li>Verify ATHENA fix. Reply on ticket.</li>
    </ul>
  </dd>
  <dt>2009/06/22</dt>
  <dd>
    <ul>
      <li>Reply on NYSGRID-ALBANY-ATHENA ticket -- PER_JOB_HISTORY_DIR is not set correctly. Fixed by site admins.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2009/07/02</dt>
  <dd>
    <ul>
      <li>Chat to Brian about Hadoop, visualization, etc.</li>
    </ul>
  </dd>
  <dt>2009/07/01</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
      <li>Question from John on python / XML.</li>
      <li>Discussion with Philippe on status.</li>
      <li>Discussion with Philippe on maintenance "handover" of RSV probe and associated issues with GOC personnel.</li>
      <li>Email with Philippe and Brian on hibernate race message.</li>
      <li>Discussion with Brian on desirable features not done.</li>
    </ul>
  </dd>
  <dt>2009/06/30</dt>
  <dd>
    <ul>
      <li>Reinstall 1.04.3 from VDT. Try to use vdt-updater, fail. gratia02 panic during rsync backup of VDT area.</li>
      <li>Talk to John, get probes installed from VDT on collector and test. Lots of hacking from John to get probes from test cache talking to CE from standard cache. There has to be another way.</li>
      <li>Verify probes and correct operation of configure_gratia.</li>
      <li>Finish verifying probe operation with John -- all clear to Alain.</li>
      <li>Learn how to get a dump with history from SVN repository for Arvind and send over.</li>
      <li>Discussion with Brian on maintenance "handover" of RSV probe and associated issues with GOC personnel.</li>
      <li>Brief status update for Ruth.</li>
    </ul>
  </dd>
  <dt>2009/06/29</dt>
  <dd>
    <ul>
      <li>Questions from Alain re VDT packaging notes; answer.</li>
      <li>Fix Makefile to add missing gratia-registration.war to VDT tarball. Cut and release 1.04.1.</li>
      <li>IM with Alain and Philippe over mis-packaged .war file. Philippe fixes; cut and release 1.04.2.</li>
      <li>Discussion with Alain over configure_gratia changes.</li>
      <li>IM with Arvind over RSV ITB collector install.</li>
      <li>Respond to Philippe IM asking about tagging methodology.</li>
      <li>Try to install services from 2.0.99 cache. IM with Alain over problems with vdt-control. Alain to fix.</li>
      <li>Fix from Alain: install from 2.0.99 cache (needs some hacking). Problem replicating transfer records. Hand off to Philippe.</li>
      <li>Tag fix from Philippe, cut 1.04.3, release and test. Send to Alain.</li>
    </ul>
  </dd>
  <dt>2009/06/26</dt>
  <dd>
    <ul>
      <li>Fix indenting. I *hate* semantically significant indents.</li>
      <li>In gratia-probe-config-helper: Better handling of missing VDT_LOCATION and work around differences in behavior of different versions of !ParseDate()</li>
      <li>In !CollectorService: <ul><li>Move "Certificate security level" message from once per record to once only.</li>
          <li>Change "no certificate" message to FINER from INFO when tracking only.</li>
          <li>Fix typo in comment.</li>
          <li>New certificate details relegated to FINER. Print subject, issuer and validity dates at INFO level.</li></ul></li>
      <li>In Gratia.py, new record type multiupdate must be encoded.</li>
      <li>Remove or downgrade a couple of messages in !RMIHandlerServlet.</li>
      <li>Update version number.</li>
      <li>Check in accumulated changes to configure-collector.</li>
      <li>Collector configuration for Jim Fromm.</li>
      <li>In production configs, turn on connection tracking for secure uploads.</li>
    </ul>
  </dd>
  <dt>2009/06/25</dt>
  <dd>
    <ul>
      <li>Investigate problem with ddback -- likely Bluearc outage; later confirmed. Also D0 glexec failure probably similar reason.</li>
      <li>Improvements to gratia-config-helper:
      <ul><li>Add ability to call in "human-readable mode"</li>
          <li>Fix a broken regex.</li>
          <li>Improve circumstances when manual-root message is printed.</li>
          <li>Better message when PBS / LSF tests are not run.</li>
          <li>Add "success" messages to detailsData.</li>
          <li>Add help option and usage message.</li>
          <li>Better error messages if probe is not specified.</li>
          <li>Only check crontab if we know it's a probe that needs one.</li></ul></li>
      <li>Announce gratia-config-helper changes to GOC and inquire about release mechanism / schedule.</li>
      <li>Correct status word translation logic.</li>
      <li>Improve exception handling in !CollectorService.</li>
      <li>Check and further improve message frequency in replication service. Commit.</li>
      <li>In !RMIHandlerServlet: attempt to detect "servlet crash" problem and distinguish it from input-related problems; rethrow two particular exceptions.</li>
      <li>In !TidiedDailyRollingAppender: synchronize subAppend() function to avoid servlet crash problems.</li>
      <li>In Logging: synchronize initialize() function to avoid servlet crash problems.</li>
      <li>Fix typo in !DatabaseMainetenance log message.</li>
      <li>For release tarballs only: have service-configuration.properties.new instead of service-configuration.properties.</li>
      <li>In Gratia.py: improve connection error handling and deactivate proxy handling. Minor fixes to !ProxyUtil. Fix indenting errors. Fix problems indicated by pychecker.</li>
      <li>Update spec file.</li>
      <li>Fix regex for pulling version no. from SVN tag.</li>
      <li>Release; announce. Ask Philippe to audit instructions.</li>
      <li>Install on integration collectors and install nightly re-installs.</li>
      <li>Request to John for request to test VDT 1.02 -> HEAD schema upgrade. Successful.</li>
      <li>Help Arvind diagnose problems with RSV ITB collector upgrade -- firewall config issues.</li>
      <li>Request Brian point probes at integration collector -- no reply.</li>
      <li>Much testing. IMs with Philippe.</li>
    </ul>
  </dd>
  <dt>2009/06/24</dt>
  <dd>
    <ul>
      <li>Remove implicit requirement for existence of XML table from !ensureUniqueMd5().</li>
      <li>Regex fix to RSV probe contact check.</li>
      <li>Deprecate original RSV probe in favor of gratia-config-probe and gratia-config-probe-helper. Merge changes since creation by Arvind.</li>
      <li>IM with Alain on upcoming release.</li>
    </ul>
  </dd>
  <dt>2009/06/23</dt>
  <dd>
    <ul>
      <li>Apprise Ruth, Philippe, Gabriele of IM conversation with Rob.</li>
      <li>Continue work on logging problem. Now ready for test.</li>
      <li>Improve logging frequency / levels of replication messages.</li>
      <li>Reply to Ruth on GOC issues.</li>
      <li>Conversation with Burt -- plans to request local installs of Gratia RSV probe.</li>
      <li>Reply to questions from John on RSV probe.</li>
      <li>Minor corrections and improvements to RSV probe.</li>
      <li>Reply to Philippe on root user requirements for RSV probe.</li>
      <li>Clean up some disk space on gratia-vm02 preparatory to getting Jim's collector going.</li>
      <li>IM with Philippe on possible tomcat changes and apprise of conversation with Burt.</li>
      <li>More IM with Philippe on questions from Rob.</li>
    </ul>
  </dd>
  <dt>2009/06/22</dt>
  <dd>
    <ul>
      <li>Work on problems with current integration collectors. Hibernate exceptions can be fixed with no changes to code by dropping =*_Origin, Origin, Certificates and !ConnectionTable=. Start looking at servlet crash problem. Discuss synchronization issues with Philippe.</li>
      <li>Check in with Philippe on release schedule and work to be done. Also discuss whether he is was going to reply to Arvind's last email (no, handed off to Ruth).</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2009/07/02</dt>
  <dd>
    <ul>
      <li>Medical office visit.</li>
      <li>Do without laptop again while LCD screen is replaced with (wait for it) another faulty screen. Whoop.</li>
      <li>Complete PII training.</li>
    </ul>
  </dd>
  <dt>2009/07/01</dt>
  <dd>
    <ul>
      <li>Medical office visit.</li>
      <li>Check with Eileen on justifiability of ordering a battery for a laptop shortly to go out of warranty; request battery via service call.</li>
      <li>Discussion with and email to Eileen regarding feasibility of getting a fast-track method for clearing site DNS cache upon request since GOC services were unavailable for multiple hours yesterday for the second time in 6 weeks.</li>
      <li>Catch up with work log.</li>
    </ul>
  </dd>
  <dt>2009/06/30</dt>
  <dd>
    <ul>
      <li>Medical office visit.</li>
      <li>Reply to owners of GSA list regarding spoofed "from".</li>
    </ul>
  </dd>
  <dt>2009/06/29</dt>
  <dd>
    <ul>
      <li>Catch up on last week's worklog.</li>
      <li>Submit effort report.</li>
      <li>Lose laptop for motherboard swap -- came back with dead screen, to be replaced. Argh.</li>
      <li>Register new on-board NIC.</li>
    </ul>
  </dd>
  <dt>2009/06/26</dt>
  <dd>
    <ul>
      <li>Reply on query on ticket assigned to Grid group -- appears to be SQUID trouble -- suggest reassignment to FG.</li>
    </ul>
  </dd>
  <dt>2009/06/25</dt>
  <dd>
    <ul>
      <li>Reply on another MB query.</li>
      <li>Mail to Richard / Steve requesting better planning of their support staff vacation cover.</li>
    </ul>
  </dd>
  <dt>2009/06/24</dt>
  <dt>2009/06/23</dt>
  <dd>
    <ul>
      <li>Check on status of hardware service request with helpdesk -- not a ticket yet.</li>
      <li>Catch up on work log.</li>
      <li>Mail to Chander about OSG@FNAL MM entry.</li>
      <li>Reply to CD survey of WWW server managers.</li>
      <li>Account request from MB -- Ray S. is on vacation. Pushed off to FEF / CD desktop support.</li>
      <li>Ticket from !MiniBooNE re datastore utility -- needed restarting.</li>
    </ul>
  </dd>
  <dt>2009/06/22</dt>
  <dd>
    <ul>
      <li>Corrupted time card trouble. back and forth with Gabriele. Answer Gabriele's question about how to cc: people on service desk tickets (you can't).</li>
      <li>Report for Gabriele.</li>
      <li>Group meeting.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Trash.MainChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->

-- Main.ChrisGreen - 22 Jun 2009