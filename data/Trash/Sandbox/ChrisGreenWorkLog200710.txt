%META:TOPICINFO{author="KyleGross" date="1229445463" format="1.1" version="1.31"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<h1>Chris Green's personal work log for 2007/04/16 - 2007/04/27</h1>
%TOC%

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

<h3>User Support</h3>
<dl>
  <dt>2007/04/27</dt>
  <dd>
    <ul>
      <li>Batch job handling now works with site testing scripts.</li>
      <li>Installed Mats' test scripts as =engage-fork-test= and =engage-wn-test= in test suite.</li>
      <li>More work with Vanderbilt: think we've cracked the CRL problem this time, waiting for test results from Mats.</li>
      <li>Chat with disgruntled user about certs and access to grid resources.</li>
    </ul>
  </dd>
  <dt>2007/04/26</dt>
  <dd>
    <ul>
      <li>Got confirmation from Ruth about Frank's email on milestones. Need to get site-testing in to some preliminary shape PDQ.</li>
      <li>At Ruth's request, helped troubleshoot Vanderbilt for Engagement group. VORS was not reporting support -- now fixed.</li>
      <li>More back and forth with Vanderbilt over CRLS. Will check again tomorrow.</li>
      <li>Script work: last hurdle in job handling is results-passing; should be ready tomorrow.</li>
      <li>Request from Nickolai for help identifying sites: will be good early test for sites scripts.</li>
    </ul>
  </dd>
  <dt>2007/04/25</dt>
  <dd>
    <ul>
      <li>Response to Franks comment on !MiniBooNE article.</li>
      <li>Request for clarification on missed OSG milestone: received from Frank, waiting for confirmation from Ruth.</li>
      <li>Test scripts:
        <ul>
          <li>Now passing details back, may need to tweak format to cope with "control" characters in output.</li>
          <li>Need to perfect processing of job output into results columns, but getting there.</li>
        </ul>
      </li>
    </ul>
  </dd>
  <dt>2007/04/24</dt>
  <dd>
    <ul>
      <li>Hacked up a non-file-locking multisim script that can handle a push-model install for !MiniBooNE.</li>
      <li>Attended documentation meeting.</li>
      <li>More work on test scripts: almost ready to submit jobs. No, really.Need to pass "details" back in the same way as "results", in machine-readable ".dat" file. Change format to =[]= and =[[]]= instead of null-separation?</li>
    </ul>
  </dd>
  <dt>2007/04/23</dt>
  <dd>
    <ul>
      <li>Request from Lynn for help with ILC VO registration followup questions: will attend OSG Ops meeting if Steve is unable to attend.</li>
      <li>Steve attended the meeting so I didn't stay.</li>
      <li>Progress on VO test scripts: should have working batch jobs tomorrow.</li>
      <li>Replied to three of Franks emails about reporting and about the FNAL-based workshop in July.</li>
      <li>Helped a user with certificate silliness.</li>
    </ul>
  </dd>
  <dt>2007/04/20</dt>
  <dd>
    <ul>
      <li>Progress on VO test scripts.</li>
    </ul>
  </dd>
  <dt>2007/04/19</dt>
  <dd>
    <ul>
      <li>Spoke with Ruth about priorities and User Support / Gratia effort balance.</li>
      <li>More work on test scripts.</li>
      <li>Request from !MiniBooNE for help on locking problem on pull model script; also want to allow for pull model.</li>
      <li>Check in with Paul !LeBrun: problems with jobs un =UNSUBMITTED= state. After much research, eventually reset gridmanager and things seem to be okay now.</li>
    </ul>
  </dd>
  <dt>2007/04/18</dt>
  <dd>
    <ul>
      <li>Replied to BNL ticket, cc'd to Gabriele.</li>
      <li>Replied to Marcia with minor comment on iSGTW article on !MiniBooNE.</li>
      <li>Mailed Abhishek about WBS reporting.</li>
      <li>Long and useful discussion with Abhishek about WBS items, and also requirements for OSG 0.8.0:
        <ul>
          <li>Updated WBS items.</li>
          <li>Agreed to seek clarification on items 176 and 178 of the [[https://twiki.grid.iu.edu/twiki/bin/view/OSGReports/UpdateWbs][OSG WBS]].</li>
          <li>I agreed to find out more about current GUMS resources requirements.</li>
        </ul></li>
      <li>Asked Dan about resource requirements of GUMS. Answer: small sites can probably install GUMS on their headnode. Memory footprint is now not too large, and a 5Hz mapping frequency translates to a load of about 2 units.</li>
      <li>Spoke to John W.: WS-GRAM is not enabled by default on headnodes, and anyway does not run inside tomcat. Regardless, he runs GUMS on a Xen VM with 256MB RAM and very low load.</li>
      <li>Work on site test scripts.</li>
    </ul>
  </dd>
  <dt>2007/04/17</dt>
  <dd>
    <ul>
      <li>Documentation meeting. Discussion with GOC regarding VO-specific site tests: overlap with GOC tests, hosting and linking. GOC will talk to Ruth this afternoon and get back to me.See [[DocsComm.DocProjectMinutes17Apr07#Chris_G_s_Site_Test_Summary_page][doc. meeting minutes]].</li>
    </ul>
  </dd>
</dl>

<h3>Gratia</h3>
<dl>
  <dt>2007/04/27</dt>
  <dd>
    <ul>
      <li>Restored "See Table" function of seeing real SQL by restoring trace table inserts to stored procedures. We really need a solution that isn't susceptible to race conditions (nearl-simultaneous report requests could get the wrong SQL).</li>
      <li>Discussions regarding !MySQL access for external users.</li>
    </ul>
  </dd>
  <dt>2007/04/26</dt>
  <dd>
    <ul>
      <li> =Makefile= fixed and checked in.</li>
      <li>Gratia tagged at =v0-17= and re-built.</li>
      <li> =tomcat-ps= updated to =v0-17= and restarted. Stored procedures also updated.</li>
      <li>More discussions with Jeff.</li>
    </ul>
  </dd>
  <dt>2007/04/25</dt>
  <dd>
    <ul>
      <li>Diagnosed problem with Vanderbilt: looks like a recent VDT update screwed with =ProbeConfig=: this has happened at a couple of sites.</li>
      <li>Back and forth with Philippe over ps-accounting problems: still need to rebuild summary tables for ps-accounting.</li>
      <li>Copied missing UserVoMap files over to tomcats: still need to fix =Makefile=.</li>
      <li>Rebuilt summary tables fo ps-accounting. Still waiting for Jeff before updating reporting.</li>
    </ul>
  </dd>
  <dt>2007/04/24</dt>
  <dd>
    <ul>
      <li>Confirmed to Steve that we want the =cd-psg2= name moved to be an alias for =gratia09=.</li>
      <li>Checked into a report from Jeff that the summary tables for the ps-accounting aren't working:
      <ul>
        <li>Verified that the "wrong" trigger was loaded into the =gratia_psacct= schema with the last update.</li>
        <li>Consolidated =build-ps-node-summary-table.sql= and =build-summary-tables.sql=: the former only builds the table _ab initio_; the latter has the other summary tables and the main trigger, which has a conditional clause to only update the =NodeSummary= table if it exists.</li>
        <li>Uploading fixed SQL and rebuilding summary tables for =gratia_psacct= schema.</li>
        <li>Created conditional procedure to get around the lack of an "if exsts" clause for triggers.</li>
      </ul>
      </li>
      <li>Sent mail asking OSG daily reporters to reconfigure their probes.</li>
      <li>Horst claims to have reconfigured the daily probes.</li>
      <li>Spent time trying to diagnose reporting problems with psacct with Jeff: looks like a bad interaction with =viewer.jsp=.</li>
    </ul>
  </dd>
  <dt>2007/04/23</dt>
  <dd>
    <ul>
      <li>Produce ops meeting reports (beware [[http://en.wikipedia.org/wiki/Yak_shaving][yak shaving]] exercise):
        <ul>
          <li>Upgraded OSG production collector to v0-15 to have latest reports available.</li>
          <li>Minor exceptions in =catalina.out=: notified Jeff, now fixed in CVS.</li>
          <li>Produced report, walked through with Eileen and passed comments to Jeff.</li>
          <li>Gratia meeting.</li>
        </ul>
      </li>
    </ul>
  </dd>
  <dt>2007/04/20</dt>
  <dd>
    <ul>
      <li>More email with Horst about OU.</li>
      <li>Investigations into probes still sending to old collector.</li>
      <li>Meeting with Gratia team, Igor Mandrichenko and Margherita Vittone Wiersma about reporting.</li>
    </ul>
  </dd>
  <dt>2007/04/19</dt>
  <dd>
    <ul>
      <li>Back and forth with Alan Sill and UNL over possible Gratia configuration problems at UNL and TTU.</li>
      <li>Back and forth with Horst Severini over possible Gratia problems at OU. Eventually fixed.</li>
      <li>Made item three of [[Accounting.ProbeInstallation][probe installation instructions]] preliminary notes even more in-your-face.</li>
      <li>Request from Philippe to check VO map files due to discrepancies in Engage reporting:
        <dl>
        <dt><tt>condor:osg-gw-2.t2.ucsd.edu</tt></dt>
        <dd> *Engage* maps to *Engage* (ie capitalization is wrong).</dd>
        <dt><tt>pbs-lsf:grid3.aset.psu.edu</tt></dt>
        <dd> *engage* maps to *engagement*. Note also that =ProbeConfig= points to a one-off copy of the mapfile in =/opt/osg-ce/gratia/probe/pbs-lsf/osg-user-vo-map.txt= rather than the (supposedly) automatically updated version in =/opt/osg-ce/monitoring=</dd>
        </dl>
      </li>
    </ul>
  </dd>
  <dt>2007/04/18</dt>
  <dd>
    <ul>
      <li>Replied to Ruth about Franks email on VOs, etc.</li>
      <li>Back forth with Jeff over report renaming.</li>
      <li>Replied to Stuart Martin on GRAM auditing.</li>
    </ul>
  </dd>
  <dt>2007/04/17</dt>
  <dd>
    <ul>
      <li>Collector upgrades completed.</li>
      <li>Fixed !SysV init script to avoid tomcat shutdown problems.</li>
      <li>Deactivated SSL ports until:
        <ol>
          <li>We need them.</li>
          <li>We have host certs.</li>
        </ol>
      </li>
      <li>Changed alert monitor on =osg_daily= collector to wait 24h before complaining.</li>
      <li>Fixed minor problems in configure script.</li>
      <li>Fixed minor problem in =create_build-store-procedures.sql= with 'NOT IN' fix clause.</li>
      <li>Minor enhancements to =create_build-store-procedures.sql= (no functional change to generated output).</li>
      <li>Regenerated =build-stored-procedures.sql= without trace inserts.</li>
    </ul>
  </dd>
  <dt>2007/04/16</dt>
  <dd>
    <ul>
      <li>Completed [[Accounting.InstallationGuideFNAL][FNAL-specific installation instructions]] and configuration script for collectors.</li>
      <li>Gratia meeting.</li>
      <li>Installed new collectors on =gratia08= and =gratia09=.</li>
    </ul>
  </dd>
</dl>

<h3>Other</h3>
<dl>
  <dt>2007/04/27</dt>
  <dd>
    <ul>
      <li>Read & kept ~60 work-related emails.</li>
      <li>Sent 12 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/04/26</dt>
  <dd>
    <ul>
      <li>Read & kept ~113 work-related emails.</li>
      <li>Sent 27 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/04/25</dt>
  <dd>
    <ul>
      <li>Read accident report, "[[http://www-esh.fnal.gov:8001/Occurr_Rep/2007/2007_0002.pdf][Right thumb laceration including tendon, 2007/04/03]]."</li>
      <li>Read & kept ~52 work-related emails.</li>
      <li>Sent 12 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/04/24</dt>
  <dd>
    <ul>
      <li>Read & kept ~70 work-related emails.</li>
      <li>Sent 15 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/04/23</dt>
  <dd>
    <ul>
      <li>Read and kept ~53 work-related emails.</li>
      <li>Sent 11 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/04/20</dt>
  <dd>
    <ul>
      <li>Read and kept ~124 work-related emails.</li>
      <li>Sent 4 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/04/19</dt>
  <dd>
    <ul>
      <li>Discovered and reported disk-full error on TWiki to GOC.</li>
      <li>Read & kept ~136 work-related emails.</li>
      <li>Sent 22 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/04/18</dt>
  <dd>
    <ul>
      <li>Read & kept ~104 work-related emails.</li>
      <li>Sent 10 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/04/17</dt>
  <dd>
    <ul>
      <li>Read & kept ~76 work-related emails.</li>
      <li>Sent 14 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/04/16</dt>
  <dd>
    <ul>
      <li>Split work log into bi-weekly sections for ease of navigation and compilation of biweekly reports.</li>
      <li>Compiled bi-weekly report for Gabriele.</li>
      <li>Read & kept ~91 work-related emails.</li>
      <li>Sent 14 work-related emails.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Main.ChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen, Main.ForrestChristian
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->

-- Main.ChrisGreen - 17 Apr 2007