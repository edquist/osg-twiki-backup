%META:TOPICINFO{author="ChrisGreen" date="1225130432" format="1.1" version="1.11"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2008/09/29 - 2008/10/10

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2008/10/15</dt>
  <dd>
    <ul>
      <li>Help Dan with fermigrid repository stuff.</li>
      <li>Send new condor_meter.pl to Terrence to try to fix restart problem.</li>
    </ul>
  </dd>
  <dt>2008/10/14</dt>
  <dd>
    <ul>
      <li>Investigation of progress in UCSD catchup for Brian and Terrence.</li>
      <li>Mail correspondence with Neha regarding hibernate and !InnoDB.</li>    
    </ul>
  </dd>
  <dt>2008/10/10</dt>
  <dd>
    <ul>
      <li>Group meeting.</li>
    </ul>
  </dd>
  <dt>2008/10/08</dt>
  <dd>
    <ul>
      <li>Discovered that tomcats needed restart this morning due to KCA CA trouble. Look into possible ways of avoiding this in future</li>
      <li>Notify Burt H. that large numbers of CMS glexec probes are reporting to OSG collector using generic meter and site names.</li>
      <li>Increase tomcat memory size on tomcat-qcd after blown heap.</li>
    </ul>
  </dd>
  <dt>2008/10/06</dt>
  <dd>
    <ul>
      <li>Correspondence and conversation with Linda Blomberg on problems sending email to =gratia-help= -- error was old, problem had already been fixed; tests confirmed.</li>
      <li>Discussion with Terrence Martin at UCSD regarding problems clearing a large backlog. Sent latest =condor_meter.pl= and =Gratia.py= with instructions.</li>
      <li>Update SPRACE-CE -> SPRACE.</li>
    </ul>
  </dd>
  <dt>2008/10/03</dt>
  <dd>
    <ul>
      <li>Fermigrid group meeting.</li>
      <li>Investigate bad information from probe: turns out to be Florida-IHEPA sending info from an old probe with un-escaped &amp; characters.</li>
      <li>Investigate problem with strange exception during record save, "Implicit or explicit commit not allowed in procedure or trigger" (not exact quote). Transient problem of unknown origin, since replacing XML in thread0 directory works second time.</li>
    </ul>
  </dd>
  <dt>2008/10/02</dt>
  <dd>
    <ul>
      <li>Check success of backups after upgrade and conduct post mortem, reporting by email to gratia-operation.</li>
    </ul>
  </dd>
  <dt>2008/10/01</dt>
  <dd>
    <ul>
      <li>FCC photo-op.</li>
      <li>Help Dan with script trouble.</li>
      <li>Roll out ZRM v2.0.1 and simplify configurations. Also add DBA list as a destination on report emails.</li>
      <li>Request machine principal for gratia06 for non-privileged gratia DB backups.</li>
      <li>Send email announcing backup switch.</li>
    </ul>
  </dd>
  <dt>2008/09/29</dt>
  <dd>
    <ul>
      <li>Studies on gratia-vm02 to understand whether backup can operate without root privs (yes).</li>
      <li>Chaperone Dan updating site translation for Engage site.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2008/10/15</dt>
  <dd>
    <ul>
      <li>condor_meter.pl now cleans up history files between runs of 500 records.</li>
      <li>Start looking at OSG reports to fix problems.</li>
      <li>Discussions with John and Jeff on reports.</li>
    </ul>
  </dd>
  <dt>2008/10/14</dt>
  <dd>
    <ul>
      <li>Back out Penelope's change to proc-edit-permissions.sql</li>
      <li>(With Philippe) fix reports to use !JdbcDataSet instead of !SPDataSet.</li>
      <li>Fix problems with trace table and hibernate descriptions thereof.</li>
      <li>Test ps-accounting reports and mail Penelope et al with results.</li>
      <li>Talk to Jeff about helping Penelope fix ps-accounting reports.</li>
    </ul>
  </dd>
  <dt>2008/10/10</dt>
  <dd>
    <ul>
      <li>Back-out Penelope's changes to ERD files in repository.</li>
      <li>Checked in code to upload probe and batch system versions for PBS, LSF and Condor probes</li>
      <li>Fix problem with WS GRAM log file search.</li>
      <li>Investigated Penelope's complaint about metadata access from gratiax21 as reader to the DB on gratia-vm02.</li>
      <li>Follow-up email to Brian re RSV probe for Gratia.</li>
      <li>Correspondence with Alan S. and Preston S. on probe testing.</li>
    </ul>
  </dd>
  <dt>2008/10/08</dt>
  <dd>
    <ul>
      <li>Correspondence with Alan and Preston on probe package testing.</li>
      <li>Correspondence with Terrence and checking into progress and possible problems with backlog clearing.</li>
      <li>Discovered that probes aren't reporting their own versions yet. Need to fix.</li>
      <li>Gratia meeting.</li>
      <li>Correspondence with Alain R. on common and server libraries for collector.</li>
      <li>Init script now has restart function.</li>
      <li>collector-ctl script now has restart function and exclude function.</li>
    </ul>
  </dd>
  <dt>2008/10/07</dt>
  <dd>
    <ul>
      <li>Ask Alan S. and Preston S. to test probe packages for PBS and LSF now available on VDT test cache.</li>
      <li>Ask John W to test condor probe package now available on VDT test cache.</li>
      <li>Reply to question from Alan S. regarding !MySQL5 complaint during Gratia services install.</li>
      <li>Update !DatabaseMaintenance.java for Penelope (multiple times) to allow integration systems to pick up stored procedure fixes automatically</li>
      <li>configure-collector now does its level best to keep configuration items in the intended structure and keeps grouped items (eg DN or FQAN specifications) together.</li>
      <li>Updated documentation for service-configuration.properties. Still need to verify code does not use undocumented properties.</li>
    </ul>
  </dd>
  <dt>2008/10/06</dt>
  <dd>
    <ul>
      <li>Investigation into cases where !CPUTime &gt; !WallTime for some jobs. Consensus was a combination of local MPI jobs and multi-threaded jobs.</li>
      <li>Spreadsheet report for Philippe.</li>
      <li>Set up ps-accounting test collector for Penelope on gratiax21 and load with summary PS data from gratia06. Slight hiccup with backup containing vestigial !NodeName column in !CPUInfo table. Easiest solution was to add same to test collector before restoring backup.</li>
      <li>configure-collector now has options to print items from the config files it reads without actually performing the upgrades. This is used by gratia-upgrade.sh which now:
      <ul><li>Picks up the configured user from the config file and uses it if appropriate in the email address for build status emails.</li>
             <li>Accepts --mail option to alter email address if --daily is not set.</li>
             <li>Handles correctly cases where the tomcat instance name contains a dash.<li>
             <li>Accepts the --tomcat-dir option to override the default of /data.</li></ul></li>
    </ul>
  </dd>
  <dt>2008/10/03</dt>
  <dd>
    <ul>
      <li>Discussions with John W on enhancing startup script to allow status requests and commands via wget to collector.</li>
      <li>Discussions with Brian about adding min-timestamp to transfer probe to avoid uploading 5M records the first time it turns on. Also heads-up on a UCSDT2 GK starting to report after ~3mo.</li>
      <li>Check with Arvind on additions to apparently closed tickets (badly configured vacation message from Rob Q).</li>
      <li>Reply to Philippe on condor probe question.</li>
      <li>Reply to Tim C. on gratia services "sentinel", checking for good schema.</li>
    </ul>
  </dd>
  <dt>2008/10/02</dt>
  <dd>
    <ul>
      <li>Probelm with !MySQL client is more urgent because VDT is upgrading their !MySQL client to 5.0.67 with the next VDT 1.10.1 release (k). Produce patched versions 0.34.9b, 0.36.1 and 0.38.4 including fixes to build-summary-view.sql and build-trigger.sql as appropriate to cope with persnickety client rejection of comment lines with three consecutive dashes.</li>
      <li>More shenanigans with CVS access to sourceforge -- time to move off?</li>
      <li>Help Penelope with problems getting a test build on gratiax21, complicated by upload method and CVS problems. Eventually traced to DOS/UNIX LF/CR problems. Argh.</li>
    </ul>
  </dd>
  <dt>2008/10/01</dt>
  <dd>
    <ul>
      <li>Update ~gratia/gratia-summary area and send report to Jemise.</li>
      <li>Try to diagnose trouble connecting to sourceforge CVS.</li>
      <li>Discussion with John over mysql '---' problem -- appears to be restricted to mysql 5.0.67 client *only*. John will fix in CVS and not bother with VDT notification since VDT version is 5.0.51a.</li>
      <li>Agenda, meeting and minutes.</li>
      <li>Make (little) progress on updating service-configuration.properties documentation in collector.</li>
    </ul>
  </dd>
  <dt>2008/09/29</dt>
  <dd>
    <ul>
      <li>Fix discovered problem with Gratia.py / default probe and re-release to VDT (Reported by Steve T. after unintended autoyum on CDF machines).</li>
      <li>Arrange bi-weekly meetings with Ruth starting 10/15.</li>
      <li>Spreadsheet report for Philippe.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2008/10/15</dt>
  <dd>
    <ul>
      <li>Windows Update</li>
      <li>Arrange to meet Ruth et al this afternoon.</li>
    </ul>
  </dd>
  <dt>2008/10/14</dt>
  <dd>
    <ul>
      <li>Fix VO-specific reports to use !VOProbeSummary view.</li>
    </ul>
  </dd>
  <dt>2008/10/10</dt>
  <dd>
    <ul>
      <li>Receive evaluation from Gabriele.</li>
    </ul>
  </dd>
  <dt>2008/10/07</dt>
  <dd>
    <ul>
      <li>Reply to Tanya on VOMS/VOMRS questionnaire for OSG VO.</li>
    </ul>
  </dd>
  <dt>2008/10/03</dt>
  <dd>
    <ul>
      <li>Re-install Kerberos for Windows and KCA plugin to kick-start certificates missing form FF for some reason.</li>
      <li>Attend !GridFest.</li>
    </ul>
  </dd>
  <dt>2008/10/02</dt>
  <dd>
    <ul>
      <li>Install latest Nvidia drivers in an attempt to prevent regular application / system crashes attributed to driver.</li>
      <li>Talk to Elizabeth Chism about SBGrid / OSG VO ticket.</li>
    </ul>
  </dd>
  <dt>2008/10/01</dt>
  <dd>
    <ul>
      <li>Department meeting.</li>
      <li>Mail catchup and partial tidy.</li>
      <li>Request and obtain renewed OSG and OSGEDU service certs for fnpcsrv1. Request records in /local/globus/greenc/request-* directories.</li>
    </ul>
  </dd>
  <dt>2008/09/29</dt>
  <dd>
    <ul>
      <li>Report for Gabriele.</li>
      <li>Group meeting.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Main.ChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->

-- Main.ChrisGreen - 01 Oct 2008