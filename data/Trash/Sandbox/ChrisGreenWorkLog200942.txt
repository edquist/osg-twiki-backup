%META:TOPICINFO{author="KyleGross" date="1507063759" format="1.1" version="1.10"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2009/10/12 - 2009/10/23.

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

<p style="font-weight: bold;">[ Full day vacation 2009/10/19 ]</p>

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2009/10/23</dt>
  <dd>
    <ul>
      <li class="todo">Reply from Alberto. Need to acknowledge and answer query Monday.</li>
    </ul>
  </dd>
  <dt>2009/10/22</dt>
  <dd>
    <ul>
      <li>Check in with John, Alberto on plans.</li>
      <li>Mail from Mats -- OSG-MM is ready, except for being able to use the cert.</li>
      <li>No reply from Patricia. Argh.</li>
      <li>Reply to check-in from Shreyas re NERSC ticket -- still pending.</li>
    </ul>
  </dd>
  <dt>2009/10/21</dt>
  <dd>
    <ul>
      <li>Ping Patricia about cert. This is going to take a while. Reply from Patricia denying that I even entered a cert. Explain why, and exactly how to see and approve the certificate.</li>
      <li>More noise from Patricia. Predictable, but annoying nevertheless. Try to nudge her in the right direction again. She claims she will speak to the DB admins tomorrow.</li>
      <li>Brief chat to Gabriele about TGYRO.</li>
    </ul>
  </dd>
  <dt>2009/10/20</dt>
  <dd>
    <ul>
      <li>Skype conv. with Mats on RENCI "best-effort" OSGMM instance for Geant4. Also discuss changes in resource specification.</li>
      <li>Request approval for new cert. from Geant4 VOMRS.</li>
      <li>Ping from Mats re cert. approval. Warned him not to get his hopes up.</li>
      <li>Mail from Gabriele with heads-up for next meeting.</li>
    </ul>
  </dd>
  <dt>2009/10/16</dt>
  <dd>
    <ul>
      <li>Talk to Mats and start trying to transition Geant4 maintenance stuff from gratia01 to engage-central.</li>
    </ul>
  </dd>
  <dt>2009/10/15</dt>
  <dt>2009/10/14</dt>
  <dt>2009/10/13</dt>
  <dd>
    <ul>
      <li>Incorporate Steve's comments. Pass to WB for comment.</li>
      <li>Incorporate WB's comments and send to Keith / Steve / Gabriele.</li>
    </ul>
  </dd>
  <dt>2009/10/12</dt>
  <dd>
    <ul>
      <li>Meeting with Ruth, Gabriele on TG report and work for the year ahead. Follow-up discussions with Steve and Gabriele. Further email with Keith.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2009/10/23</dt>
  <dd>
    <ul>
      <li>Fermigrid group meeting.</li>
      <li id="CD">Report regarding possible non-reporting of new LQCD SE (Bestman). Probe is reporting to OSG instead of Fermi -- correct and move over unprocessed queued files. Replicate processed records. Need to make sure instructions emphasize configuring the probe before starting it. Chat to Nirmal and Philippe about transfer reports from Fermi collector.</li>
    </ul>
  </dd>
  <dt>2009/10/22</dt>
  <dd>
    <ul>
      <li>Mail to sites list asking for clarification on RESOURCE_NAME / RESOURCE_GROUP policies for GIP _et al._</li>
      <li>Discussion with Eileen and Steve on ticketing issues.</li>
    </ul>
  </dd>
  <dt>2009/10/21</dt>
  <dd>
    <ul>
      <li>Unproductive 'phone call with Carolina Sinclair regarding apparent in-progress consolidation of all Remedy-FP interactions into one FNAL-side service group. Unsuccessful explaining why this is a supremely bad idea. Send email to Eileen, cc: fermigrid-ops. Moral support from Steve.</li>
      <li>Reply to check-in from Elizabeth on languishing ticket.</li>
      <li>Check into possibly missing records from CMS T1 -- just backlog / replication issues, cleared themselves.</li>
    </ul>
  </dd>
  <dt>2009/10/20</dt>
  <dd>
    <ul>
      <li>Register Gratia collectors as resources in OSG. Register downtimes for 10/22. Discussion on resource registration details with Dan.</li>
      <li>IM, Skype with Arvind and Skype with Elizabeth regarding new SCs.</li>
      <li>Check housekeeping catchup progress on osg-transfer.</li>
      <li>Ask Philippe about which storage site is supposedly having problems.</li>
      <li>Withdraw FGCAB and remove outage notices from Gratia SCs.</li>
    </ul>
  </dd>
  <dt>2009/10/16</dt>
  <dd>
    <ul>
      <li>Deal with old NYSGRID_RIT ticket -- talk to Elizabeth.</li>
      <li>Check housekeeping backlog.</li>
      <li>Discussion with Philippe on overnight exceptions in production collectors -- apparent DB-collector communication glitch. Noisy, but recovered.</li>
      <li>Email report to Steve.</li>
      <li>Fermigrid meeting.</li>
    </ul>
  </dd>
  <dt>2009/10/15</dt>
  <dd>
    <ul>
      <li>Start install, find problems in !DatabaseMaintenance.</li>
       <li>FGCAB: install 1.06.7 on Fermi 2009/10/15 with OSG on 2009/10/21.</li>
      <li>Complete install on Fermi collectors.</li>
      <li>Notice origin exception -- alert Philippe.</li>
    </ul>
  </dd>
  <dt>2009/10/14</dt>
  <dd>
    <ul>
       <li>FGCAB: install 1.06.6 on Fermi 2009/10/15 with OSG on 2009/10/21.</li>
    </ul>
  </dd>
  <dt>2009/10/13</dt>
  <dd>
    <ul>
      <li>Check transfer backlog, make sure we don't get too far behind on records and XML cleanup.</li>
    </ul>
  </dd>
  <dt>2009/10/12</dt>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2009/10/25</dt>
  <dd>
    <ul>
      <li>Clean up disk on integration system and restart collector -- disk full due to high load.</li>
      <li>Change integration server config to do more frequent cleanup of history / old dirs to conserve inode use.</li>
      <li>Report from John W. of possible problems with a drillthrough report -- one user cert executing jobs in two VOs on the same site gets two data bars that can't be distinguished. WONTFIX for now, since report is very rare, occurrence of circumstances is very rare and chance of user caring even more so.</li>
    </ul>
  </dd>
  <dt>2009/10/24</dt>
  <dd>
    <ul>
      <li>Clean up disk on integration system and restart collector -- disk full due to high load.</li>
    </ul>
  </dd>
  <dt>2009/10/23</dt>
  <dd>
    <ul>
      <li>Fix emacs indenting to avoid fights with Philippe. !XEmacs got it right first time. Oh, well.</li>
      <li>IM with Brian regarding plural issues with routine names in Gratia.py.</li>
      <li>More conversations and investigations with Philippe. Finally look like we've cracked it -- !MySQL info is stale, not just Hibernate cache info. Need to wrap *everything* in a transaction, not just updates. Philippe will amend code accordingly.</li>
      <li>Late-night install of integration collector for Philippe.</li>
    </ul>
  </dd>
  <dt>2009/10/22</dt>
  <dd>
    <ul>
      <li>Make sure exception info is saved with quarantine file.</li>
      <li>Send certificate check info to Philippe.</li>
      <li>Continue investigations and discussions with Philippe.</li>
      <li>More robustness improvements to !ReplicationDataPump.</li>
      <li>More robustness improvements to !ReplicationTable in an attempt to fix the caching problem.</li>
    </ul>
  </dd>
  <dt>2009/10/21</dt>
  <dd>
    <ul>
      <li>Continue investigating stale info problems.</li>
      <li>Gratia meeting.</li>
      <li>Incorporate Philippe's improvements to !DCacheBillingAggregator.</li>
      <li>Improve robustness of Hibernate interactions in wrapper.</li>
      <li>Mail to Philippe with info from further investigations. Still nothing conclusively helpful.</li>
      <li>Check into question of possible units problems with !dCacheSimple reports -- problem is only in Karhik's code.</li>
    </ul>
  </dd>
  <dt>2009/10/20</dt>
  <dd>
    <ul>
      <li>Discussion with Philippe. Fix diagnostic output in !RMIHandlerServlet and centralize lock acquisition exception handling. Load onto integration collectors.</li>
      <li>Re-factor hibernate start to be able to try multiple times with the same options if unsuccessful. Rationalize interaction between !RecordProcessor and Hibernate.</li>
      <li>!DatabaseUp attempts start if necessary.</li>
      <li>Hibernate, etc. changes haven't stopped apparent stale info problems with !ReplicationTable, etc. Start further investigations.</li> 
      <li>Inquiry from Brian regarding log-scraping probes in general and xrootd-transfer probe in particular.</li>
    </ul>
  </dd>
  <dt>2009/10/16</dt>
  <dd>
    <ul>
      <li>Discussion with Philippe on origin handling, etc.</li>
      <li>Discussion with John W. on ERD.</li>
    </ul>
  </dd>
  <dt>2009/10/15</dt>
  <dd>
    <ul>
      <li>Fix problems in !DatabaseMaintenance.</li>
      <li>Cut 1.06.7.</li>
      <li>Discussions with Philippe on re-appearance of origin exception. Philippe to remediate with constraint exception handling.</li>
    </ul>
  </dd>
  <dt>2009/10/14</dt>
  <dd>
    <ul>
      <li>Fix problem with Philippe's recordProcessor thread starting class.</li>
      <li>Cut 1.06.4.</li>
      <li>Create and handle new configuration options to specify initial state of housekeeping, replication, recordProcessor and servlets (needed for re-population of integration).</li>
      <li>Cut 1.06.5.</li>
      <li>Gratia meeting.</li>
      <li>Tidy dos-style files and unnecessarily executable files.</li>
      <li>Remove forgotten local copies of detectAndReportLockFailure() in !DataScrubber and !ErrorRecorder and use the central one with expanded functionality.</li>
      <li>Cut 1.06.6.</li>
      <li>Release notes. Update !TWiki page and then ask Philippe to tweak.</li>
      <li>Check with John W. on possible DN handling issues -- NOP.</li>
      <li>Discussion with John W. on osg_configure issues.</li>
    </ul>
  </dd>
  <dt>2009/10/13</dt>
  <dd>
    <ul>
      <li>Cut 1.06.1.</li>
      <li>With Philippe, invetigate delays during shutdown. Improvements to messages, and better handling odf shutdown request.</li>
      <li>Cut 1.06.2.</li>
      <li>Follow implications of Philippe's change ListenerThread -> RecordProcessor and make required changes in config / documentation, etc, etc.</li>
      <li>Cut 1.06.3.</li>
    </ul>
  </dd>
  <dt>2009/10/12</dt>
  <dd>
    <ul>
      <li>Investigate problem with exception in integration ITB over the weekend: turns out to be unsafe read of file in input queue while it is being written.</li>
      <li>Make transfer of XML from servlet to input queue (mostly) atomic.</li>
      <li>Detect really vs temporarily empty files in input queue.</li>
      <li>Fix problem with staging and quarantine.</li>
      <li>Better handling of file save problems in servlet.</li>
      <li>Ask Philippe about cuttting 1.06.1.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2009/10/23</dt>
  <dt>2009/10/22</dt>
  <dt>2009/10/21</dt>
  <dt>2009/10/20</dt>
  <dd>
    <ul>
      <li>Reply to mac-users on runaway process.</li>
      <li>Reply to inquiry from Zelimir on server specs after obtaining from Keith.</li>
    </ul>
  </dd>
  <dt>2009/10/16</dt>
  <dd>
    <ul>
      <li>Handle CD-Grid/OSG tickets -- mostly erroneously assigned. Talk to service desk, mail with Eileen / Allen. Ticket.</li>
      <li>Work log.</li>
      <li>Time card.</li>
      <li>!CryptToken problems resolved: GOC deactivated feature pending discussions on pros vs cons.</li>
    </ul>
  </dd>
  <dt>2009/10/15</dt>
  <dd>
    <ul>
      <li>Work log.</li>
      <li>Chat to Elizabeth about !TWiki problems with invalid !CryptTokens during commits of worklog. Filed ticket.</li>
    </ul>
  </dd>
  <dt>2009/10/14</dt>
  <dd>
    <ul>
      <li>Work log.</li>
    </ul>
  </dd>
  <dt>2009/10/13</dt>
  <dd>
    <ul>
      <li>Bi-weekly report for Gabriele.</li>
      <li>Discussions on Snow Leopard and baselines.</li>
      <li>Fill in Ted's survey and forward webcast from Keith.</li>
    </ul>
  </dd>
  <dt>2009/10/12</dt>
  <dd>
    <ul>
      <li>Time card. Try to ascertain whether approval went through OK -- yes, eventually.</li>
      <li>Group meeting.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Trash.MainChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->
-- Main.ChrisGreen - 13 Oct 2009