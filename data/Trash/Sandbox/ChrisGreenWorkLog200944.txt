%META:TOPICINFO{author="KyleGross" date="1507063759" format="1.1" version="1.13"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2009/10/26 - 2009/11/06.

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2009/11/06</dt>
  <dd>
    <ul>
      <li>Attempt to change password on ff. Fail. Report.</li>
    </ul>
  </dd>
  <dt>2009/11/05</dt>
  <dd>
    <ul>
      <li>Skype with Mats re two new prospects. He will run with for another few days, will hand off next week.</li>
      <li>Discussion with Brian on SLEPc / PETSc optimized compiles and MPI flavors.</li>
      <li>Ask for secondary "grid" group permissions on ff.</li>
      <li>Produce properly optimized compiles of PETSc and SLEPc and install under OSG_APP.</li>
      <li>Forwards from Mats re two new potential users.</li>
    </ul>
  </dd>
  <dt>2009/11/04</dt>
  <dd>
    <ul>
      <li>Log in to firefly.</li>
      <li>Mail from Alberto: should check whether there are any RH5/32-bit machines on OSG.</li>
      <li>Investigation of OSGMM code for OS type retrieval. Also talk to Steve T. about GIP -- unreliable, basically.</li>
      <li>Log on to firefly and look around. Download and attempt to install PETSc/SLEPc. PETSc looks like it's compiling.</li>
    </ul>
  </dd>
  <dt>2009/11/03</dt>
  <dd>
    <ul>
      <li>Ping Chander re boiler plate example. Receive email.</li>
      <li>Lunch meeting with John H. / John M. / Ruth / Gabriele. Agree to pick up some individual users. Also regular meetings. Will need to follow up.</li>
      <li>Brief follow-up meeting with Ruth.</li>
    </ul>
  </dd>
  <dt>2009/11/02</dt>
  <dd>
    <ul>
      <li>Question to Mats about known OSG MPI resources:
        <ul>
          <li>STEELE (Purdue);</li>
          <li>Firefly (UNL);</li>
          <li>NYSGRID_CORNELL_NYS1;</li>
          <li>Vanderbilt;</li>
          <li>TTU.</li>
      </ul></li>
      <li>Ping Preston about library compile for STEELE (request pending for a month now). Pinged back when free. Preston has entered ticket on my behalf. Also details on running: will need to use (handle=<module>) RSL to get right modules visible.</li>
      <li>Request to Firefly admin for interactive login for MPI compiles. Quote Brian as adviser.</li>
      <li>Ping Shreyas on NERSC/Franklin ticket. Shreyas has flagged one more time.</li>
      <li>Check Geant4 OSGMM -- seems OK, 19 sites supported. Waiting for builds from Alberto. Will need to detect linux version per instructions from Mats.</li>
      <li>Chat to Gabriele re TGYRO. Apprise of progress.</li>
      <li>Chat to Chander about TG report. Reviewed current list of OSG staff. Publish and be damned. Chander to send details of boiler plate.</li>
    </ul>
  </dd>
  <dt>2009/10/30</dt>
  <dd>
    <ul>
      <li>Questions to Mats about rank, success percentage, missing UCSD.</li>
    </ul>
  </dd>
  <dt>2009/10/29</dt>
  <dd>
    <ul>
      <li>Certificate now works. Notify Mats. geant4-osgmm is now ready to go.</li>
      <li>Install geant4 maintenance and verification scripts on geant4-osgmm and adapt BDII check to local verification mechanism instead of cron.</li>
      <li>Reply on Alberto's architecture question.</li>
      <li>Reply to question from Gabriele over dissemination of TG report. Will speak to Chander Friday.</li>
      <li>Talk to Mats about cluster architecture detection.</li>
    </ul>
  </dd>
  <dt>2009/10/28</dt>
  <dd>
    <ul>
      <li>Reply to John !McGee on MPI and account disablement at NERSC.</li>
      <li>Certificate is not working. Talk to Tanya. Full sync between CERN VOMS and VOMS solved the problem. Mail to Patricia explaining solution. No reply.</li>
    </ul>
  </dd>
  <dt>2009/10/27</dt>
  <dd>
    <ul>
      <li>'Phone call with Patricia. Certificate is now approved.</li>
    </ul>
  </dd>
  <dt>2009/10/26</dt>
  <dd>
    <ul>
      <li>Unhelpful email from Patricia. Reply with screenshot and ask for 'phone no. and time. Will call 10.30 tomorrow.</li>
      <li>Ask Chander for budget code for international 'phone call: =540 - 540.08.10.01    SCIDAC2-OSG-FACIL-OP=.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2009/11/06</dt>
  <dd>
    <ul>
      <li>Receive tar files from BNL. Large number of files in them. Need to split and stage to avoid causing reporting outage for everyone else. Start that going.</li>
      <li>Reply to email from UFlorida-PG. They need to check condor config.</li>
      <li>Continue with automating config of new-style collector installs.</li>
      <li id="CD">Discussions regarding install and configuration of new DB server with Dan.</li>
      <li>Discussion with John W., Brian and Philippe over spotting non-reporting sites, mitigation, etc. "Animated" discussion about RSV probe and how this was specifically meant for that. Argh.</li>
      <li>More gr8x3.</li>
      <li>With Philippe, investigate lots of exceptions in servlets. Appears to be overlarge posts from OU. Investigations ongoing.</li>
      <li>Fermigrid dept meeting.</li>
    </ul>
  </dd>
  <dt>2009/11/05</dt>
  <dd>
    <ul>
      <li>Respond to request from BNL about clearing large backlog. Ask for tarred gratiafiles directories.</li>
      <li>More gr8x3.</li>
      <li>gratia09 problem was apparently "machine check exception." Worrying, but nothing we can do for now.</li>
    </ul>
  </dd>
  <dt>2009/11/04</dt>
  <dd>
    <ul>
      <li>Investigate possible memory reconfiguration of VMs to alleviate gr8x3. FGCAB. More email.</li>
      <li>Restart gr8x3.</li>
      <li>Mail to Rob G. from Brian asking whether gr8x4 is needed. Reply to Rob G. with clarification on a question.</li>
      <li id="CD">More discussions and investigations with Dan and Faarooq.</li>
      <li>Dan reports unscheduled reboot of gratia09. Ask for details.</li>
    </ul>
  </dd>
  <dt>2009/11/03</dt>
  <dd>
    <ul>
      <li>Research and discussions on how to get proper operation of separate collector / reporting tomcats. Tomcat does not support redirection, so need to look at apache / mod_jk.</li>
      <li id="CD">Discussions / investigations with John W. and Tony T. on LPC reporting to fermi-osg.</li>
      <li>Restart gr8x3.</li>
    </ul>
  </dd>
  <dt>2009/11/02</dt>
  <dd>
    <ul>
      <li id="CD">Talk to Dan, Philippe about collector install on new fermi hardware.</li>
      <li id="CD">Investigate possible problem with gr5x1 -- fermi-psacct. Turned out to be increased CPU usage due to normal operations (replicating a large backlog of records to integration collector. Increase bundle size to decrease looping overhead.</li>
      <li>Reply to Keith re ops report, Gratia section.</li>
      <li id="CD">With Dan, discuss VM memory / CPU requirements.</li>
      <li>With Philippe, discuss practicalities of running on 64-bit JVM v1.6.</li>
      <li>Compile jsvc (=commons-daemon=) for x64_64. Install bare =/data= on =gr10x[0-4]=. Dan needs to install gratia user and home dir mount and certs / crls / etc.</li>
      <li id="CD">Bump up replication bundle size on fermi-ps.</li>
    </ul>
  </dd>
  <dt>2009/10/30</dt>
  <dd>
    <ul>
      <li>With Philippe, investigate three problems with new collector:
        <ul>
          <li>P1DT dates being rejected. Valid rejection, but should be able to mitigate. Philippe has extended existing mitigation to cope with this case.</li>
          <li>EndTime null being rejected (legitimately), possibly invalidating the whole envelope instead of just the one record (would be bad). Verified that only the errant record is rejected. Philippe has implemented catching at a much earlier stage (previous behavior waited until DB commit and was quite noisy.</li>
          <li>Parsing rejection of some replicated records due to embedded pipe symbol (|) in record. Philippe has implemented more intelligent tokenizing.</li>
        </ul></li>
      <li>Fermigrid group meeting.</li>
      <li>Mail work log extract to Steve.</li>
    </ul>
  </dd>
  <dt>2009/10/29</dt>
  <dd>
    <ul>
      <li id="CD">With Philippe, investigate new exception on fermi collectors. Seems to be a bug with 5.0.22 mysql fixed in 5.0.48+. Investigate what versions to install where and whether emergency upgrade is necessary given imminent hardware migration. Send email. Reply to questions from Steve.</li>
      <li>Upgrade OSG collectors. Monitor progress. osg-prod took 2h instead of one; osg-transfer took 3h instead of 2h.</li>
      <li>With Dan, investigate mysql-upgrade implications for replication.</li>
      <li>Disable offsite reader access during OSG upgrade.</li>
    </ul>
  </dd>
  <dt>2009/10/28</dt>
  <dd>
    <ul>
      <li id="CD">Install new fermi collectors, with associated checks on DB and collectors. Reinstate replication.</li>
      <li>Announce OSG outages on OIM.</li>
    </ul>
  </dd>
  <dt>2009/10/27</dt>
  <dd>
    <ul>
      <li id="CD">Answer questions from Dan about gratia-fermi-itb.</li>
      <li>Mail to Steve about use of no_root_squash in Gratia installs.</li>
       <li id="CD">FGCAB: upgrade Fermi to 1.06.9 on 10/28 and OSG on 10/29.</li>
      <li id="CD">Ask Dan to look at hosed gratiax22, per John W.</li>
      <li id="CD">With Farooq, coordinate reboots for kernel upgrades.</li>
    </ul>
  </dd>
  <dt>2009/10/26</dt>
  <dd>
    <ul>
      <li>Investigate reported problems with log rotation at BNL -- not taking advantage of config item to decrease number of logs kept. Reply with necessary info.</li>
      <li>Check osg-transfer. Either we're close to being caught up or I forgot to hit "run now" when cycling housekeeping on Friday. Check again tomorrow.</li>
      <li>Arrange with Steve for him to cover Ops meeting for newly registered Gratia services.</li>
      <li id="CD">Ask on ops list about long-running =gasscacheclean= process.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2009/11/06</dt>
  <dd>
    <ul>
      <li>Assist Aaron with !PermGen errors on his collector.</li>
    </ul>
  </dd>
  <dt>2009/11/05</dt>
  <dd>
    <ul>
      <li>Fix rarely hit problem in check for bad !ServerDate columns.</li>
    </ul>
  </dd>
  <dt>2009/11/04</dt>
  <dd>
    <ul>
      <li>Update LCG.py to handle DN if available. Should be installed on or after Monday 11/16.</li>
    </ul>
  </dd>
  <dt>2009/11/03</dt>
  <dt>2009/11/02</dt>
  <dd>
    <ul>
      <li>Reinstate gratia nightly installs on gratia02.</li>
      <li>Re-install Aaron's collector with mail pointing to him. Send chat transcript to Philippe.</li>
      <li>Chat to Brian about things Gratia.</li>
      <li>Cut 1.06.10 and install in integration. Disable nightly installs again.</li>
    </ul>
  </dd>
  <dt>2009/10/30</dt>
  <dd>
    <ul>
      <li>Continue looking into possible problems.</li>
      <li>Help Brian with possible problems hand-upgrading collector at UNL -- low disk space preventing schema upgrade.</li>
    </ul>
  </dd>
  <dt>2009/10/29</dt>
  <dd>
    <ul>
      <li>Continue looking into possible problems.</li>
      <li>Tell Brian how to configure tomcat for auto-deploy.</li>
    </ul>
  </dd>
  <dt>2009/10/28</dt>
  <dd>
    <ul>
      <li>Finish install-release.</li>
      <li>Install collector for Aaron on gratiax14. Liaise with Steve for access. Put quotas on to avoid Aaron bringing the whole machine down.</li>
      <li>Corresponding improvements to configure-collector and collector-*.dat.</li>
    </ul>
  </dd>
  <dt>2009/10/27</dt>
  <dd>
    <ul>
      <li>More exceptions. Discussions with Philippe. Implement origin duplicate handling centrally.</li>
      <li>Update documentation for development installs for Aaron.</li>
      <li>Start new wrapper script install-release intended to make upgrades simpler.</li>
      <li>Cut 1.06.9.</li>
    </ul>
  </dd>
  <dt>2009/10/26</dt>
  <dd>
    <ul>
      <li>Discussion with Philippe over weekend testing. Need to review code for any remaining transaction corrections before test one more time and release.</li>
      <li>Discussion with Dan over release readiness. Also check host certs on collectors. Minor problem with ownership of new cert.</li>
      <li>Reply to Dan, Ruth on registering for reports. Improve !TWiki doc.</li>
      <li>Continue improving exception handling, robustness and testing.</li>
      <li>Add Brian's pages to dashboard menu.</li>
      <li>Merge to 1.06 branch; encounter problems. Succeed eventually.</li>
      <li>Cut 1.06.8. Fix typo.</li>
      <li>Talk to Weigand about drillthrough report -- WONTFIX for now. Also help with glexec config.</li>
      <li>Talk to Brian about his collector code / pages.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2009/11/06</dt>
  <dd>
    <ul>
      <li>Work log catchup.</li>
    </ul>
  </dd>
  <dt>2009/11/05</dt>
  <dt>2009/11/04</dt>
  <dd>
    <ul>
      <li>Dept meeting.</li>
      <li>Discussion with Gabriele, Steve & Keith on service desk issues.</li>
    </ul>
  </dd>
  <dt>2009/11/03</dt>
  <dd>
    <ul>
      <li>More remedy-FP shenanigans.</li>
      <li>Cloud meeting.</li>
    </ul>
  </dd>
  <dt>2009/11/02</dt>
  <dd>
    <ul>
      <li>Complete worklog. Email catchup. Time card.</li>
      <li>Fill in travel info. Still need passport information.</li>
      <li>Investigate and report bad access to cdcvs post-upgrade. Fixed by Marc M.</li>
    </ul>
  </dd>
  <dt>2009/10/30</dt>
  <dd>
    <ul>
      <li>Worklog catchup.</li>
    </ul>
  </dd>
  <dt>2009/10/29</dt>
  <dt>2009/10/28</dt>
  <dt>2009/10/27</dt>
  <dt>2009/10/26</dt>
  <dd>
    <ul>
      <li>Work log and time card.</li>
      <li>Bi-weekly report for Gabriele.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Trash.MainChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->
-- Main.ChrisGreen - 26 Oct 2009