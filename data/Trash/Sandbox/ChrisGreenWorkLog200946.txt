%META:TOPICINFO{author="ChrisGreen" date="1264105594" format="1.1" version="1.12"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2009/11/09 - 2009/11/20

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2009/11/20</dt>
  <dd>
    <ul>
      <li class="done">Investigate and reply further to Alberto. Receive script. Will need to look at it.</li>
      <li>Ping from Brian -- still not looked at failed MPI compile.</li>
    </ul>
  </dd>
  <dt>2009/11/19</dt>
  <dd>
    <ul>
      <li>Mail from Marcia regarding !Geant4 and VO meeting. Reply.</li>
      <li class="done">Mails from Alberto. Need to investigate and reply.</li>
      <li>Reply to Alberto asking for script info to arrive at a coherent naming scheme for directories.</li>
      <li class="done">News from UNL: fftw3-devel and atlas-devel installed. Try again -- failure in MPI, need to investigate tomorrow.</li> 
    </ul>
  </dd>
  <dt>2009/11/18</dt>
  <dd>
    <ul>
      <li>Restore access to lxplus for Geant4. Download sl4 binaries. Mail to Alberto asking about binary distribution identification in worker script. Will probably need to be changed.</li>
      <li>Follow-up from Brian -- admins have been asked to install fftw-devel. Also ask for atlas-devel.</li>
      <li>Talk to Liz S-K about what CMS does to run on non-standard GCC. Geant4 can't really do what they do, but _may_ be able to use their installation or just install runtime. Need to test. Mail Alberto.</li>
      <li>Respond to scheduling request for TGYRO conf.</li>
    </ul>
  </dd>
  <dt>2009/11/17</dt>
  <dd>
    <ul>
      <li>Mail with Alberto and Burt over use of non-system compiler runtime on SL5. Attempt to access SL4 tarballs on AFS. Fail. Ask for password reset on lxplus. Nothing will happen until tomorrow.</li>
      <li>Start trying to compile TGYRO on firefly. Get booted off due to UNL network issues. Trouble with libraries such as fftw, blas, lapack etc. Try to recompile petsc with g++ compiler. Keep trying. Frustrating. Talk to Brian. More ideas. More failures. Argh.</li>
    </ul>
  </dd>
  <dt>2009/11/16</dt>
  <dd>
    <ul>
      <li>Check compile on NERSC -- works now.</li>
    </ul>
  </dd>
  <dt>2009/11/13</dt>
  <dd>
    <ul>
      <li>'Phone conf. with Gabriele, Mats, John M. Info on Fly's Eye and LSST.</li>
      <li>Email with P. Cheeseman at Purdue -- need to compile !PETSc / !SLEPc for STEELE myself. Oh well.</li>
    </ul>
  </dd>
  <dt>2009/11/12</dt>
  <dd>
    <ul>
      <li>Check in with John / Mats. Arrange 'phone conf. for Fri.</li>
      <li>Attend VO meeting.</li>
      <li>OSG@FNAL meeting, meeting afterward  with Gabriele, Ruth.</li>
    </ul>
  </dd>
  <dt>2009/11/11</dt>
  <dd>
    <ul>
      <li>Brief disc. with John A., Abhishek.</li>
    </ul>
  </dd>
  <dt>2009/11/10</dt>
  <dd>
    <ul>
      <li>Discussion / email with Gabriele on new Engage users.</li>
      <li>Discussion with Chander on TG.</li>
      <li>Email from Shreyas -- NERSC has recompiled !PETSc / !SLEPc -- need to test.</li>
      <li>Question from Rob Q regarding science classification of G4.</li>
    </ul>
  </dd>
  <dt>2009/11/09</dt>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2009/11/20</dt>
  <dd>
    <ul>
      <li>Chat to Dan about LVS, DB's etc. Revise plan to use heartbeat instead of LVS.</li>
      <li>Status report to Steve T.</li>
      <li>Fermigrid Group meeting.</li>
    </ul>
  </dd>
  <dt>2009/11/19</dt>
  <dd>
    <ul>
      <li>Fixes to install scripts for aspects of reporter installation. Still possible problems with the UTC handling -- will need to talk to Philippe.</li>
      <li>Fixes to install scripts for better handling of transient failure in collector start.</li>
    </ul>
  </dd>
  <dt>2009/11/18</dt>
  <dd>
    <ul>
      <li id="CD">With Dan, investigate problems with gr11x5 DB. Correct VM memory and CPU configuration.</li>
      <li>Resolve all open Gratia tickets with the exception of ones pending on client action (>2M record).</li>
      <li id="CD">At Steve's request, respond to problem report of access denied writing output file to /grid/app/...</li>
      <li id="CD">At Steve's request, enter ticket for FEF to fix fnpc354.</li>
      <li id="CD">Walk Tanya through steps to check possible defective GUMS mapping with globus-job-run.</li>
    </ul>
  </dd>
  <dt>2009/11/17</dt>
  <dd>
    <ul>
      <li>Check completion of catchup of BNL. Talk to John W. and Philippe about reporting of revised figures to LCG. John ran upload again for October and is following up.</li>
      <li id="CD">Check backup of gr10x5. Create required path /backup/mysqldb/zrm. Run manually.</li>
      <li id="CD">At Steve's request, respond to problem report of denied access to !MiniBooNE's grid server. Walk Chris P. through upgrading one server and provide procedure for all the others. Problem solved.</li>
    </ul>
  </dd>
  <dt>2009/11/16</dt>
  <dd>
    <ul>
      <li id="CD">Shut down Fermi collectors for DB rsync. Take note of DBs. Restart collectors after rsync completion.</li>
      <li id="CD">Operations necessary to bring gr10x5 DB into operation:
        <ul>
          <li>Change ownership of all files / dirs to mysql instead of gratia.</li> 
          <li>Remove ib_logfile* files and allow to be recreated.</li> 
          <li>Create directories representing improperly-deleted databases; copy =.frm= files in from existing DB; drop database.</li> 
          <li>Empty zrm directory and remove myslq-tmp in favor of tmp.</li>
          <li>Install mysql-zrm and create necessary config and crontab entries.</li>
          <li>Purge binary logs.</li>
        </ul>
      </li> 
      <li>Question to Dan re backups and replication.</li>
      <li>Continue to try to get BNL caught up -- investigate slow record processing on gr8x0 -- no definitive cause identified but things did start to improve after housekeeping catchup was disabled on osg-transfer. Re-enable after BNL catchup is complete.</li>
    </ul>
  </dd>
  <dt>2009/11/13</dt>
  <dd>
    <ul>
      <li>Install and test gr10x0, move on to gr11x0. Minor fixes to script based on testing reporting-only instance and actually starting up against test DB.</li>
      <li>Fermigrid group meeting.</li>
    </ul>
  </dd>
  <dt>2009/11/12</dt>
  <dd>
    <ul>
      <li>Amend collector install scripts to handle tomcat install</li>
      <li>Finish, test and commit configuration script improvements for handling of reporting-only or collector-only installs.</li>
    </ul>
  </dd>
  <dt>2009/11/11</dt>
  <dd>
    <ul>
      <li>Discover and investigate problems with two _almost_ identical !ClassAd files for the same job in gratia/var/data. Discuss with Alain. Turns out to be related to changes made to Condor for upcoming BOINC probe. Condor will fix.</li>
      <li>More correspondence on !UCDavis problem.</li>
      <li>Discussions with Dan and Philippe on apache.org vs USV version of tomcat. Write a script to check latest version on apache.org and update in ~gratia/tomcat-tarballs.</li>
    </ul>
  </dd>
  <dt>2009/11/10</dt>
  <dd>
    <ul>
      <li id="CD">Fix low disk space problem on gratia01</li>
      <li>Swap out broken pager.</li>
      <li>Continued correspondence on persistent ITB collector.</li>
      <li>Amend WLCG upload script to prevent bad DN/FQAN data getting to LCG.</li>
      <li>Discussion with Alain. Condor support ticket with detailed info. Discussions with CMS about changing Condor version: no dice.</li>
      <li>New DB should have max_allowed_packet set to 16MB in [mysqld] section.</li>
    </ul>
  </dd>
  <dt>2009/11/09</dt>
  <dd>
    <ul>
      <li>Identify source of overlarge POST -- UC Davis. Block in firewall and enter GOC ticket for site to fix. Cancel help request to !NetOps.</li>
      <li>Apply VM memory config changes to gr8xN. Shouldn't be any more memory troubles, but still slow. With Philippe, investigate and identify as N:1 problem: each replication entry is its own thread -- lots of replication threads will beat out the processing thread.</li>
      <li id="CD">Report broken pager; borrow Dan's.</li>
      <li>Investigate apparent instance of, "collector-killer" record on gr8x0. Identify as test condor-boinc probe being sent to production. Malformed record is apparently managing to trip up the bad record mitigation. Find records, remove from queue and ban probe in Connections admin page. Send records to Philippe for investigation and fix. IM with Brian on subject.</li>
      <li>Based on report from John and email thread: in !DistinguishedName summary column (and therefore sent to OSG) we're seeing instances of DN:FQAN. According to Brian, this is a "feature" of newer versions of Condor changing the semantics of the !X509USERPROXYSUBJECT !ClassAd entry. Discussions.</li>
      <li>Reply to Karthik / Horst re overlarge POST investigations.</li>
      <li>Reply to Keith's query on collector outages.</li>
    </ul>
  </dd>
</dl>
%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2009/11/20</dt>
  <dd>
    <ul>
      <li>IM with Brian about possible problems in storage summary procedure -- bug already fixed!</li>
      <li>Reply to Suchandra on resource_name / resource_group.</li>
      <li class="done">Discussion with Philippe about BOINC probe. Need to reply to message.</li>
      <li>Help Scot K. with collector install.</li>
    </ul>
  </dd>
  <dt>2009/11/19</dt>
  <dd>
    <ul>
      <li>Implement fix to replication and replication GUI for Brian's tables with have !ProbeName in the main table, not just Meta. Test.</li>
      <li>Talk to Andrei about possible problems with dcache-storage probe. Trace problem to collector !asXML() methods. Fix.</li>
      <li>Merge HEAD into branch.</li>
      <li>Cut 1.06.11. Build and install on integration.</li>
    </ul>
  </dd>
  <dt>2009/11/18</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
      <li>Investigate SGE probe behavior with respect to logs sent in by Colorado. Null !EndTime records appear to be those which were submitted but never run.</li>
      <li>Improve the ability of the SGE probe to deal with an incomplete job log line.</li>
      <li>Resolve Colorado ticket.</li>
      <li class="done">Need to warn Shreyas about inability of SGE probe to deal with log rotation.</li>
      <li>Respond to Brian on query regarding rejected Condor event records due to null !EndTime. Brian will enter !CreateTime as !EndTime. Will also need to do !StartTime.</li>
      <li>Spot problems with &quot;None&quot; in test submissions from Andreiu's probe. He will fix.</li>
    </ul>
  </dd>
  <dt>2009/11/17</dt>
  <dd>
    <ul>
      <li>Add Andrew B. to svn access for Gratia !SourceForge.</li>
    </ul>
  </dd>
  <dt>2009/11/16</dt>
  <dd>
    <ul>
      <li>Further discussion with Philippe on psacct problem -- can't continue looking. Also talked about N:1 replication problem -- neither of us have time to finish, so must leave for now. Advised Brian to combine replication entries using wildcards with direct-table-edit instead of GUI.</li>
    </ul>
  </dd>
  <dt>2009/11/13</dt>
  <dd>
    <ul>
      <li>Investigate RMI communication trouble with itb_gratia_psacct. Seems to be a timeout problem but unable to get good enough diagnostics.</li>
    </ul>
  </dd>
  <dt>2009/11/12</dt>
  <dd>
    <ul>
      <li>Discussion with Philippe on !ResourceType designation for glexec / boinc.</li>
    </ul>
  </dd>
  <dt>2009/11/11</dt>
  <dd>
    <ul>
      <li>Fix condor_meter.pl to extract !VOName from !X509USERPROXYSUBJECT without the leading &quot;/&quot;.</li>
      <li>Gratia meeting.</li>
    </ul>
  </dd>
  <dt>2009/11/10</dt>
  <dd>
    <ul>
      <li>Commit changes from yesterday.</li>
      <li>Discussion with Philippe over replication N:1 problem. Suggestion for fix. Start working on it.</li>
      <li>Question from Arvind regarding configuring compression of log files -- some investigation. Unfortunately, compression will disable old file removal based on date.</li>
      <li>Check into reported problem with reporting multi-core jobs at !UFLORIDA-HPC -- they need to upgrade their PBS probe.</li>
    </ul>
  </dd>
  <dt>2009/11/09</dt>
  <dd>
    <ul>
      <li>Discuss mitigation of N:1 replication threads problem -- send suggestion email to Philippe.</li>
      <li>Discuss mitigation of overlarge POST problem by having probe (and collector replication) monitor size while bundling.</li>
      <li>Discussions with Clemson re condor-boinc.</li>
      <li>Fix !ProbeConfigTemplate to not list production collector.</li>
      <li>Fix condor-probe to split and use (if possible) extra info in !X509USERPROXYSUBJECT.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2009/11/20</dt>
  <dd>
    <ul>
      <li>Further !TuneItUp discussions with Kirk and Greg. Kirk will cut a QMX CD for manual install.</li>
      <li>Ask Greg for new VPN link.</li>
      <li>Work log and time card.</li>
    </ul>
  </dd>
  <dt>2009/11/19</dt>
  <dd>
    <ul>
      <li>Bring Windows laptop in and get it put back on the domain. Bring non-critical software up to date.</li>
      <li>TuneItUp! Followup conversation with Greg Cisko.</li>
    </ul>
  </dd>
  <dt>2009/11/18</dt>
  <dd>
    <ul>
      <li>Chat to Eileen about more mis-assigned tickets.</li>
      <li>Talk to Greg C. Enter !TuneItUp ticket for re-registration of windows laptop with domain prior to !TuneItUp visit. FYI with ticket number to Greg.</li>
      <li>Work log.</li>
    </ul>
  </dd>
  <dt>2009/11/17</dt>
  <dt>2009/11/16</dt>
  <dd>
    <ul>
      <li>Work log, time card, email catchup and leave request for 2009/11/24.</li>
    </ul>
  </dd>
  <dt>2009/11/13</dt>
  <dd>
    <ul>
      <li>Worklog for ops only.</li>
    </ul>
  </dd>
  <dt>2009/11/12</dt>
  <dt>2009/11/11</dt>
  <dt>2009/11/10</dt>
  <dd>
    <ul>
      <li>Apply Mac OSX updates.</li>
      <li>Bi-weekly report for Gabriele.</li>
      <li>Work log.</li>
    </ul>
  </dd>
  <dt>2009/11/09</dt>
  <dd>
    <ul>
      <li>Time card.</li>
      <li>Bi-weekly meeting.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Main.ChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->
-- Main.ChrisGreen - 10 Nov 2009