%META:TOPICINFO{author="ChrisGreen" date="1258479940" format="1.1" version="1.6"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2009/11/09 - 2009/11/20

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2009/11/17</dt>
  <dd>
    <ul>
      <li>Mail with Alberto and Burt over use of non-system compiler runtime on SL5. Attempt to access SL4 tarballs on AFS. Fail. Ask for password reset on lxplus. Nothing will happen until tomorrow.</li>
      <li>Start trying to compile TGYRO on firefly. Get booted off due to UNL network issues. Trouble with libraries such as fftw, blas, lapack etc. try to recompile petsc with g++ compiler. Keep trying. Frustrating.</li>
    </ul>
  </dd>
  <dt>2009/11/16</dt>
  <dd>
    <ul>
      <li>Check compile on NERSC -- works now.</li>
    </ul>
  </dd>
  <dt>2009/11/13</dt>
  <dd>
    <ul>
      <li>'Phone conf. with Gabriele, Mats, John M. Info on Fly's Eye and LSST.</li>
      <li>Email with P. Cheeseman at Purdue -- need to compile !PETSc / !SLEPc for STEELE myself. Oh well.</li>
    </ul>
  </dd>
  <dt>2009/11/12</dt>
  <dd>
    <ul>
      <li>Check in with John / Mats. Arrange 'phone conf. for Fri.</li>
      <li>Attend VO meeting.</li>
      <li>OSG@FNAL meeting, meeting afterward  with Gabriele, Ruth.</li>
    </ul>
  </dd>
  <dt>2009/11/11</dt>
  <dd>
    <ul>
      <li>Brief disc. with John A., Abhishek.</li>
    </ul>
  </dd>
  <dt>2009/11/10</dt>
  <dd>
    <ul>
      <li>Discussion / email with Gabriele on new Engage users.</li>
      <li>Discussion with Chander on TG.</li>
      <li>Email from Shreyas -- NERSC has recompiled !PETSc / !SLEPc -- need to test.</li>
      <li>Question from Rob Q regarding science classification of G4.</li>
    </ul>
  </dd>
  <dt>2009/11/09</dt>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2009/11/17</dt>
  <dd>
    <ul>
      <li>Check completion of catchup of BNL. Talk to John W. and Philippe about reporting of revised figures to LCG. John ran upload again for October and is following up.</li>
      <li id="CD">Check backup of gr10x5. Create required path /backup/mysqldb/zrm. Run manually.</li>
    </ul>
  </dd>
  <dt>2009/11/16</dt>
  <dd>
    <ul>
      <li id="CD">Shut down Fermi collectors for DB rsync. Take note of DBs. Restart collectors after rsync completion.</li>
      <li id="CD">Operations necessary to bring gr10x0 DB into operation:
        <ul>
          <li>Change ownership of all files / dirs to mysql instead of gratia.</li> 
          <li>Remove ib_logfile* files and allow to be recreated.</li> 
          <li>Create directories representing improperly-deleted databases; copy =.frm= files in from existing DB; drop database.</li> 
          <li>Empty zrm directory and remove myslq-tmp in favor of tmp.</li>
          <li>Install mysql-zrm and create necessary config and crontab entries.</li>
          <li>Purge binary logs.</li>
        </ul>
      </li> 
      <li>Question to Dan re backups and replication.</li>
      <li>Continue to try to get BNL caught up -- investigate slow record processing on gr8x0 -- no definitive cause identified but things did start to improve after housekeeping catchup was disabled on osg-transfer. Re-enable after BNL catchup is complete.</li>
    </ul>
  </dd>
  <dt>2009/11/13</dt>
  <dd>
    <ul>
      <li>Install and test gr10x0, move on to gr11x0. Minor fixes to script based on testing reporting-only instance and actually starting up against test DB.</li>
      <li>Fermigrid group meeting.</li>
    </ul>
  </dd>
  <dt>2009/11/12</dt>
  <dd>
    <ul>
      <li>Amend collector install scripts to handle tomcat install</li>
      <li>Finish, test and commit configuration script improvements for handling of reporting-only or collector-only installs.</li>
    </ul>
  </dd>
  <dt>2009/11/11</dt>
  <dd>
    <ul>
      <li>Discover and investigate problems with two _almost_ identical !ClassAd files for the same job in gratia/var/data. Discuss with Alain. Turns out to be related to changes made to Condor for upcoming BOINC probe. Condor will fix.</li>
      <li>More correspondence on !UCDavis problem.</li>
      <li>Discussions with Dan and Philippe on apache.org vs USV version of tomcat. Write a script to check latest version on apache.org and update in ~gratia/tomcat-tarballs.</li>
    </ul>
  </dd>
  <dt>2009/11/10</dt>
  <dd>
    <ul>
      <li id="CD">Fix low disk space problem on gratia01</li>
      <li>Swap out broken pager.</li>
      <li>Continued correspondence on persistent ITB collector.</li>
      <li>Amend WLCG upload script to prevent bad DN/FQAN data getting to LCG.</li>
      <li>Discussion with Alain. Condor support ticket with detailed info. Discussions with CMS about changing Condor version: no dice.</li>
      <li>New DB should have max_allowed_packet set to 16MB in [mysqld] section.</li>
    </ul>
  </dd>
  <dt>2009/11/09</dt>
  <dd>
    <ul>
      <li>Identify source of overlarge POST -- UC Davis. Block in firewall and enter GOC ticket for site to fix. Cancel help request to !NetOps.</li>
      <li>Apply VM memory config changes to gr8xN. Shouldn't be any more memory troubles, but still slow. With Philippe, investigate and identify as N:1 problem: each replication entry is its own thread -- lots of replication threads will beat out the processing thread.</li>
      <li id="CD">Report broken pager; borrow Dan's.</li>
      <li>Investigate apparent instance of, "collector-killer" record on gr8x0. Identify as test condor-boinc probe being sent to production. Malformed record is apparently managing to trip up the bad record mitigation. Find records, remove from queue and ban probe in Connections admin page. Send records to Philippe for investigation and fix. IM with Brian on subject.</li>
      <li>Based on report from John and email thread: in !DistinguishedName summary column (and therefore sent to OSG) we're seeing instances of DN:FQAN. According to Brian, this is a "feature" of newer versions of Condor changing the semantics of the !X509USERPROXYSUBJECT !ClassAd entry. Discussions.</li>
      <li>Reply to Karthik / Horst re overlarge POST investigations.</li>
      <li>Reply to Keith's query on collector outages.</li>
    </ul>
  </dd>
</dl>
%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2009/11/17</dt>
  <dd>
    <ul>
      <li>Add Andrew B. to svn access for Gratia !SourceForge.</li>
      <li></li>
    </ul>
  </dd>
  <dt>2009/11/16</dt>
  <dd>
    <ul>
      <li>Further discussion with Philippe on psacct problem -- can't continue looking. Also talked about N:1 replication problem -- neither of us have time to finish, so must leave for now. Advised Brian to combine replication entries using wildcards with direct-table-edit instead of GUI.</li>
    </ul>
  </dd>
  <dt>2009/11/13</dt>
  <dd>
    <ul>
      <li>Investigate RMI communication trouble with itb_gratia_psacct. Seems to be a timeout problem but unable to get good enough diagnostics.</li>
    </ul>
  </dd>
  <dt>2009/11/12</dt>
  <dd>
    <ul>
      <li>Discussion with Philippe on !ResourceType designation for glexec / boinc.</li>
    </ul>
  </dd>
  <dt>2009/11/11</dt>
  <dd>
    <ul>
      <li>Fix condor_meter.pl to extract !VOName from X509USERPROXYSUBJECT without the leading &quot;/&quot;.</li>
      <li>Gratia meeting.</li>
    </ul>
  </dd>
  <dt>2009/11/10</dt>
  <dd>
    <ul>
      <li>Commit changes from yesterday.</li>
      <li>Discussion with Philippe over replication N:1 problem. Suggestion for fix. Start working on it.</li>
      <li>Question from Arvind regarding configuring compression of log files -- some investigation. Unfortunately, compression will disable old file removal based on date.</li>
      <li>Check into reported problem with reporting multi-core jobs at !UFLORIDA-HPC -- they need to upgrade their PBS probe.</li>
    </ul>
  </dd>
  <dt>2009/11/09</dt>
  <dd>
    <ul>
      <li>Discuss mitigation of N:1 replication threads problem -- send suggestion email to Philippe.</li>
      <li>Discuss mitigation of overlarge POST problem by having probe (and collector replication) monitor size while bundling.</li>
      <li>Discussions with Clemson re condor-boinc.</li>
      <li>Fix !ProbeConfigTemplate to not list production collector.</li>
      <li>Fix condor-probe to split and use (if possible) extra info in X509USERPROXYSUBJECT.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2009/11/17</dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
  <dt>2009/11/16</dt>
  <dd>
    <ul>
      <li>Work log, time card, email catchup and leave request for 2009/11/24.</li>
    </ul>
  </dd>
  <dt>2009/11/13</dt>
  <dd>
    <ul>
      <li>Worklog for ops only.</li>
    </ul>
  </dd>
  <dt>2009/11/12</dt>
  <dt>2009/11/11</dt>
  <dt>2009/11/10</dt>
  <dd>
    <ul>
      <li>Apply Mac OSX updates.</li>
      <li>Bi-weekly report for Gabriele.</li>
      <li>Work log.</li>
    </ul>
  </dd>
  <dt>2009/11/09</dt>
  <dd>
    <ul>
      <li>Time card.</li>
      <li>Bi-weekly meeting.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Main.ChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->
-- Main.ChrisGreen - 10 Nov 2009