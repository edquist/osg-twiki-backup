%META:TOPICINFO{author="KyleGross" date="1225985964" format="1.1" version="1.32"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<h1>Chris Green's personal work log for 2007/04/30 - 2007/05/11</h1>
%TOC%

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

<h3>User Support</h3>
<dl>
  <dt>2007/05/11</dt>
  <dd>
    <ul>
      <li>Detailed discussion with Forrest about porting issues.</li>
      <li>Discussion with John Inkman following up on ticket to get web space and =opensciencegrid.org= address: I think things are proceeding on that score now.</li>
      <li>Submitted GOC tickets on getting CA certs into default stores; and on providing diagnostics and troubleshooting for failed DOEGrids cert imports.</li>
      <li>Restarted site tests after accidentally moving files before HTML had been regenerated. Will need to build in timeout for job wait.</li>
    </ul>
  </dd>
  <dt>2007/05/10</dt>
  <dd>
    <ul>
      <li>2hr user support coordination meeting with Frank, Abhishek, Shaowen (Troubleshooting) and Tim Miller (CHARMM); minutes to appear on TWiki.</li>
      <li>Started meeting minutes in Sandbox.</li>
      <li>Discussions with Frank and Abhishek over creating a new web: decided to: =UserGroup=</li>
    </ul>
  </dd>
  <dt>2007/05/09</dt>
  <dd>
    <ul>
      <li>Received !FootPrints account from GOC, logged in, changed password.</li>
      <li>Agreed to meet with Forrest Friday to discuss !MiniBooNE's grid porting project.</li>
    </ul>
  </dd>
  <dt>2007/05/08</dt>
  <dd>
    <ul>
      <li>Tried to schedule User Support phone meeting -- ran into slots shortfall. Waiting for guidance. Still need to arrange agenda. Invite Shaowen?</li>
      <li>Tried again to attach meeting minutes to log after discussion with Forrest.</li>
      <li>Still doesn't work, but this time we know why it seemed to first time.</li>
      <li>Obtained !WebEx account.</li>
      <li>Discussed agenda with Abhishek, Frank and Ruth; invited Tim Miller (CHARMM) and Shaowen.</li>
      <li>Scheduled !WebEx meeting for Thursday.</li>
    </ul>
  </dd>
  <dt>2007/05/07</dt>
  <dd>
    <ul>
      <li>Tried to renew DOE cert this morning. Trouble because (I found out eventually) ESNET Root CA had changed. Not good diagnostics for current method of installation (button on web page). Ruth wants GOC tickets.</li>
      <li>Meeting with Ruth, Eileen and Gabriele (see email for minutes).</li>
      <li>Attended troubleshooting meeting. Joined troubleshooting team, asked Tim (Goc) about 3473 (Footprints account), waiting for auth from Rob Q.</li>
      <li>Tweaked =TMPFILE= functionality: files need to be removed or marked mode =0622= because local UID on file return (eg via GridFTP) may be different.</li>
      <li>Tweaked screen output to allow logfiles to be less verbose if output is redirected to file and process placed in background after credentials have been obtained. Can fork _a la_ =DSd=, or would this screw up logged_system_command invocation from top thread and child management? Need to check.</li>
      <li>Minutes of this morning's meeting put into email and sent. Could not attach to log because no access control on attachments (needs GOC ticket).</li>
    </ul>
  </dd>
  <dt>2007/05/04</dt>
  <dd>
    <ul>
      <li>Test scripts can now obtain site list direct from VirtualOrganizations/VOInfoRS if desired.</li>
      <li>Mail sent out regarding weekly User Support meeting.</li>
      <li>More email about Engage's !GridFTP tests at Vanderbilt (test case for many other sites with the same failure).</li>
      <li>Request to Helpdesk requesting =user-support.opensciencegrid.org= web site linked to AFS space sent after getting permission to list Main.ForrestChristian as backup admin.</li>
      <li>Brief meeting with Ruth: OSG User campaign button on main web site. Read. Will send comments to Ruth & Alain.</li>
      <li>Mail between myself and Ruth about GRASE-CCR.</li>
      <li>Mail with Steve Gallo about GRASE-CCR. Suggested specifying short (<40 min) =maxWallTime= to get access to more nodes and run faster.</li>
      <li>Discussion with John W. and Gabriele about GUMS, SAZ and requiring voms-proxies across OSG: SAZ is the answer to sites who want to maintain per-user authorization while running GUMS. Sell, sell, sell! Need WS callout for SAZ</li>
      <li>Much fighting with test script over the best way to allow tests to request a temporary file to allow (eg) test files to be transferred back from sites without stamping on each other. Eventually solved.</li>
      <li>Tried to test, ran in to the old, "Condor caches the transferred exec so half the time the remote site doesn't notice you've changed it" problem. I'd like to meet the guy who thought that was a good idea. Time to call it a (long) day.</li>
    </ul>
  </dd>
  <dt>2007/05/03</dt>
  <dd>
    <ul>
      <li>Correspondence with Ruth about Engage group problems</li>
      <li>More follow-up with Vanderbilt: will need teleconference with Kevin B. as soon as I can find John W.</li>
      <li>Meeting with Ruth. Need to set up weekly meetings for User Support group: invitees:
        <ul>
          <li> Main.ChrisGreen;</li>
          <li> Main.AbhishekSinghRana;</li>
          <li> Main.TorreWenaus;</li>
          <li> Main.FkW;</li>
          <li> Main.RuthPordes;</li>
          <li> Others as necessary for Year 2 planning.</li>
       </ul>
      </li>
      <li>Work with John W on Vanderbilt problem -- looks like a pacman or =vo= package problem. Waiting for response from Rob Q.</li>
      <li>Scheduled meeting with Ruth 11am tomorrow.</li>
      <li>Vanderbilt problem fixed: problem with VirtualOrganizations/VOInfo package in OSG cache; now fixed by Rob Q.</li>
      <li>New Vanderbilt problem with missing =globus-url-copy= on worker node: email sent.</li>
      <li>Fixed remaining minor regex problems with tests.</li>
      <li>Handle and remove jobs held due to Globus failure.</li>
    </ul>
  </dd>
  <dt>2007/05/02</dt>
  <dd>
    <ul>
      <li>More work on VirtualOrganizations/VOInfo tests scripts:
      <ul>
        <li>Found a couple of lingering problems with results production: now fixed.</li>
        <li>Reorganized directories within packages.</li>
        <li>Reduced amount of command-line configuration needed for invocation.</li>
      </ul>
      </li>
      <li>Mail between Ruth and myself regarding User Support priorities and July workshop: probably meeting tomorrow at 11.</li>
    </ul>
  </dd>
  <dt>2007/05/01</dt>
  <dd>
    <ul>
      <li>Attended documentation meeting. Undertook to review and clean up two pages (Documentation.IntegrationGridWhatIs and Documentation.ProductionGridWhatIs).</li>
      <li>Fixed problems with results production. Should be good to go for Engage and SDSS: run tests in the morning.</li>
    </ul>
  </dd>
  <dt>2007/04/30</dt>
  <dd>
    <ul>
      <li>Conversation with Chris Polly about revised =multisim= script: still needs to test.</li>
      <li>Mats reported that he is now running jobs at Vanderbilt.</li>
      <li>Module specification lists are now in control files instead of hard-wired in the script.</li>
      <li>Trouble with versatile results production from fork jobs: investigating.</li>
    </ul>
  </dd>
</dl>

<h3>Gratia</h3>
<dl>
  <dt>2007/05/11</dt>
  <dd>
    <ul>
      <li>Produced query for Keith to obtain sites reporting per month. Philippe later replied with correction -- I'd done probes, which isn't _quite_ the same thing.</li>
      <li>Loaded Gratia collector with latest reports.</li>
      <li>Replied to Alan Sill this morning regarding his SQL for Gratia: report drill-through already does this.</li>
      <li>Turned Jeff's query for the ranked report into a generated stored procedure and sent for test.</li>
      <li>Correspondence with Buffalo about fix for backlog: now churning through in the =urCollector= stage -- will get _large_ influx of records eventually.</li>
      <li>Email with Eileen about latest reports.</li>
      <li>Discussion with Margherita Vittone and Philippe: Margherite will start working on role authentication.</li>
    </ul>
  </dd>
  <dt>2007/05/10</dt>
  <dd>
    <ul>
      <li>Added capability to Gratia.py to skip empty files (putting warning in log). This should form > 99% of parsing problems.</li>
      <li>Sent a plan to Jon at Buffalo to start reporting again -- remove existing pending log entries and re-parse the batch log files.</li>
      <li>Discussions from Jeff about new reports. Will upload to ITB first, followed by main OSG collector.</li>
      <li>Side trip to create one-step upgrade script for tomcat instances.</li>
      <li>massive influx of records from Purdue, including lots of dupes -- took some time to verify nothing was badly wrong.</li>
    </ul>
  </dd>
  <dt>2007/05/09</dt>
  <dd>
    <ul>
      <li>Talked to Steve Timm and Philippe about =glexec= probe RPMs.</li>
      <li>More investigations with UCSD: definitely looks like Condor is not writing ClassAds into =gratia/var/data=. Waiting for response from Terrence M. For next step there. Sent email to Greg Q. asking advice and for phone meeting this afternoon in usualy 2.30pm placeholder spot.</li>
      <li>More investigations with Buffalo: looks like =gratia/var/tmp/urCollector= has malformed files in it, but don't know how many or how they got there. Need to get access to that directory. Requested from site admins, waiting for response.</li>
      <li>VirtualOrganizations/VOInfoMRS registration with respect to Roles looks funky (went to look up what turned out to be =GratiaGlobalAdmin=). Waiting for response from Dan.</li>
      <li>Could probably lose the =minossoft= role, but otherwise VirtualOrganizations/VOInfoMRS registration is (mostly) okay.</li>
      <li>Fixed UCSD problem: required parameter is =PER_JOB_HISTORY_DIR=, *not* =PER_JOB_HISTORY=.</li>
      <li>Attended Gratia meeting.</li>
      <li>Finished packaging =glexec= probe; also included automatic yum repository update in build procedure (optional).</li>
    </ul>
  </dd>
  <dt>2007/05/08</dt>
  <dd>
    <ul>
      <li>Spoke to Jeff about special "by 8s" reports for weekly Ops meeting; will look into technical feasibility over the next day or so.</li>
      <li>Spoke to Steve Timm about unintentionally missing meeting yesterday; and about Gratia machine work this morning.</li>
      <li>Replied to email about registration notifications from GOC.</li>
      <li>Production DB updates stopped for downtime of =gratia06=.</li>
      <li>Production DB updates restarted after memory upgrade on =gratia06=.</li>
      <li>Scheduled 'phone conference for weekly meeting with two slots.</li>
      <li>Scheduled 'phone conference for GRAM auditing meeting 2007/05/18.</li>
      <li>More discussions with Jeff about "by 8s" reports.</li>
      <li>More back-and-forth with Terrence Martin about UCSD problems: still no records. Could be =PER_JOB_HISTORY= configuration: sent email and waiting for reply.</li>
      <li>Attempt to armor Gratia.py against XML file problems to get records being submitted: still don't know what's going on there. Latest drop-in Gratia.py registers exception but doesn't do the recovery I'd hoped. More diagnostics from Buffalo and we'll see what happens next.</li>
    </ul>
  </dd>
  <dt>2007/05/07</dt>
  <dd>
    <ul>
      <li>More discussions with Dan _et al_ about Gratia and glexec on FNAL worker nodes. Helped Dan set up yum repository on =http://gratia.fnal.gov/=. Need to work on this tomorrow.</li>
      <li>Email from Frank about Gratia problems at UCSD. Solved site name issue: multiple emails and investigations on remaining problem: looks like 6.9 probe got overwritten by VDT upgrade. Terrence will re-install _ce matin_.</li>
      <li>Problems at Buffalo: looks like mis-configured SOAPHost: waiting for confirmation.</li>
    </ul>
  </dd>
  <dt>2007/05/04</dt>
  <dd>
    <ul>
      <li>Mail sent regarding meeting day change.</li>
      <li>Talked to Igor -- he's fine with subsuming =glexec= probe into Gratia package set.</li>
      <li>Email to Rosario asking for status on incorporation of our patches in to =urCollector=.</li>
      <li>GRAM audit meeting. See minutes in email.</li>
    </ul>
  </dd>
  <dt>2007/05/03</dt>
  <dd>
    <ul>
      <li>Gram auditing meeting: tomorrow at 2pm CDT.</li>
      <li>Organized telephone conference. Notified participants.</li>
      <li>Discussion with Dan about glexec gratia probe. Agreed that the best way of encouraging sysAdmins to install it would be to subsume it into the main Gratia package to allow for easy configuration by building a custom RPM set from SRPM once and then propagating to all nodes. Will do early next week.</li>
      <li>More discussion with Dan after he actually talked to Joe Boyd's group. They actually want the default set of RPMs to work in all cases, even if they have to hand-configure =ProbeConfig= (they have a mechanism to push out config files. This is doable -- again, will do early next week.</li>
    </ul>
  </dd>
  <dt>2007/05/02</dt>
  <dd>
    <ul>
      <li>Correspondence with John W. regarding Vanderbilt's =osg-user-vo-map.txt=.</li>
      <li>Request from Keith for new report for OGF meeting: probably make it a one-off:
        <pre>select sum(V.CpuUserDuration+V.CpuSystemDuration)/3600.0 as cpu_time, V.VOName as 'VO', DATE_FORMAT(V.EndTime, '%b %Y') as 'Date'
  from VOProbeSummary V, CETable T, CEProbes P
  where V.EndTime > '2006-01-01 00:00:00'
    and T.facility_name like '%FNAL%'
    and T.facility_id = P.facility_id
  group by 'Date', 'VO'
  having cpu_time > 1.0
  order by DATE_FORMAT(V.EndTime, '%Y/%m'), 'VO'</pre>
      </li>
      <li>Reply to John Roshek about ticket 3460.</li>
      <li>Discussion with John W. about GRAM auditing teleconference.</li>
      <li>Sent mail to GRAM team and others regarding teleconference suggestion for Friday.</li>
    </ul>
  </dd>
  <dt>2007/05/01</dt>
  <dd>
    <ul>
      <li>Upgraded =monitor-status.html= to return status based on =[[http://gratia.opensciencegrid.org:8880/gratia-administration/monitor-status.html?sitename=FNAL_GPFARM][sitename]]= in addition to =[[http://gratia.opensciencegrid.org:8880/gratia-administration/monitor-status.html?probename=fngp-osg.fnal.gov][probename]]=. </li>
      <li>Installed collector =v0-20= on =gratia= and =gratia-itb=.</li>
      <li>Opened GOC ticket (3460) for addition of probe status monitoring to VirtualOrganizations/VOInfoRS tasks.</li>
      <li>Attended CD Gratia progress report presentation.</li>
      <li>Chatted with Eileen and Philippe afterwards regarding reports and ps-accounting installation logistics.</li>
    </ul>
  </dd>
  <dt>2007/04/30</dt>
  <dd>
    <ul>
      <li>Collectors upgraded to =v0-19= on =gratia= and =gratia-itb=.</li>
    </ul>
  </dd>
</dl>

<h3>Other</h3>
<dl>
  <dt>2007/05/11</dt>
  <dd>
    <ul>
      <li>Read & kept ~65 work-related emails.</li>
      <li>Sent 25 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/05/10</dt>
  <dd>
    <ul>
      <li>Feedback to DSI about !NetId install.</li>
      <li>Read & kept ~82 work-related emails.</li>
      <li>Sent 14 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/05/09</dt>
  <dd>
    <ul>
      <li>Trouble with AFS on laptop: crashes around the time Kerberos ID Manager should have been updated, and mapped dir always needs flushing. Also want FF plugin for automatic KCA import. Waiting for answer from Kip.</li>
      <li>Asked =nightwatch= for version of =pk12util.exe= that can handle FIPS.</li>
      <li>Found and installed FF plugin for KCA.</li>
      <li>Read & kept ~97 work-related emails.</li>
      <li>Sent 24 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/05/08</dt>
  <dd>
    <ul>
      <li>Replied to Ruth regarding queries on Ops meeting plots.</li>
      <li>Read & kept ~101 work-related emails.</li>
      <li>Sent 36 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/05/07</dt>
  <dd>
    <ul>
      <li>Plots for Ops meeting.</li>
      <li>Attended brainstorming meeting on security auditing project with Gabriele, Tanya, Parag, Andrew and Igor.</li>
      <li>Read & kept ~74 work-related emails.</li>
      <li>Sent 18 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/05/04</dt>
  <dd>
    <ul>
      <li>Read & kept ~108 work-related emails.</li>
      <li>Sent ~30 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/05/03</dt>
  <dd>
    <ul>
      <li>Read & kept ~107 work-related emails.</li>
      <li>Sent 23 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/05/02</dt>
  <dd>
    <ul>
      <li>Attended monthly departmental group meeting.</li>
      <li>Read & kept ~84 work-related emails.</li>
      <li>Sent 10 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/05/01</dt>
  <dd>
    <ul>
      <li>Read & kept ~53 work-related emails.</li>
      <li>Sent 12 work-related emails.</li>
    </ul>
  </dd>
  <dt>2007/04/30</dt>
  <dd>
    <ul>
      <li>Metrics report for weekly Ops meeting.</li>
      <li>Bi-weekly report for Gabriele.</li>
      <li>Attended bi-weekly GRID group meeting.</li>
      <li>Read & kept ~54 work-related emails.</li>
      <li>Sent 12 work-related emails.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Main.ChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen, Main.ForrestChristian
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->

-- Main.ChrisGreen - 30 Apr 2007

   * [[%ATTACHURL%/test_file.txt][test_file.txt]]: Test file.

%META:FILEATTACHMENT{name="test_file.txt" attr="" autoattached="1" comment="Test file." date="1178640489" path="test_file.txt" size="9" user="Main.ChrisGreen" version="1"}%
%META:FILEATTACHMENT{name="2007_05_07_grid_usability_meeting_notes..eml" attr="" autoattached="1" comment="Minutes of FNAL-local GRID usability meeting." date="1178642748" path="2007_05_07_grid_usability_meeting_notes..eml" size="9" user="Main.ChrisGreen" version="2"}%
