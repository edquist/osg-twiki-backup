%META:TOPICINFO{author="BrianLin" date="1424904857" format="1.1" version="1.4"}%
%META:TOPICPARENT{name="WebHome"}%
---+ Submitting Jobs to an HTCondor CE

%TOC{depth="3"}%

---++ About This Guide

This document outlines methods of manual submission to an HTCondor CE. It is intended for site administrators wishing to verify the functionality of their HTCondor CE installation and developers writing software to submit jobs to an HTCondor CE (e.g., pilot jobs). 

%NOTE% Most incoming jobs are pilots from factories and that manual submission does not reflect the standard method that jobs are submitted to OSG CE&rsquo;s. 

---++ Submitting Jobs...

There are two main methods for submitting files to an HTCondor CE: using the tools bundled with the =htcondor-ce-client= package and using the =condor_submit= command with a submit file. Both methods will test end-to-end job submission but the former method is simpler while the latter will walk you through writing your own submit file.

---+++ Using HTCondor CE tools

There are two HTCondor CE tools that allow users to test the functionality of their HTCondor CE: [[Documentation.Release3/TroubleshootingHTCondorCE#condor_ce_run][condor_ce_run]] and [[Documentation.Release3/TroubleshootingHTCondorCE#condor_ce_trace][condor_ce_trace]]. The former is a simple tool that returns output from the supplied executable upon success (and little debugging information otherwise) whereas the latter provides verbose debugging output.

---++++ condor_ce_run

---++++ condor_ce_trace

---+++ Using a submit file

For this method, you will need a functional HTCondor submit node. If you do not have one readily available, you can start one on your CE host by starting the =condor= service:

<pre class="rootscreen">%UCL_PROMPT_ROOT% service condor start</pre>

---++ Reference

Here are some other HTCondor&nbsp;CE documents that might be helpful:

   * HTCondor&nbsp;CE overview and architecture (coming soon)
   * [[InstallHTCondorCE][Installing HTCondor CE]]
   * [[JobRouterRecipes][Configuring HTCondor&nbsp;CE job routes]]
   * [[TroubleshootingHTCondorCE][The HTCondor&nbsp;CE troubleshooting guide]]

---+++ Job attributes

The following table is a reference of job attributes that can be included in HTCondor submit files and their !GlobusRSL equivalents. A more comprehensive list of submit file attributes can be found in the [[http://research.cs.wisc.edu/htcondor/manual/v8.2/condor_submit.html#SECTION0012554000000000000000][HTCondor manual]].

| *HTCondor Attribute* | *Globus RSL* | *Summary* | 
| [[http://research.cs.wisc.edu/htcondor/manual/v8.2/condor_submit.html#82586][arguments]] | arguments | Arguments that will be provided to the executable for the job. |
| [[http://research.cs.wisc.edu/htcondor/manual/v8.2/condor_submit.html#82635][error]] | stderr | Path to the file on the client machine that stores stderr from the job. |
| [[http://research.cs.wisc.edu/htcondor/manual/v8.2/condor_submit.html#82641][executable]] | executable | Path to the file on the client machine that the job will execute. |
| [[http://research.cs.wisc.edu/htcondor/manual/v8.2/condor_submit.html#man-condor-submit-environment][environment]] | environment | Environment variables to add to the job's environment. |
| [[http://research.cs.wisc.edu/htcondor/manual/v8.2/condor_submit.html#82660][input]] | stdin | Path to the file on the client machine that stores input to be piped into the stdin of the job. |
| +maxMemory | maxMemory | The amount of memory you wish to allocate to the job. |
| +maxWallTime | maxWallTime | The maximum walltime the job is allowed to run before it is removed. |
| [[http://research.cs.wisc.edu/htcondor/manual/v8.2/condor_submit.html#82696][output]] | stdout| Path to the file on the client machine that stores stdout from the job. |
| +remote_queue | queue | Assign job to the target queue in the scheduler. |
| [[http://research.cs.wisc.edu/htcondor/manual/v8.2/condor_submit.html#82911][transfer_input_files]] | file_stage_in | A comma-delimited list of all the files and directories to be transferred into the working directory for the job, before the job is started. |
| [[http://research.cs.wisc.edu/htcondor/manual/v8.2/condor_submit.html#82919][transfer_output_files]] | transfer_output_files | A comma-delimited list of all the files and directories to be transferred back to the client, after the job completes. |
| +xcount | xcount | The number of cores to allocate for the job. |

-- Main.BrianLin - 08 Jan 2015