%META:TOPICINFO{author="ChrisGreen" date="1265040703" format="1.1" version="1.10"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2010/01/18 - 2010/01/29

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

<p style="font-weight: bold;">[ Holiday 2010/01/18 ]</p>

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2010/01/29</dt>
  <dt>2010/01/28</dt>
  <dd>
    <ul>
      <li>IM with Mats. Set up software install on engage-central. Some troubleshooting.</li>
    </ul>
  </dd>
  <dt>2010/01/27</dt>
  <dd>
    <ul>
      <li>Chat and email with Tanya over Fly's Eye.</li>
    </ul>
  </dd>
  <dt>2010/01/26</dt>
  <dt>2010/01/25</dt>
  <dt>2010/01/22</dt>
  <dd>
    <ul>
      <li>Ping John M. about engage-central being down.</li>
      <li>Mail / chat to Hans about machine for !Geant4 / OSGMM.</li>
      <li>Complete and test maintenance script for LSST software install via OSGMM.</li>
    </ul>
  </dd>
  <dt>2010/01/21</dt>
  <dd>
    <ul>
      <li>More attempts to compile LSST software. Mail with Bo.</li>
      <li>Requests to Steve for svn / gfortran installs on fnpcsrv*.</li>
      <li>Fix makefile error: successful compile.</li>
      <li>Start working on OSGMM maintenance script to maintain LSST software / catalogs.</li>
      <li>Mail to John about Anne's password problems.</li>
      <li>Approve Tanya in !Engage VO.</li>
    </ul>
  </dd>
  <dt>2010/01/20</dt>
  <dt>2010/01/19</dt>
  <dd>
    <ul>
      <li>Mail to Daniel, Hans and Julia about OSGMM. Replies.</li>
      <li class="done">Mail to Bo. Need to try compile again tomorrow.</li>
      <li class="todo">Chat to Dan F. about Fly's Eye. Need to mail Andrew to ask about storage contribution?</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2010/01/29</dt>
  <dd>
    <ul>
      <li>More discussions on heartbeat config. Come up with a scheme to make it work. Need to test.</li>
      <li>Report from Philippe of non-functional admin interface -- with Dan, discover that daemon-owned key was not copied from new key. Add copy check to startup.</li>
      <li>Help Dan run collector with multiple record processors.</li>
      <li>Fermigrid group meeting.</li>
      <li>Relocate splunk scripts to sub-directory of gratia-ops.</li>
    </ul>
  </dd>
  <dt>2010/01/28</dt>
  <dd>
    <ul>
      <li>Analysis of speed test -- peak speed &gt;350Kr/h.</li>
      <li>Agree relocation of splunk clogger script in CVS.</li>
      <li>Discover issues with heartbeat config for collector / reporting. Discussions with Dan, Faarooq. Postpone migration.</li>
      <li id="CD">Follow up on web exemptions with Vyto.</li>
      <li>Help Dan setup collector with multiple record processors -- start accumulating data for high-load test.</li>
      <li>Question from Burt re consequences of a mis-configuration of PER_JOB_HISTORY_DIR.</li>
    </ul>
  </dd>
  <dt>2010/01/27</dt>
  <dd>
    <ul>
      <li id="CD">Restart tomcats to pick up new cert. Problem with some VMs coming back up. Help from Steve. Needed permanent IP config for gr-fnal-mysql-collector (used to be heartbeat).</li>
      <li>Mail with Neha re CVS location of splunk clogger script.</li>
      <li id="CD">Request web exemptions for -reports IPs. Back and forth with Tim Rupp. Run nessquick after getting whitelisted. Send nessquick report to Keith / Steve.</li>
      <li>Look into and comment on possible transfer probe configuration issues on CMS T1 SE. Back and forth with Tony, Merina.</li>
      <li>configure-collector handles ROOT index.html and robots.txt.</li>
      <li>Set up speed test on gr10x3 by building up backlog. Let rip at 11pm.</li>
      <li>Chat to John W. on hardware migration.</li>
    </ul>
  </dd>
  <dt>2010/01/26</dt>
  <dd>
    <ul>
      <li>Look into possible heartbeat config problems. Seems to be not a problem.</li>
      <li id="CD">Look into housekeeping on gr10x3. Identify problem scrubbing records with an !EndTime in the far future.</li>
      <li>Weigh in on osg-int thread, ask BNL to reconfigure probe to report to ITB port 8881.</li>
      <li id="CD">Talk to Steve T. about exemptions for -reports IPs.</li>
      <li>Deactivate install-time static reports run when redirection is requested.</li>
      <li>FGCAB for restart to pick up new certificates on gr8x<em>N</em> and reconfigure gr8x4.</li>
      <li id="CD">Formal FGCAB for Thursday's hardware migration switchover.</li>
      <li>Reply to Keith on question re DNS caching in Java.</li>
      <li>Add facility to configure-collector to configure access log and associated tmpwatch config.</li>
    </ul>
  </dd>
  <dt>2010/01/25</dt>
  <dd>
    <ul>
      <li>Mail from Philippe -- has tested the effect of !MacOSX update on Gratia Ops -- nada.</li>
      <li id="CD">For future reference: how to get a migrated Gratia DB ready for operation.
        <ul>
          <li>Change ownership of all files to new DB UID.</li>
          <li>Check / change DB root passwd if necessary.</li>
          <li>Check / change paths in <tt>mysql-bin.index</tt>.</li>
          <li>Change =innodb_log_file_size= and =innodb_log_files_in_group= on new to match old.</li>
          <li>Start DB. Allow recovery. After recovery, shut down.</li>
          <li>Change =innodb_log_file_size= and =innodb_log_files_in_group= on new as desired.</li>
          <li>Remove <tt>ib_logfile*</tt> and allow to be recreated on restart.</li>
          <li>Start DB.</li>
          <li>Set access rights as desired, remove old collector IPs, etc, etc.</li>
          <li>Set the following properties to 0 in =SystemProplist= table in each Gratia schema:
            <ul><tt>
              <li>gratia.database.summaryTriggerVersion</li>
              <li>gratia.database.storedProcedureVersion</li>
              <li>gratia.database.TableStatisticsVersion</li>
              <li>gratia.database.summaryViewVersion</li>
            </tt></ul>
          </li>
        </ul>
      </li>
      <li>At Philippe's request, double-check behavior of mysql triggers under replication -- as desired.</li>
      <li>IM with Dan about [[http://dev.mysql.com/tech-resources/articles/proxy-gettingstarted.html][mysql-proxy]].
      <li>Chat to Alain about an unfortunate problem with configure-osg.py that Steve T. pointed out Friday: by-hand tweaks to SOAPHost will only last until the next time configure-osg.py is run on the older versions of OSG.</li>
      <li>Discussion with John W. about resource / resource group settings, use of Origin table.</li>
      <li class="done">Request from Dan Y. to submit FGCAB for collector restarts to pick up certificate updates. Combine with FGCAB to stop gr8x4 complaints.</li>
      <li id="CD">Copy certificates and links from gr5x{1,2,3,4} to gr10x{1,2,3,4}. re-install collectors to pick up hostkey-deamon.pem in config.</li>
      <li id="CD">Trigger housekeeping run on all gr10x<em>N</em> collectors. Will be especially long for fermi-transfer because we're down to 3 mo. from 1 year.</li>
      <li>Find and fix redirection configuration problem.</li>
    </ul>
  </dd>
  <dt>2010/01/23</dt>
  <dd>
    <ul>
      <li id="CD">Replication entries for gr5x<em>N</em> -> gr10x<em>N</em>.</li>
      <li id="CD">Access rights for root DB user on gr10x5 from gr10x{0,1,2,3,4}.</li>
      <li id="CD">Install mysql client on gr10x{1,2,3,4}.</li>
      <li id="CD" class="done">Still need hostcert.pem, etc on gr10x{1,2,3,4}.</li>
      <li id="CD">Can't remove access rights for users/hosts still mentioned as DEFINER for triggers!</li>
      <li id="CD">Start and check replication. Check collectors. Fix access. Restart. Verify.</li>
      <li id="CD" class="done">Check reporting Monday.</li>
    </ul>
  </dd>
  <dt>2010/01/22</dt>
  <dd>
    <ul>
      <li>'Phone conference with Dan, Brian, Alain, _et al_ on mis-configured probes.</li>
      <li id="CD">Monitor, tweak DB optimization.</li>
      <li>Question from Brian about where to send CMS submit info -- refer to Philippe.</li>
      <li id="CD">Ask Dan for copy of DB from gr10x5 to gr11x5. Monitor.</li>
      <li>Fermigrid meeting.</li>
      <li>Status report for Keith.</li>
      <li>Discussion with Keith, Dan on suggested Gratia hardware specs.</li>
    </ul>
  </dd>
  <dt>2010/01/21</dt>
  <dd>
    <ul>
      <li id="CD">Mail to Rob K. answering proxy, shell questions.</li>
      <li id="CD">With Dan, copy and monitor DB on gr10x5.</li>
      <li id="CD">Fix up gr10x5 DB:
        <ul>
          <li>Create dummy DB's containing .frm files and then DROP DATABASE to remove complaints about missing tables.</li>
          <li>Purge binary logs.</li>
          <li>Change ownership of all files / dirs to mysql instead of gratia.</li>
          <li>Remove ib_logfile* files and allow to be recreated.</li>
          <li>Tidy access.</li>
        </ul>
      </li>
      <li>Start optimize of DBs.</li>
      <li>Mail to Karthik about RSV probe warnings re RSV gratia probe -- legitimate, need to remove old files left by test of local collector.</li>
      <li>Chat to Dan, Keith re recommended Gratia hardware specs.</li>
    </ul>
  </dd>
  <dt>2010/01/20</dt>
  <dd>
    <ul>
      <li>More emails with Dan, Alain, _et al_ on mis-configured probes.</li>
      <li>Improve install scripts to handle pass-through of arguments, and to properly configure / enable / disable reporting redirection.</li>
      <li>Question from Philippe re details of fix to UNL data on collector.</li>
      <li>Chat to Dan re problems with DNS lookup of reporting IP names.</li>
      <li>Help Brian diagnose which site appears to have a timezone issue with reporting -- !CUNYgrid.</li>
    </ul>
  </dd>
  <dt>2010/01/19</dt>
  <dd>
    <ul>
      <li>Chat to Dan F. about out-of-date sites and reconfiguration procedure.</li>
      <li>Email with Alain, _et al_ about mis-configured probes, etc. Replies, etc.</li>
      <li>Reply to question from Steve on grid field for ITB probes.</li>
      <li>Email to Abhishek, Ian S.R. giving details of failed jobs query to help them analyze !SBGrid problems.</li>
      <li>Discussion with Dan Y. about reasonable deadline for urlrewrite scripts -- Thu AM.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2010/01/29</dt>
  <dd>
    <ul>
      <li>Chat to Neha, Tanya, Andrew over storage probe testing.</li>
      <li>Question from Tanya about serializer.</li>
    </ul>
  </dd>
  <dt>2010/01/28</dt>
  <dd>
    <ul>
      <li>Email with Tanya over storage probe testing.</li>
    </ul>
  </dd>
  <dt>2010/01/27</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
    </ul>
  </dd>
  <dt>2010/01/26</dt>
  <dd>
    <ul>
      <li>Fix issue with scrubbing transfer records with an !EndTime in the far future.</li>
      <li>Cut and release 1.06.15.</li>
      <li>Reply to query from Steve re VDT_LOCATION problem in RPM install of condor probe.</li>
      <li>Fix to condor probe for standalone operation from RPM. Notify Brian.</li>
      <li>Test and revise scrubbing fix to cope with HQL.</li>
      <li>Chat and email with Philippe on data scrubbing fallout.</li>
      <li class="todo">Meeting with Philippe, Alain, Tanya, Brian B. Need to send Alain details of further work needed.</li>
      <li>IM with Brian over transfer challenges, etc, etc.</li>
    </ul>
  </dd>
  <dt>2010/01/25</dt>
  <dd>
    <ul>
      <li>IM with Brian on possibility of making the &lt;pre&gt;-wrapped HTML version of the email reports default. Deferred to a Gratia meeting.</li>
      <li>IM with Brian on false-positive warnings from OIM / Gratia discrepancy catcher.</li>
    </ul>
  </dd>
  <dt>2010/01/22</dt>
  <dd>
    <ul>
      <li>Question from Suchandra re probes in ITB. Sign off.</li>
    </ul>
  </dd>
  <dt>2010/01/21</dt>
  <dd>
    <ul>
      <li>Cut new release of collector v1.06.14-fermi-1 with new install scripts and urlrewritefilter software.</li>
    </ul>
  </dd>
  <dt>2010/01/20</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
    </ul>
  </dd>
  <dt>2010/01/19</dt>
  <dd>
    <ul>
      <li>Catch-up with Philippe.</li>
      <li>Questions from Neha on possible install issues of new probe RPMs. Find and fix post-install problem. Cut and release 1.06.14a-1 and notify Neha.</li>
      <li>Mail with Brian on wrapped cores issue with PBS batch log and probe coping with same.</li>
      <li>Email with Arvind over ITB install of collector.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2010/01/29</dt>
  <dd>
    <ul>
      <li>Work log catch-up.</li>
      <li>Interview with Jim Simone.</li>
    </ul>
  </dd>
  <dt>2010/01/28</dt>
  <dd>
    <ul>
      <li>Interview with Jim Amundson.</li>
      <li>Interview with Kurt Biery &amp; Qiming Lu.</li>
      <li>Presentation to Jim K. _et al_.</li>
      <li>Interview with Jim K.</li>
      <li>Chat to Randy H. about cache coherency issues.</li>
    </ul>
  </dd>
  <dt>2010/01/27</dt>
  <dd>
    <ul>
      <li>Interview with Walter B.</li>
    </ul>
  </dd>
  <dt>2010/01/26</dt>
  <dd>
    <ul>
      <li>Chase mis-assigned ticket. Emails. Chat with Eileen.</li>
    </ul>
  </dd>
  <dt>2010/01/25</dt>
  <dd>
    <ul>
      <li>Time card.</li>
      <li>Interview with Mark Fischler.</li>
      <li>Helpdesk ticket re being able to print to 9100 from offsite -- known issue. Problem adding information on ticket.</li>
    </ul>
  </dd>
  <dt>2010/01/22</dt>
  <dd>
    <ul>
      <li>Question from Dave re glexec, condor, !ClassAds.</li>
      <li>Work log catch-up.</li>
    </ul>
  </dd>
  <dt>2010/01/21</dt>
  <dd>
    <ul>
      <li>More mail to macusers about automatic updates.</li>
    </ul>
  </dd>
  <dt>2010/01/20</dt>
  <dd>
    <ul>
      <li>Mail to macusers about automatic updates.</li>
    </ul>
  </dd>
  <dt>2010/01/19</dt>
  <dd>
    <ul>
      <li>Work log.</li>
      <li>Email catch-up.</li>
      <li>C++ seminar.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Main.ChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->

-- Main.ChrisGreen - 19 Jan 2010