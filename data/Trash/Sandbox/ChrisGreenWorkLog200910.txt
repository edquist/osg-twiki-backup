%META:TOPICINFO{author="KyleGross" date="1507063758" format="1.1" version="1.14"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2009/03/02 - 2009/03/13

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2009/03/13</dt>
  <dd>
    <ul>
      <li>Significant work on hook scripts for Iter system to facilitate grid submissions. Submit test job to NERSC from gratia01, examine Monday.</li>
    </ul>
  </dd>
  <dt>2009/03/12</dt>
  <dd>
    <ul>
      <li>Check NERSC test jobs -- tgyro test ran into walltime limit -- mail Jeff Candy for explanation, since it looks like the analysis finished after only a few minutes.</li>
      <li>Talk to Julia Yarba about Geant4 and pre-compiled test execs. This is fine, sensible and works for her. Julia will send an example script showing what environment variables need to be set.</li>
      <li>Mail thanking Julia for sending script.</li>
      <li>Mail to Patricia, Alberto and John A. with suggestions for how to proceed including info from Julia. We'll see. Not heard from Patricia since Tuesday.</li>
      <li>Check problematic sites -- !SBGrid-Harvard-Exp. Tweak uberftp command line and try again. Works this time.</li>
      <li>At Abhishek's request, remove SBGrid sites from G4 verification runs. Still doing maintenance because of a bug in how osgmm honors the exclusion list. Will be fixed when Mats returns from vacation.</li>
    </ul>
  </dd>
  <dt>2009/03/11</dt>
  <dd>
    <ul>
      <li>Reply to John M. on PNNL names.</li>
      <li>Review OSGMM's Geant4 software installs. GLOW and NWICG needed lock removing. Manual invocation of GLOW install worked fine.</li>
      <li>GOC issues entered for UCLA_Saxon_Tier3 (badly set OSG_LOCATION), !NWICG_NotreDame (not enough inodes on OSG_APP) and FLTECH (globus error 22, probably bad home directory mount).</li>
      <li>Saxon fixed issue #1, but now has OSG_APP permission problems.</li>
      <li>Saxon fixed and software installed.</li>
      <li>FLTECH fixed and software installed.</li>
      <li>NWICG discussions, including consultation with Steve & Keith on block size issues.</li>
      <li>Software installed (carefully) on NWICG despite issue not yet fixed.</li>
      <li>Back to Iter -- problem with examples, worked through with Shreyas. Successful direct submit of tgyro. Yay!</li>
    </ul>
  </dd>
  <dt>2009/03/10</dt>
  <dd>
    <ul>
      <li>Reply to Patricia with possible reasons for latest problem -- running jobs which compile on-site is problematic in many places.</li>
    </ul>
  </dd>
  <dt>2009/03/09</dt>
  <dd>
    <ul>
      <li>Reply to John A. on test run prospects.</li>
      <li>Download and install new software package on sites. Run into multiple problems with uberftp and globus-url-copy. Put fall-back mechanisms in place so *something* should work.</li>
      <li>Chat to Abhishek, Alain and Tim about uberftp trouble.</li>
      <li>Note to Patricia when test sites are ready with new software: FNAL_FERMIGRID (including CMS T1), TTU-ANTAEUS and UCSDT2.</li>
    </ul>
  </dd>
  <dt>2009/03/06</dt>
  <dd>
    <ul>
      <li>Reply to Mats on setup script search order.</li>
      <li>Request sites supporting Geant4 but not advertising to WLCG BDII do so. Problems with BNL_ATLAS, who don't want to. Something to do with double publishing a certain type of information. No help to Geant4, though.</li>
      <li>Meeting with Ruth, Eileen, Gabriele & Phil !LaCasta(?) Bioinformatics out of ORNL.</li>
      <li>Reply to multiple tickets on BDII publishing and track sites that comply.</li>
      <li>Verification now occurs 4 times per day instead of once. Will back down later.</li>
    </ul>
  </dd>
  <dt>2009/03/05</dt>
  <dd>
    <ul>
      <li>Fill in WBS for Chander / John M. Ask for comments.</li>
      <li>Minor fix to version checking code in maintenance script.</li>
      <li>Fill in spreadsheet for Abhishek.</li>
      <li>Geant4 status update to engage list and VO question to John A. / Patricia.</li>
      <li>Ping Elizabeth C. on BNL mapping request -- never turned into a ticket. Now done.</li>
      <li>Request honored by UCLA_Saxon_Tier3 -- directory created, software installed.</li>
      <li>Verification fork script now checks using ldapsearch whether site is advertising to WLCG BDII and puts in !ClassAd. Also publish current software version and whether verification script actually ran (nightly maintenance script should solve gass-cache issues).</li>
      <li>Check site advertisement to WLCG BDII:<pre>ldapsearch -xLLL -p2180 -h is1.grid.iu.edu -b o=grid GlueSiteName=OSG_SITE_NAME</pre></li>
      <li>Check important site attributes on OSGMM:<pre>condor_status -format 'Site: %s; ' Name -format 'BDII-advertised = %s\n' GEANT4_WLCG_BDII -constraint 'GEANT4_VERSION_x86_64 =?= "2008-12"'</pre></li>
      <li>Request to Alan S. to advertise TTU-ANTAEUS to WLCG BDII.</li>
      <li>Suggestion to Mats to reorder setup.sh search path in his verification scripts.</li>
      <li>Mail to Alan S. / Igor Volobouev re !MeDICi.</li>
    </ul>
  </dd>
  <dt>2009/03/04</dt>
  <dd>
    <ul>
      <li>Script is attempting to find VDT setup scripts in wrong precedence order -- finding WN install on CE and globus-url-copy is failing due to architecture mismatch. Reorder setup.sh search path.</li>
      <li>Question to Mats on how to manually remove sites from the list (sub-sites of FNAL that are still reporting to !ReSS): use =etc/attribute-overrides/OSG_SITE_NAME= and insert =OSGMM_DoNotAdvertise = True=. Still doesn't disappear from maintenance list -- bug, Mats will fix.</li>
      <li>Ask Mats how to add info to !ClassAds based on locally-obtained information (ie not fork or jm). No capability currently -- to be implemented.</li>
      <li>GOC ticket to request UCLA_Saxon_Tier3 create $OSG_APP/geant4.</li>
      <li>Review and improve software maintenance script and start running in maintenance cycle of OSGMM. Lots of little fixes and improvements.</li>
      <li>Deposit current packages on OSG_DATA at FNAL for retrieval via gridftp during site maintenance.</li>
      <li>Use !uberFTP instead of globus-url-copy where available (passive instead of active gridftp).</li>
    </ul>
  </dd>
  <dt>2009/03/03</dt>
  <dd>
    <ul>
      <li>Mail from Patricia -- first test run can't find the compiler even though it's in the repository. Will submit a test job to verify paths. Should just be a matter of configuring the job script correctly. Mail her with a suggestion.</li>
      <li>Attempt to try tgyro test job -- Franklin down for emergency maintenance until 18:00 CST.</li>
      <li>Store Geant4 installation packages in OSG_DATA on FNAL_FERMIGRID and write a script to automatically install both architectures. First attempt to run via osgmm. Check later.</li>
    </ul>
  </dd>
  <dt>2009/03/02</dt>
  <dd>
    <ul>
      <li>Receive fixed tarball from Jeff C. Compiles successfully on franklin.</li>
      <li>New repositories from Alberto. Install on FNAL and CMS T1.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>Weekend</dt>
  <dd>
    <ul>
      <li>Collector trouble on gr8x0, gr5x0, gr8x2. Something memory-related, maybe. gr8x2 is especially puzzling.</li>
    </ul>
  </dd>
  <dt>2009/03/13</dt>
  <dd>
    <ul>
      <li>Query to John W. on double APEL emails -- all fine, just a new feature.</li>
      <li>Unfruitful discussion with Neha on the problems caused by having an incorrect syslog-ng configuration and the need to have something more robust. Main to Keith, Dan and Steve explaining the situation and requesting a meeting. Set for Tuesday AM.</li>
      <li>Discussion with Neha on problems with current XML -> splunk scheme.</li>
      <li>Following initial email from John W.: ask Dan Bradley about the details of a job at Wisconsin that has inconsistent !EndTime, !WallDuration. Apparently a bug in Condor -- fix submitted.</li>
      <li id="CD">Reply to Minos ticket on VOMRS problems for a user.</li>
    </ul>
  </dd>
  <dt>2009/03/12</dt>
  <dd>
    <ul>
      <li>Chat to John W. about possible problem report from Karthik re non-reporting to WLCG of Nebraska. Karthik misinterpreted the data -- no problem..</li>
      <li>Check progress of fermi_transfer: finally into March -- 1st March, but still. # transfers per day has been over 1.5M consistently every day since 2009/2/21 (9 days so far). Average transfers since 12/27 is 25.3K/h. Take that to the period 2/21 - 2/28 inc and it goes up to 93.1K/h. We have an hourly processing rate without replication of ~85K/h averaged over the whole day, so we have a problem going forward.</li>
      <li>Mail fermi_transfer progress from worklog entry above to gratia-ops and fermigrid-ops.</li>
    </ul>
  </dd>
  <dt>2009/03/11</dt>
  <dd>
    <ul>
      <li>Quick check on fermi_transfer. Still catching up slowly.</li>
    </ul>
  </dd>
  <dt>2009/03/10</dt>
  <dd>
    <ul>
      <li>Build and test release on integration system (gratia02). FGCAB request. Install on all batch collectors (fermi-osg, fermi-itb, osg-prod, osg-itb, osg-integration).</li>
      <li>Correct summary and job-level information in all affected schemata and instruct John to remove his temporary fix in the summary reporting code.</li>
      <li>More checking on progress with fermi-transfer. Average hourly rate of transfers on CMS T1 has been climbing -- from Dec 27 to Feb 26 inc. now stands at 23.6K transfers /h.</li>
    </ul>
  </dd>
  <dt>2009/03/09</dt>
  <dd>
    <ul>
      <li>Update official reports to include fixed site list for Ken Bloom.</li>
      <li>Discuss with Eileen and reply to Qizhong regarding Parag's appearance on the D0 report.</li>
      <li>Diagnostics with Charles W., discussions with John W. and Philippe on deficit in WLCG accounting for this month. Turns out to be a supposedly innocuous change in Gratia.py that causes PBS / LSF records to lose their !ResourceType. Philippe will fix in code.</li>
    </ul>
  </dd>
  <dt>2009/03/06</dt>
  <dd>
    <ul>
      <li>Fermigrid group meeting.</li>
      <li>Discussions on suspension of tar-recent-xml. Agreed for gr5x3 and gr8x2.</li>
      <li>Problems accessing gratia09 via ssh. Investigation. Discussion. Ticket. Frustration. Tied to Rick Thies and erroneous entry of an alias as an A record in DNS.</li>
    </ul>
  </dd>
  <dt>2009/03/05</dt>
  <dd>
    <ul>
      <li>Mail to Steve re possible SAM / python version problems on d0cs0875. Probably memory issues.</li>
      <li>Investigate failure of probe to suppress unknown-DN jobs on D). Bug in 1.00.4, fixed in 1.00.5. Steve upgraded and everything is *better*.</li>
      <li>Reply to question from John W. on status of gratia-db-osg.opensciencegrid.org alias. Should appear with nameserver reload tomorrow.</li>
    </ul>
  </dd>
  <dt>2009/03/04</dt>
  <dd>
    <ul>
      <li>More monitoring of fermi_transfer. Rate is too slow with replication turned on. Turn it off and get from ~50K/h to ~100K/h. Will turn back on when caught up. Several days with >1M records which is unsustainable. Average rate since 12/27 is only 17.5K/h (but rising).</li>
      <li>Turn various collector services on and office to provide load data to Philippe.</li>
      <li>Discussion with Eileen on helpdesk interface issues.</li>
    </ul>
  </dd>
  <dt>2009/03/03</dt>
  <dd>
    <ul>
      <li>Post mortem on XML backup changes -- 6.5h is still too long. Discussion with Philippe -> proposal to discontinue non-compressed XML backups. Respond to Steve's q.</li>
      <li>Check catchup of fermi-transfer. Feb 20 had >2M records. Jan 11 had >3M. I hope this isn't going to be the norm.</li>
    </ul>
  </dd>
  <dt>2009/03/02</dt>
  <dd>
    <ul>
      <li>Correct MIT to MIT_CMS in Ken's mail report configuration and send fixed reports.</li>
      <li>Subversion client version shenanigans. Resolve by installing Collab.Net client under /opt on gratia01.</li>
      <li>Re-jig non-compressed XML backup to compress to local staging area first. FGCAB request and extended explanation to Steve T.</li>
      <li>Button-hole Al Forni outside the elevator and discuss remedy / footprints interface issues.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2009/03/13</dt>
  <dd>
    <ul>
      <li>Discussion with Philippe on table organization for provenance management (part of the certificate-handling system).</li>
    </ul>
  </dd>
  <dt>2009/03/12</dt>
  <dd>
    <ul>
      <li>Quick discussion with Philippe on the possible consequences of turning off the old-style md5 calculation to increase speed -- none.</li>
    </ul>
  </dd>
  <dt>2009/03/11</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
      <li>Discussions with John W. on WLCG issues.</li>
      <li>Answer minor questions from Neha.</li>
    </ul>
  </dd>
  <dt>2009/03/10</dt>
  <dd>
    <ul>
      <li>More discussion with Brian _et al_ on CPU efficiency by 'phone and email. </li>
      <li>'Phone discussion with Brian regarding science community labeling mechanisms.</li>
      <li>Create tag based on patch branch (false starts due to SVN inexperience) and cut release. Iterate with Philippe over missing files.</li>
      <li>Run queries for Brian to use !CumulativeSuspensionTime and !CommittedTime (already stored at job level) for a study on usefulness of reporting these quantities.</li>
    </ul>
  </dd>
  <dt>2009/03/09</dt>
  <dd>
    <ul>
      <li>Discussion with Brian _et al_ on CPU efficiency. </li>
    </ul>
  </dd>
  <dt>2009/03/06</dt>
  <dd>
    <ul>
      <li>Talk to Eileen and Philippe about canceled CHEP poster.</li>
    </ul>
  </dd>
  <dt>2009/03/05</dt>
  <dt>2009/03/04</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
    </ul>
  </dd>
  <dt>2009/03/03</dt>
  <dd>
    <ul>
      <li>Build probe and check in yesterday's changes.</li>
      <li>Discussion with Philippe over CHEP poster.</li>
      <li>Respond to Arvind's question on IM re RSV. Propose svn:external linking RSV gratia probe to our repository instead of having a second copy. Try one or two solutions and come up with something that works.</li>
    </ul>
  </dd>
  <dt>2009/03/02</dt>
  <dd>
    <ul>
      <li>Email to Philippe re nightly build failure.</li>
      <li>Discussion with Scot and Tim on PBS / LSF update problem. Remove reliance on and creation of symlinks from probe.</li>
      <li>Remove lonely CR in output of successful PBS and LSF probe runs.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2009/03/13</dt>
  <dt>2009/03/12</dt>
  <dd>
    <ul>
      <li>Attend and present to Neutrino computing workshop.</li>
    </ul>
  </dd>
  <dt>2009/03/11</dt>
  <dd>
    <ul>
      <li>Paid cashier for cash advance not used and return another check unused.</li>
      <li>Put together a 15-minute talk on !MiniBooNE's computing infrastructure for the neutrino meeting. Probably two hours of work total including discussion and upload.</li>
    </ul>
  </dd>
  <dt>2009/03/10</dt>
  <dd>
    <ul>
      <li>Work log for last two days.</li>
    </ul>
  </dd>
  <dt>2009/03/09</dt>
  <dd>
    <ul>
      <li>Request leave for last week of March.</li>
    </ul>
  </dd>
  <dt>2009/03/06</dt>
  <dt>2009/03/05</dt>
  <dd>
    <ul>
      <li>Update work log.</li>
    </ul>
  </dd>
  <dt>2009/03/04</dt>
  <dd>
    <ul>
      <li>Dept meeting.</li>
      <li>Install latest version of PTM. First attempt at re-jigging categories. Will need to revisit.</li>
      <li>Office housekeeping.</li>
    </ul>
  </dd>
  <dt>2009/03/03</dt>
  <dd>
    <ul>
      <li>Tornado drill.</li>
    </ul>
  </dd>
  <dt>2009/03/02</dt>
  <dd>
    <ul>
      <li>Worklog, bi-weekly report and meeting.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Trash.MainChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->

-- Main.ChrisGreen - 03 Mar 2009