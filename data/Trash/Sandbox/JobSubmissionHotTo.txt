%META:TOPICINFO{author="UmeshkumarKeswani" date="1176233003" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="AutoPilotHowTo"}%
-- Main.UmeshkumarKeswani - 10 Apr 2007


---++ How to submit an Auto-Pilot Job.

   * Step 1) Download a set-up file (charmmSetup.sh in case of CHARMM) from a pre-specified location. Lets call this file, *SFile*.
   * Step 2) Execute SFile. SFile inturn downloads all the other files necessary for AutoPilot job submission (mainly EFile and JSFile) from a location specified in SFile. It also sets up
           the directory structure required for successful job submission.
   * Step 3) Execute *EFile* (charmmJob.sh in case of CHARMM). EFile creates an environment for the execution of the code that submits the job (this code is present in JSFile). Efile
           makes sure that all the required input variables to JSFile are present. Input variables like exe (actual experiment executable),  inurl (code repository location, can be
           different from the earlier locations),  outurl (location where output of the job needs to be finally stored) etc. After creating a friendly environment, EFile executes *JSFile*
           (charmmJob.py in case of CHARMM).

Thats all a user has to do to submit an AutoPilot job.

Lets understand,  the process of job submission and actual job execution thereafter.

When the JSFile executes, what it does is, it collects all the input required for the job and submits the job to the panda server. Panda server matches this submitted job to a remote computing resource. When the job starts executing at the remote computing resource, a *SetupScript* (trans-charmm-1.sh in case of CHARMM) is executed. This setup-script downloads a couple of files (mainly EnvironScript and ExptExecutable) that are necessary for the job to execute. Setup-Script also executes *EnvironScript* (runcharmm.csh in case of CHARMM). EnvironScript creates the environment necessary for the execution of the experiment specific exectuble *ExptExe* (c33a2-lrg.one in case of CHARMM). After setting up the environment, environscript executes the actual experiment executable exptexe.

Incase, someone wants to use the AutoPilot to submit jobs for a different experiment (other than CHARMM), he/she will have to modify/customize all the files/scripts mentioned above.

Note: Clicking on the file name would take you to detailed description of that file specific to CHARMM implementation.  
