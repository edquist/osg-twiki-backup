%META:TOPICINFO{author="ForrestChristian" date="1178911124" format="1.1" version="1.1"}%
%META:TOPICPARENT{name="ForrestChristianSandbox"}%
---+ Notes From an Install of OSG Client


---++ Scientific Linux 4 failing to be recognized by OSG Client installation
You can't install it without spoofing that your are RedHat Enterprise Linux 3. Don't know why.
<pre class="screen">
$  pacman -pretend-platform:RHEL-3 -get OSG:client
</pre>

There are many supported platforms under pacman that are not supported for installation of the OSG client. The installation does not give you the option of installing anyway. You have to spoof RHEL 3. 

---++ Installing certificates

(details from Penelope Constanta of Fermilab)

I need to put my grid cert into the remote server but frankly I don't know how. Penelope's stuff cleared that up. My cert is stored in Firefox (dunno why) and I got a backup / export of the certificate. Unfortunately, it's NAME.p12 which according to Penelope is not what I will need. This format has both key and certificate combined: I need them separated.

---++++ To obtain the =usercert.pem= and =userkey.pem= files from a DOE_GRID_Certificate.p12 file:
<pre class="screen">
$ cp <replaceable>DOE_GRID_Certificate</replaceable>.p12 $HOME/.globus
$ openssl pkcs12 -in DOE_Grid_Certificate.p12 -clcerts -nokeys -out ./usercert.pem
$ openssl pkcs12 -in DOE_Grid_Certificate.p12 -clcerts -nocerts -out ./userkey.pem
$ chmod go-rw userkey.pem
</pre>

_for AFS servers:_ On AFS space, from your $HOME directory, issue the following command to protect the directory:  =fs sa ~/.globus system:anyuser none=

---++++ To update the Fermi VOMS information (e.g., after renewing): 
   1. Get the userxxx.pem certificate files from the p12 one (above steps)
   1. %BR% =openssl x509 -in .globus/usercert.pem -subject -serial -noout=

---++++ To get your personal certificate in PEM format:
Do not ignore the last step of changing the access rights.

<pre class="screen">
$ <userinput>openssl pkcs12 -in mycertificate.p12 -nocerts -out usercert.pem</userinput>
  Enter Import Password: <replaceable>*********</replaceable>
  MAC verified OK
$ <userinput>openssl pkcs12 -in mycertificate.p12 -nocerts -out userkey.pem</userinput>
  Enter Import Password: 
  MAC verified OK
  Enter PEM pass phrase:
  Verifying - Enter PEM pass phrase:
$ <userinput>chmod go-rw *.pem</userinput>
</pre>




-- Main.ForrestChristian - 11 May 2007
