%META:TOPICINFO{author="ChrisGreen" date="1252708337" format="1.1" reprev="1.7" version="1.7"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2009/08/31 - 2009/09/11
<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

<p style="font-weight: bold;">[ Half-day vacation 2009/09/01 PM ]</p>
<p style="font-weight: bold;">[ Half-day vacation 2009/09/03 PM ]</p>
<p style="font-weight: bold;">[ Full day vacation 2009/09/04 ]</p>
<p style="font-weight: bold;">[ Labor Day Holiday 2009/09/07 ]</p>

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2009/09/11</dt>
  <dt>2009/09/10</dt>
  <dd>
    <ul>
      <li>cc Doru on NERSC discussion, regarding shell login limiting.</li>
    </ul>
  </dd>
  <dt>2009/09/09</dt>
  <dd>
    <ul>
      <li>Discussion with Chander on goals for campus grids.</li>
      <li>Send some instructions to Chris H.</li>
      <li>Install new tgyro on engage-submit and NERSC-FRANKLIN, and attempt to verify job run -- can't, because test case names have changed.</il>
      <li>ITER 'phone meeting. Notes to engage log.</li>
      <li>Mail from Ruth cutting attendance list for Monday 3pm meeting.</li>
      <li>Arrange with Mats to get access to engage's central OSGMM to transfer Geant4 software maintenance and start moving to v2.0 of Iter job submission.</li>
    </ul>
  </dd>
  <dt>2009/09/08</dt>
  <dd>
    <ul>
      <li>Continue correspondence on NERSC reports -- new person, back to square 1.</li>
      <li>Reply to Jeff C. email on tgyro tweak.</li>
    </ul>
  </dd>
  <dt>2009/09/03</dt>
  <dd>
    <ul>
      <li>Request from Daniel for meeting on Geant4 validation -- can't attend due to vacation.</li>
      <li>Read and reply to email from Ruth.</li>
    </ul>
  </dd>
  <dt>2009/09/02</dt>
  <dd>
    <ul>
      <li>Inquire with Brian on OSG architect, or nearest facsimile thereto. Question from Doru forwarded from Stu Martin at Globus re GRAM 5 and prospects for adoption in OSG. Replied to email pointing to Igor and Alain.</li>
      <li>One more test run with Doru -- crashed fairly quickly this time.</li>
    </ul>
  </dd>
  <dt>2009/09/01</dt>
  <dd>
    <ul>
      <li>Short chat with Mark F. about Geant4 validation.</li>
      <li>Mail with Chander on re-scheduling OAG AC meeting.</li>
    </ul>
  </dd>
  <dt>2009/08/31</dt>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2009/09/11</dt>
  <dd>
    <ul>
      <li>Group meeting</li>
      <li>Restate DZERO's monthly report to include UCSD contribution.</li>
      <li id="CD">Fermi portion of reboot / upgrade / QCD reload.</li>
      <li>OSG portion of reboot / upgrade.</li>
      <li>Correction to Keith's document re Gratia service hardware implementation.</li>
    </ul>
  </dd>
  <dt>2009/09/10</dt>
  <dd>
    <ul>
      <li>FGCAB -- change DB schema of QCD text->mediumtext for all tables with those attributes.</li>
      <li id="CD">Investigate fermi_qcd data quality. Discussions with Don H. Problem with precedence of the different ways PBS can record information on the number of processors used can lead to wrong answers by picking nodes instead of total cores.</li>
      <li id="CD">Correct schema name in collector-fermi.dat.</li>
      <li>FGCAB -- combined work list to reboot gratia production machines to activate latest kernel update, update collectors to patch release and scrub / reload QCD schema again. Also manually start housekeeping to reduce backup sizes.</li>
      <li id="CD">Reply to Keith on supplemental questions re mediumtext and QCD problems.</li>
    </ul>
  </dd>
  <dt>2009/09/09</dt>
  <dd>
    <ul>
      <li>Mail to Joel concerning UCSD reports.</li>
      <li id="CD">Check QCD reload progress. Note exceptions due to overlong !JobName and !Host fields. Discuss same with Philippe.</li>
      <li id="CD">Activate corrected backup on gratia06 to cope with renamed QCD schema.</li>
      <li>FGCAB -- reorder backups on gratia09 to put osg-transfer backup into background instead of smaller gratia DB.</li>
    </ul>
  </dd>
  <dt>2009/09/08</dt>
  <dd>
    <ul>
      <li>Investigate possible problem with housekeeping after initial indications from Arvind. Confirm. No housekeeping since 1.04. Philippe ascertains he removed it during "optimization" phase. Ask Steve whether he needs a patch release -- answer yes, due to increasing DB size.</li>
      <li id="CD">FGCAB -- wipe and reload of QCD schema from PBS log archives with new probe understanding account=. </li>
      <li>Discussion on backup logistics.</li>
      <li>Reply to Brian on !JobStatus=3 jobs.</li>
      <li id="CD">Set up, start and nurse probe-reload of archived lqcd, kaon2 and jpsi2 data on to scrubbed schema.</li>
      <li id="CD">Attempt to change backup system for new schema fermi_qcd (vs old schema gratia_qcd). Fail due to CVS permission problems. Neha working to fix.</li>
    </ul>
  </dd>
  <dt>2009/09/03</dt>
  <dd>
    <ul>
      <li>Discussion on !TiBS backups to rationalize and relieve pressure.</li>
    </ul>
  </dd>
  <dt>2009/09/02</dt>
  <dd>
    <ul>
      <li>FGCAB for summary procedure fix to DBs. Execute.</li>
      <li>Discover USCD's primary gatekeeper has been off the grid for Gratia reporting for a month. Probe stuck due to Condor bug sending condor_history into an infinite loop. Mechanism understood. Outage not detected because both UCSD gatekeepers are reporting under RESOURCE_GROUP name instead of RESOURCE_NAME. Argh. Nursemaid UCSD through recovery.</li>
      <li>Investigate osg-transfer backup failure -- full /backup partition. Email discussion.</li>
    </ul>
  </dd>
  <dt>2009/09/01</dt>
  <dd>
    <ul>
      <li>Investigate Fermi probes missing from Fermi collector.</li>
      <li>Help Steve resolve misconfigured Fermigrid probe problems. rename backlog files to make sure they go to the correct probe. FGCAB to remove large log files. Done.</li>
      <li>Cron burp from gr8x0 -- appears to be transient KDC trouble.</li>
    </ul>
  </dd>
  <dt>2009/08/31</dt>
  <dd>
    <ul>
      <li>Examine apparently-stalled probe send to UNL collector. Restart.</li>
      <li>Probe sends about 30K records to UNL collector then starts getting "Error" response (not 503). Possible server-side servlet logging error (1.02 collector)? Ask Brian to check. Might want to have the probe start counting non-connection-related errors and return fatal error when hitting threshold. Ask Philippe.</li>
      <li>Respond to Joel's email about more missing UCSD records.</li>
      <li>Talk to Brian about his Null !EndTime problem. Will need more info.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2009/09/11</dt>
  <dt>2009/09/10</dt>
  <dd>
    <ul>
      <li>Chat to Philippe / Gabriele on upcoming probe requirements, including ability of glexec probe to handle rotated log.</li>
      <li>Change to hibernate config to make extraxml and rawxml columns be mediumtext rather than text (2^24-1 rather than 2^16-1).</li>
      <li>Collect and collate changes for patch branch and release tag. Integration-test.</lI>
      <li>Fix hibernate config to use length= clause since hibernate does not explicitly recognize mediumtext.</li>
      <li>Fix del_JUR_from_summary.</li>
      <li>Fix PBS processor information precedence.</li>
      <li>Correct field size limit for Host from 255 to 65535.</li>
      <li>Update and cut probe release.</li>
      <li>Remove schema validation step from hibernate start on administration side to avoid problems associated with columns not being tweaked to mediumtext yet.</li>
      <li>Have !DatabaseMaintenance do the heavy lifting of changing tables to mediumtext (except !JobUsageRecord_Xml, at least for now).</li>
      <li>In collector-itb.dat, make integration collectors start housekeeping 1 hour after startup to make sure we test it.</li>
    </ul>
  </dd>
  <dt>2009/09/09</dt>
  <dd>
    <ul>
      <li>Gratia meeting</li>
      <li>More Gratia.py message improvements.</li>
    </ul>
  </dd>
  <dt>2009/09/08</dt>
  <dd>
    <ul>
      <li>Improve output of Gratia.py.</li>
      <li>Tweak locking regime of pbs-lsf_meter.pl since it is now called by !urCollector.</li>
      <li>Respond to Arvind IM regarding housekeeping. Instructions don't seem to be working.</li> 
    </ul>
  </dd>
  <dt>2009/09/03</dt>
  <dd>
    <ul>
      <li>Implement account= interpretation to PBS probe.</li>
      <li>Package services probe API as RPM for Brian.</li>
      <li>Final tweaks to backlog handling and !dCache probe.</li>
      <li>Log in to J/Psi cluster and check probe operation. Obtain backlogs for all LQCD batch managers to test development on collector for account= change.</li>
      <li>Tweak PBS probe to make sure that urCollector files are processed after every day's logs, not all in one lump -- improve large backlog behavior. Still need to do something similar for LSF though, which is one large file.</li>
      <li>Downgrade some overly verbose Gratia.py messages during processing of PBS XML files.</li>
    </ul>
  </dd>
  <dt>2009/09/02</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
      <li>IM / 'phone with Brian re ramifications of !JobStatus==3 change -- go ahead anyway, since it's still our best interpretation of what happens.</li>
      <li>IM with Aaron -- send Sourceforge checkout details.</li>
      <li>Improvements to Philippe's backlog check script.</li>
      <li>Integration test of !JobStatus==3 improvement to summary trigger. Minor fix.</li>
      <li>Mirror summary procedure change to del_JUR_from_summary.</li>
      <li>Fix problem with post-install.sh from Brian.</li>
    </ul>
  </dd>
  <dt>2009/09/01</dt>
  <dd>
    <ul>
      <li>Email and discussion with Philippe and Brian on collector problems at UNL and mitigation in probe.</li>
      <li>Reply to email thread on RSV / Gratia zombie problem -- definitely RSV's problem.</li>
      <li>Inquiry from Philippe on change to summary procedure for Burt & crew -- needs integration testing. Also re D0 / UCSD. Email with status to Burt.</li>
      <li>Discussion with Brian on RSV probe problems. Email to Arvind, reply.</li>
      <li>Help Brian diagnose collector trouble -- disk.</li>
    </ul>
  </dd>
  <dt>2009/08/31</dt>
  <dd>
    <ul>
      <li>All-day meeting, 9-4.30</li>
      <li>Add Aaron to authorized check-in list for Gratia SVN.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2009/09/11</dt>
  <dd>
    <ul>
      <li>GCC / LCC tour with Gabriele and Dave R. in preparation for candidate tours next week.</li>
      <li>Change SMTP password to match new IMAP password.</li>
      <li>Work log.</li>
    </ul>
  </dd>
  <dt>2009/09/10</dt>
  <dd>
    <ul>
      <li>Give access request form to Gabriele after ascertaining which rooms to which to request access.</li>
    </ul>
  </dd>
  <dt>2009/09/09</dt>
  <dd>
    <ul>
      <li>Request from Gabriele to get access to GCC, FCC to backstop for candidate tours.</li>
    </ul>
  </dd>
  <dt>2009/09/08</dt>
  <dd>
    <ul>
      <li>Work log.</li>
      <li>Time card.</li>
      <li>Mail to Alain on daemon user power.</li>
    </ul>
  </dd>
  <dt>2009/09/03</dt>
  <dd>
    <ul>
      <li>More Snow Leopard silliness.</li>
    </ul>
  </dd>
  <dt>2009/09/02</dt>
  <dt>2009/09/01</dt>
  <dd>
    <ul>
      <li>Report for Gabriele.</li>
      <li>Email to OSG list on redirecting PBS stdout / stderr. Further email with Horst on technical details of a bash-based method from the steering script.</li>
    </ul>
  </dd>
  <dt>2009/08/31</dt>
  <dd>
    <ul>
      <li>Work log updates.</li>
      <li>Time card.</li>
      <li>More chasing of Snow Leopard with Cele, Keith and Apple website. It's faster than me. Send details to Keith for 'phone call to Apple and Pro-card order.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Main.ChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->
-- Main.ChrisGreen - 31 Aug 2009
