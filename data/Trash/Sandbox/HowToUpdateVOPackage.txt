%META:TOPICINFO{author="TimSilvers" date="1224258162" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="TimSilversSandbox"}%
---+ How do I update the VO package?

   1. Login to funafuti.uits.indiana.edu. As yourself (*another user? files are owned by Rob)

_$ cd /home/wwws/OSG/pacman/tarballs/vo-version_

   1. Copy current files to previous version files.

_$ cp edg-mkgridmap.osg edg-mkgridmap.osg.prev_
_$ cp gums.template gums.template.prev_

   1. Update the three files that will require updates/additions (How?)

_edg-mkgridmap.osg_
_gums.template_
_vomses_

   1. Create diff files for review

_$ diff edg-mkgridmap.osg edg-mkgridmap.osg.prev > edg-mkgridmap.osg.diff_
_$ diff gums.template gums.template.prev > gums.template.diff_

   1. At this point you will need to communicate with the VO-Admins to make sure they have seen and agree to the new package. The mail should include a link to the new VO package directory and provide a time line for feedback. Here is an example from the SBGrid VO Addition.

VO Admins,

There is a new VO Package to be release on Wednesday that includes
the new SBGrid VO. Please review the files at http://software.grid.iu.edu/
pacman/tarballs/vo-version/ for comment.

Thanks,
Rob

   1. Copy the vomses file to the client VO package

_$ cd home/wwws/OSG/pacman/tarballs_

_$ cp vo-version/vomses vo-client/vomses_

   1. Create the new tarballs

_$ tar czvf vo-package-<#>.tar.gz vo-versions/_ (Where # is the next version iteration of the tarball.)
_$ tar czvf vo-client-0.6.tar.gz vo-client-0.6/_ (*Numbering issue to be explained here?*)

   1. Update the pacman files to point at the new tarballs.

_$ cd /home/wwws/OSG/pacman_

Edit _vo-package.pacman_ and _vo-client.pacman_ to refer to the new tarball version number. For example, in _vo-package.pacman_ you will update this line:

_download    = { 'unix': 'vo-package-7.tar.gz' }_  (In this case 7 is the version number that will be updated.)

In _vo-client_ you will update the following lines. (In this case 11 is the version number that will be updated.) (*Again, change the version number to the next in the sequence.*)

_description ('OSG VO Client v0.6.0-11')
downloadUntar ('http://software.grid.iu.edu/pacman/tarballs/vo-client-0.6-11.tar.gz'
, 'VO')_


-- Main.TimSilvers - 17 Oct 2008
