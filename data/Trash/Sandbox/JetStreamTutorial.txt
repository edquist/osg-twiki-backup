%META:TOPICINFO{author="VinceNeal" date="1479400647" format="1.1" version="1.4"}%
---+ Using Open Stack and Atmosphere on !JetStream

---++ Getting to Jetstream

Point your browser at [[https://use.jetstream-cloud.org]]. 

You will be presented with a list of the available images on the Jetstream system. Remember Jetstream is build on !OpenStack technology. The web GUI is called atmosphere. 

To log onto Jetstream click the Login button in the top right corner. Select 'XSEDE' in the dropdown menu. This will take you to a login screen, enter the credentials you were provided and click the 'Sign In' button to login. 

You will be presented the Jetsteam dashboard and a 'Getting Started' screen. 

---++ Finding a VM Image and Starting It

From here you can go directly to the 'Images' tab and look for an interesting VM image. 

For this example we'll use the Galaxy Standalone (16.01) Image. Feel free to look at other images if you find them more interesting. Click on 'LAUNCH' to start a VM. You will be presented with a New Project window. Create a name and description for your project, this allows you to organize your related VMs into groups. All VMs will be started within a project group. 

NOTE: Be sure to choose at least a Large Instance size for Galaxy. The Provider should be Jetstream - Indiana University. (Though Jetstream - TACC will work it is the University of Texas instance and we've only requested IU cycles.)

Press the 'Launch Instance' button. 

You will see a progress bar as your VM starts up along with some important information about the VM including the IP address. Copy this address we'll use it later. Once your VM has started, it will take a few minutes to build, configure  the network, and start up. If you had a non-training account you would get an email on completion. This takes 3-5 minutes. 

---++ Connecting to the VM 

You can now click on your VM to get further information. 

On the right hand menu you will see many actions you can take on the VM including Reporting Problems, Creating an Image of this VM for later use, Suspend activity, Stop, Reboot, Redeploy and Delete. 

Below this menu there is an link called "Open Web Shell" this opens a browser based terminal you can use to connect to via SSH to the VM. Click on this button after a few moments a Atmosphere ssh session will start. Several testers have mentioned this does not work correctly with their browser, it does work with my FF 49.0.2. 

What can you find out about this machine?

The FQDN for this VM 
<pre style="margin-left:4em" class="screen">hostname</pre>

The OS and Hardware Architecture
<pre style="margin-left:4em" class="screen">uname -a</pre>

See the Galaxy processes
<pre style="margin-left:4em" class="screen">ps -ef | grep galaxy</pre>

Can you use the 'ps' command to find out what database Galaxy is using? 

---++ Connecting to the Web Interface (Galaxy Only)

Open another browser window. Using the information from the 'hostname' command you've run in the previous step, point your web browser at the galaxy web interface. You've set up a fully functioning Galaxy Bioinformatics workflow interface. Click around and see what you've done. Without data at hand there not much to be done here. 

---++ Shutting down your VM
When you're done close your browser pointing at Galaxy, 'exit' your Web Shell and navigate back to the Jetstream dashboard. You can review the usage statistics for CPU and Storage. 

Click on the 'Projects' tab and then the project where you started your VM image. Click the instance name to get to the actions menu. From here click stop. This will give you a warning message to be sure you want to stop this instance. If you had modified it in any way you could then create an image of your new step up for later use. 

You've just done a very complex operation, creating an OS, installing a complex web service, starting it and finally retired it. Congratulations!

More about Openstack [[https://www.openstack.org/]]
More about Atmosphere [[https://github.com/iPlantCollaborativeOpenSource/atmosphere]]
More about Galaxy [[https://usegalaxy.org/]]

---++ Slides
   * [[%ATTACHURL%/BTown-Lecture.pdf][Slides]]

%META:FILEATTACHMENT{name="BTown-Lecture.pdf" attachment="BTown-Lecture.pdf" attr="" comment="" date="1479325991" path="BTown-Lecture.pdf" size="2647800" stream="BTown-Lecture.pdf" tmpFilename="/usr/tmp/CGItemp53395" user="RobQ" version="1"}%
