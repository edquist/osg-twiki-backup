%META:TOPICINFO{author="ChrisGreen" date="1242857224" format="1.1" version="1.8"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2009/04/13 - 2009/04/24

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

%LinksTable%

*[Out sick 2009/04/13]*

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2009/04/24</dt>
  <dd>
    <ul>
      <li>Much discussion and trying things out with Preston on CAESAR: getting there but still a hiccough or two.</li>
      <li>Online Teragrid training.</li>
    </ul>
  </dd>
  <dt>2009/04/23</dt>
  <dd>
    <ul>
      <li>Mail to Suzanne with G4 buzzwords (WLCG_WMS, DIANE, GANGA). Long discussion of OSG stack and common problems.</li>
      <li>Mail to Patricia and Alberto regarding availability during trip.</li>
      <li>Admit defeat to Alberto: suggest holding off until I get there. Suggested pulling in DIANE / GANGA experts.</li>
      <li>Receive TG training instructions and verify that videoconferencing software works.</li>
      <li>Request new DOE cert specifically for TG: heads-up to Tom B.</li>
      <li>Neha requesting full auth on TG and shortcut DN auth on NCSA.</li>
      <li>Reply with comments and edits on Suzanne's diagram.</li>
    </ul>
  </dd>
  <dt>2009/04/22</dt>
  <dd>
    <ul>
      <li>More discussions with Eileen, Gabriele, Debbie on CERN trip. Start paperwork. Fill in late justification.</li>
      <li>More troubleshooting attempts with Alberto, including 'phone calls and EVO. Nada. No useful signs of jobs on this end. No idea what the trouble is, but I would guess it has to do with their submission and workflow systems hiding otherwise perfectly obvious and easy-to-fix problems. Couple more suggestions.</li>
      <li>Reply from Neha with TG instructions. Add auth. tomorrow.</li>
      <li>Ask Dan for root on fnpc3x1 for diagnostics -- didn't help.</li>
      <li>Mail to John A. regarding trip.</li>
      <li>Long discussion with Suzanne Gysin on OSG structure and VO patterns.</li>
    </ul>
  </dd>
  <dt>2009/04/21</dt>
  <dd>
    <ul>
      <li>Mail from Alberto: still a couple of hiccoughs and no returned output files for a test involving $OSG_WN_TMP. Ask for files to submit own jobs to ITB to trace problems. Probably just a script configuration issue. Trouble locating any information about the jobs, though. More email to Alberto. Hope to converge soon.</li>
      <li>More email with Ron C. on OSG VO security survey.</li>
      <li>Mail to Neha for OSG-Teragrid gateway permsissions.</li>
      <li>Chat to Gabriele on MPI and G4.</li>
      <li>Conversation with Debbie over logistics of a short-notice trip to CERN. Gabriele to discuss with Eileen / Ruth.</li>
      <li>Request to Daniel if anyone from FNAL CMS/G4 is heading out to CERN within the next month or so. Reply and email discussion. Bcc: email chain to Ruth and Gabriele.</li>
      <li>Ask Eileen about Argonne status.</li>
      <li>'Phone discussion with Abhishek re G4 progress.</li>
      <li>More email to Alberto. Maybe we'll have something to celebrate tomorrow. Maybe.</li>
    </ul>
  </dd>
  <dt>2009/04/20</dt>
  <dd>
    <ul>
      <li>Reply to Ron C. on OSG VO security survey.</li>
    </ul>
  </dd>
  <dt>2009/04/17</dt>
  <dd>
    <ul>
      <li>Mail Alberto: Fermigrid quota got hit overnight. Suggestions for fixing behavior. Discuss with Steve. Request quota increase for geant4 on bluarc home.</li>
      <li>Mail with Elizabeth -- close umbrella interoperability ticket.</li>
      <li>More investigative work with Preston -- this is a big problem at CAESAR: executables can't be staged, even for fork jobs.</li>
      <li>Update G4 spreadsheet for Abhishek.</li>
    </ul>
  </dd>
  <dt>2009/04/16</dt>
  <dd>
    <ul>
      <li>Reply to and close Harvard-East interop ticket.</li>
      <li>More work on stage-in problem with Preston. No luck.</li>
      <li>AC meeting.</li>
      <li>Status report to Mats.</li>
      <li>Email from Abhishek asking for G4 spreadsheet update.</li>
      <li>Email from Alberto on current G4 problems -- reply with suggestions for diagnosis and fix.</li>
      <li>Send details of changes to gyro build / submit system to Jeff Candy. Include requested pseudo-code to run hook script if available.</li>
    </ul>
  </dd>
  <dt>2009/04/15</dt>
  <dd>
    <ul>
      <li>More back and forth with Preston regarding CAESAR. Stage-in error still a problem.</li>
      <li>'phone meeting with Iter. See engage sharepoint entry.</li>
    </ul>
  </dd>
  <dt>2009/04/14</dt>
  <dt>2009/04/13</dt>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2009/04/24</dt>
  <dd>
    <ul>
      <li>Check OSG transfer catchup -- proceeding. Currently at Apr 14.</li>
      <li>From Burt: possible slowness processing records from cmsosgce2. Some exceptions on gr5x0 which may have been coincidental -- restart server.</li>
      <li id="CD">Back and forth with Chris Polly on problems installing new software on /grid/app. Get him through the current crisis but need moer discussion when Steve T. gets back.</li>
      <li>Activate replication from fermi to OSG for CMS gatekeepers. Reply on GOC ticket.</li>
      <li>Reply on HEPGRID_UERJ ticket -- still waiting for site.</li>
      <li>Correspondence with Horst on UNM_HPC -- records are being received but everything looks local so far -- sent instructions on modifying !ProbeConfig to mark local records as such.</li>
      <li>Fermigrid group meeting.</li>
      <li>Notice problems with gr5x3: looks like DOE security probing has caused servlets to fail. Will need to investigate.</li>
    </ul>
  </dd>
  <dt>2009/04/23</dt>
  <dd>
    <ul>
      <li>Read and comment on proposed procedure for updating Xen kernels, etc.</li>
      <li>Check OSG transfer catchup -- proceeding.</li>
      <li>Reply on CMS T1 ticket -- can be closed.</li>
    </ul>
  </dd>
  <dt>2009/04/22</dt>
  <dd>
    <ul>
      <li>Read root-cause analysis for CDF failure.</li>
      <li>Check Fermi transfer catchup -- complete. OSG transfer replication catchup proceeding.</li>
    </ul>
  </dd>
  <dt>2009/04/21</dt>
  <dd>
    <ul>
      <li>Correspondence on UNM-HPC ticket. Looks like they're setting up an NFS mount for the logs.</li>
      <li>Check on Fermi transfer catchup -- up to Apr 17.</li>
      <li>Verify that TTU-MUNIN gridftp-transfer probe is operating to ITB.</li>
      <li>IM with Dan on service desk hiccough.</li>
    </ul>
  </dd>
  <dt>2009/04/20</dt>
  <dd>
    <ul>
      <li>Reply to question from Dan on physical whereabouts of gratia-vm02.</li>
      <li>FGCAB request: deactivate tar-recent-xml on all collectors.</li>
      <li>Implement removal of tar-recent-xml on collectors and check in change to update script.</li>
      <li>FGCAB request: update stored procedures to fix rare failure case in duplicate resolution.</li>
      <li>Implement fix to stored procedure and check in fix.</li>
      <li>FGCAB request: add debug version of !GratiaJobManager.pm to one or more production gatekeepers. Discussion with Keith and Steve. Postpone in favor of testing latest probe version on production GKs on Steve's return next week: recent change might have fixed the problem quietly.</li>
      <li>GOC ticket on stalled transfer probe for AGLT2_SE.</li>
      <li>Reply on UNM_HPC ticket.</li>
    </ul>
  </dd>
  <dt>2009/04/17</dt>
  <dd>
    <ul>
      <li>Fermigrid meeting.</li>
      <li>Identify rare exception during duplicate resolution: traced to bug in stored procedure introduced during upgrade to handle number of cores in summary table.</li>
      <li>Reply to questions from Burt on CMSOSG3 re-configure to send to gratia-fermi-osg.</li>
      <li>Add !ProbeDetails replication entries to gratia-fermi-osg. Leave deactivated -- collector won't be able to cope until after upgrade.</li>
      <li>Mail from Philippe re failed reports Monday. Long discussion with Arvind. Arvind eventually changes encoding of OIM data so accent characters in name don't case XML parse error.</li>
      <li>(With Dan) fix missing .forward files on gratia machines.</li>
      <li>Discussion and sample queries with Brian B. on rates of recent entries.</li>
    </ul>
  </dd>
  <dt>2009/04/16</dt>
  <dd>
    <ul>
      <li>Transfer probe reinstalled for CMS T1 storage. Check. Looks like we'll be double counting for 3/25 -> 4/1 due to the "interesting" way the upgrade was done: change partitions, install fresh billing DB and copy some entries to new billing DB from old. Something in the DB migration caused overlapping entries to not be considered duplicates.</li>
    </ul>
  </dd>
  <dt>2009/04/15</dt>
  <dt>2009/04/14</dt>
  <dd>
    <ul>
      <li>Respond to report from OCHEP -- gratia probe not reporting to production collector. Problem identified as servlets throwing exceptions. Cured by restart. Respond to subsequent question about deleting overlarge log files.</li>
      <li>Assist with diagnosis of non-reporting condor probe at Nebraska. Wrong permissions on gratia/var/data.</li>
    </ul>
  </dd>
  <dt>2009/04/13</dt>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2009/04/24</dt>
  <dd>
    <ul>
      <li>Reply to request from Arvind on how to add external links to other repositories to RSV repository.</li>
      <li>More work on proxy handling, including testing on gratiax22. Almost there but have some munging of the http_proxy env. var. to do and handle username / password where appropriate. See how it's done in urllib2.</li>
    </ul>
  </dd>
  <dt>2009/04/23</dt>
  <dd>
    <ul>
      <li>Normalize case on all VO keys and values in contact person data.</li>
      <li>Add name as a key in site hash.</li>
      <li>Change organization of VO-specific site lists.</li>
      <li>In !JobManagerGratia, squash directory hierarchy of certinfo file location if we're stuck using TMP.</li>
      <li>Remove vestigial code from Gratia.py.</li>
      <li>Start looking for solutions to the proxy handling problem in Gratia.py. Looks like we can have persistent connections (with httplib) or easily use a proxy (with urllib2) but not both. Found some code that might be useful. More research and discussion with Philippe.</li>
      <li>Discussion with Philippe on removal of old md5 column.</li>
      <li>Discussion with Arvind on organizational changes to OIM GUI interface. Also mention current discrepancies between OIM and local lists.</li>
      <li class="todo">Need to get three people to register with OIM.</li>
    </ul>
  </dd>
  <dt>2009/04/22</dt>
  <dd>
    <ul>
      <li>Add Ruth to D0 reporting list.</li>
      <li>Gratia meeting.</li>
      <li>VO reports: OIM reporting name and contact checking against local lists where appropriate. If contact is in OIM but missing from local, add to send list.</li>
      <li>Suggest to Philippe that GOC team attend next week's meeting.</li>
      <li>Alert Philippe of update to ~gratia/gratia-summary from repository.</li>
    </ul>
  </dd>
  <dt>2009/04/21</dt>
  <dd>
    <ul>
      <li>Correspondence with VDT team on configure-osg.py changes for Gratia.</li>
      <li>Help Philippe with minor problem on gratia01.</li>
      <li>Brief discussion with Philippe on default value for probe-side bundling.</li>
    </ul>
  </dd>
  <dt>2009/04/20</dt>
  <dd>
    <ul>
      <li>Discussion with Philippe on probe issues to be solved before release: proxy, authentication test, missing FQAN info.</li>
      <li>Investigate missing FQAN info: start putting diagnostics into !JobManagerGratia.pm. Tests on gratiax22</li>
      <li>IM and 'phone conversation with Arvind on FQAN->pretty name OIM table change request. Has agreed and implemented changes.</li>
      <li>Discussion on throughput issues with Philippe.</li>
      <li>Reply to Greg on condor backfill probe. Discuss with Philippe.</li>
    </ul>
  </dd>
  <dt>2009/04/17</dt>
  <dd>
    <ul>
      <li>Find and fix problem in del_JUR_from_summary stored procedure.</li>
      <li>Ping Brian on requested vdt-install.log for Alain.</li>
      <li>Enter Google Code tickets for FQAN info separation, !MyOSG versions of contact info and handling of non-standard characters in contact info.</li>
    </ul>
  </dd>
  <dt>2009/04/16</dt>
  <dd>
    <ul>
      <li>Discussions with Philippe on probe configuration for self-registered certificate storage.</li>
      <li>Discussions with Philippe and Steve T. on OIM, !MyOSG.</li>
      <li>Report defective 1.02.1 VDT collector packaging to VDT. Email correspondence.</li>
    </ul>
  </dd>
  <dt>2009/04/15</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
      <li>Ping Arvind on OIM links, !MyOSG migration.</li>
      <li>More discussions with Philippe on new code.</li>
      <li>Discussions with Brian on RSV reports.</li>
    </ul>
  </dd>
  <dt>2009/04/14</dt>
  <dd>
    <ul>
      <li>Assist with diagnosis of collector upgrade at Nebraska. VDT 1.02.1 package is defective, missing gratia directory. Provided tarball to mitigate problem locally. Will submit VDT ticket.</li>
      <li>Discussions with Philippe on probe authentication, etc.</li>
      <li>Start adding check of permissions on gratia/var/data to RSV probe.</li>
    </ul>
  </dd>
  <dt>2009/04/13</dt>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2009/04/24</dt>
  <dd>
    <ul>
      <li>Catch up on worklog after 1.5 days of updates apparently lost -- crash before checkin?</li>
    </ul>
  </dd>
  <dt>2009/04/23</dt>
  <dt>2009/04/22</dt>
  <dt>2009/04/21</dt>
  <dd>
    <ul>
      <li>Work log update and effort reporting.</li>
      <li>Report problem with service desk expert FAQ access to service desk.</li>
      <li>'Phone to service desk with problem with ticket on problem with service desk FAQ (sheesh).</li>
      <li>Help Dave D. with !NetIdMgr install and config.</li>
    </ul>
  </dd>
  <dt>2009/04/20</dt>
  <dd>
    <ul>
      <li>Help Dave D. get set up with Cygwin / kerberized ssh on loaner laptop.</li>
    </ul>
  </dd>
  <dt>2009/04/17</dt>
  <dd>
    <ul>
      <li>Catch up on worklog.</li>
      <li>More discussions re service desk upgrade.</li>
    </ul>
  </dd>
  <dt>2009/04/16</dt>
  <dd>
    <ul>
      <li>More emails and discussions re service desk upgrade.</li>
      <li>Timesheet.</li>
    </ul>
  </dd>
  <dt>2009/04/15</dt>
  <dd>
    <ul>
      <li>Enter and follow tickets for new Remedy.</li>
      <li>Multiple emails on subject of service desk upgrade, problems, concerns, etc.</li>
    </ul>
  </dd>
  <dt>2009/04/14</dt>
  <dd>
    <ul>
      <li>Attend "Kick the tires" servicedesk seminar and discussion. Follow-up discussions with Keith, Steve and Dan.</li>
      <li>Catch up on email.</li>
      <li>Compose last week's report.</li>
    </ul>
  </dd>
  <dt>2009/04/13</dt>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Main.ChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->

-- Main.ChrisGreen - 15 Apr 2009