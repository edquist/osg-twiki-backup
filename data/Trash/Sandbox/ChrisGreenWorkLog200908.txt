%META:TOPICINFO{author="KyleGross" date="1507063758" format="1.1" version="1.12"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set WYSIWYG_EXCLUDE = html, variables, calls, pre, comments 
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_OSG_User_Support][OSG User Support]]</td><td>[[#%TOPIC%_Fermigrid_Operations][Fermigrid Operations]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2009/02/16 - 2009/02/27

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

%LinksTable%

---+++!! <a name="%TOPIC%_OSG_User_Support">OSG User Support</a>
<dl>
  <dt>2009/02/27</dt>
  <dd>
    <ul>
      <li>More correspondence with Patricia. Test job failed due to 32-bit / 64-bit incompatibility. Install both packages in OSG_APP labeled appropriately.</li>
      <li>Second test failed on d0cabosgX due to expectation of finding a compiler. Bypass matching on d0cab and arrange to add compiler to package (used to be done, but no longer -- easy to resurrect).</li>
      <li>'Phone conversation with Abhishek. Spreadsheet to fill in with milestones, etc.</li>
      <li>CMS T1 has added their opportunistic gateway to WLCG BDII.</li>
      <li>Look at tgyro package from Jeff C. on franklin. Compile errors! Jeff will resolve.</li>
    </ul>
  </dd>
  <dt>2009/02/26</dt>
  <dd>
    <ul>
      <li>Update NERSC allocation info in OSG !TWiki.</li>
      <li>Status email and associated correspondence with Ruth.</li>
      <li>Email to John M. requesting guidance on filling in WBS.</li>
      <li>Mail to BNL requesting GUMS mapping change for Geant4 VO.</li>
      <li>Mail to Patricia and John regarding status and test jobs.</li>
      <li>Mail to Mats regarding obtaining site !ClassAd info from osgmm.</li>
    </ul>
  </dd>
  <dt>2009/02/25</dt>
  <dd>
    <ul>
      <li>Check in with Patricia -- FNAL is appearing on WLCG WMS.</li>
      <li>Certificate approval granted. Problems with osgmm due to GUMS mapping "exact." For now, don't use Role in osgmm. Will need to do something special for BNL.</li>
      <li>osgmm now running and checking sites regularly.</li>
    </ul>
  </dd>
  <dt>2009/02/24</dt>
  <dd>
    <ul>
      <li>Email to Patricia trying to get some traction on certificate approvals.</li>
      <li>Email to Ruth with G4 status.</li>
      <li>Finally productive conversation with Patricia. No progress on certs yet, but did get some discussion going on WMS and sites in the list.</li>
      <li>Talked to Burt about interop. and cross-advertising. Process is as simple as getting the site to check the interoperability box on the resource's OIM registration page.</li>
      <li>Try to get Patricia to send GOC requests to have FNAL_CMS CE3 and FNAL_FERMIGRID advertise interoperability.</li>
      <li>Asked Fermigrid ops why we don't already advertise interoperability. Answer, we do but for some reason it's not showing up in Patricia's WMS.</li>
      <li>IM with Burt and email to Patricia to ask for WMS submit file to see why fermigrid might not be matching.</li>
      <li>MeDICi info to Walter to consider in the context of QCD workflow system.</li>
    </ul>
  </dd>
  <dt>2009/02/23</dt>
  <dd>
    <ul>
      <li>Install dirInstallations in OSG_APP on fermigrid and FNAL CMS T1.</li>
      <li>Mail to Patricia -- still nowhere with certificate approval: frustrating! Also ask her to check workflow on FNAL_FERMIGRID.</li>
      <li>More !MeDICI reading, including paper sent by Ian G.</li>
      <li>More work-through of !MeDICi examples.</li>
      <li>Question to osg-sites about inter-job communication on a site.</li>
      <li>Reply to Ian G. with questions, cc: to engage.</li>
    </ul>
  </dd>
  <dt>2009/02/20</dt>
  <dd>
    <ul>
      <li>Attend Jing Te presentation on grid metric / error correlations.</li>
      <li>Mail to G4 asking for approval of new certs, giving instructions for procedure in VOMRS. Has to wait 'til Monday.</li>
      <li>Obtain G4 package for OSG_APP.</li>
      <li>Try to G4 package put in OSG_APP on fermigrid1. Write small script to unpack.</li>
      <li>Spend a few minutes playing with !MySQL to accept SSL auth. Can't even get it to accept a normal cert yet.</li>
    </ul>
  </dd>
  <dt>2009/02/19</dt>
  <dd>
    <ul>
      <li>'Phone meeting with Geant 4: John A., Patricia, Alberto.
      <ul><li>Notes in logbook.</li>
             <li>Get package details from Alberto and start trying to use OSGMM to identify sites that support Geant4.</li>
      </ul></li>
      <li>Check GYRO test job -- failed due to requested tasks (2) less than tasks per node (4). Rerun linear test for 4 nodes successful.</li>
      <li>'Phone meeting with Iter: Jeff C., Chris H.
      <ul><li>Notes in logbook.</li>
             <li>Might get more mileage out of TGYRO than GYRO: more useful to more users; and can produce useful results with 32-64 processes for shorter time without much communication (master-worker vs multi-multi). Jeff to send details.</li>
             <li>Jeff suggests B1 test series for GYRO rather than L1 test series -- different communication profile, more demanding.</li>
      </ul></li>
      <li>AC meeting.</li>
      <li>Discussions on OSG all-hands attendance -- cancel.</li>
      <li>Discussion with Rick St. Denis on grid-friendly metadata solutions. Settled on mysql with SSL auth -- need to check to see if mysql accepts grid proxies. Sent mail to osg-general. Google suggests it was being worked on 4 years ago, but no news since.</li>
      <li>Mail to Alberto asking for G4 software package details, and more stuff.</li>
    </ul>
  </dd>
  <dt>2009/02/18</dt>
  <dd>
    <ul>
      <li>Mail to Ruth with NERSC usage details from NIM.</li>
      <li>Check user details with Mats.</li>
      <li>Second mail to Ruth with answers to questions re NERSC usage details.</il>
      <li>Compile and run short Iter test job in direct 30 minute queue. If successful, try OSG interface.</li>
      <li>Try to sort out flight details for OSG all-hands.</li>
      <li>Mail to Preston with questions about Caesar.</li>
    </ul>
  </dd>
  <dt>2009/02/17</dt>
  <dd>
    <ul>
      <li>Mail to Daniel E. to open conversation about G4.</li>
      <li>Mail to Walter B. to chat about his experiences with G4.</li>
      <li>Brief chat in passing with Burt -- need a few more details before I know what to chat to him about.</li>
      <li>Meeting with Walter.</li>
      <li>Phone meeting with Daniel. General comments, recent improvements, local people.</li>
      <li>Complete Geant4 VO registration. Request addition of new certs.</li>
      <li>Answer from Jeff C. NEO not necessary -- can start some test runs.</li>
      <li>Mail to Preston asking about time limits on CAESAR.</li>
    </ul>
  </dd>
  <dt>2009/02/16</dt>
  <dd>
    <ul>
      <li>Reschedule Iter phonecon for Thursday 1pm.</li>
      <li>Repeat question to Jeff C. about NEO.</li>
      <li>Reply to email from Ruth regarding Geant4 and tracking resource requests.</li>
      <li>Arrange for phonecon with John, Patricia, Abhishek, Ruth at 9am Thursday.</li>
      <li>Mail to Alicia re flights and hotel dates for OSG all-hands.</li>
      <li>Request Geant4 VO membership at Geant4 VOMRS.</li>
      <li>Request new DOE personal cert and service cert.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Fermigrid_Operations">Fermigrid Operations</a>
<dl>
  <dt>2009/02/27</dt>
  <dd>
    <ul>
      <li>Question from Arvind about tracing !SQLErrors. Follow up about occasional duplicates.</li>
      <li>Fermigrid group meeting.</li>
      <li>Fix backups -- entries in cron.d need to be 644, not 755.</li>
      <li>Requests to Dan for aliases, GUMS GUI access and VCPU additions.</li>
      <li>IM with Brian B. and Charles Waldman. Catch-up extremely slow on MWT2_UC: globbing problem again exacerbated by the large number of local jobs that don't have certinfo files.</li>
      <li>Give Charles W. a version that does not glob -- OK for his site but not in general. Need to find a better solution.</li>
      <li>Respond to question from John W. regarding aliases.</li>
    </ul>
  </dd>
  <dt>2009/02/26</dt>
  <dd>
    <ul>
      <li>Check-in from Brian on fermi-transfer progress.</li>
      <li>Fix hostkey specification in gratia_backup_cron.sh.</li>
      <li>Mail from Arvind re OIM updates -- need to get a couple of people to add themselves to the OSG OIM person database.</li>
      <li>Brief conversation with Alain about Alan Sill's failed pacman -update of LSF probe -- forward email.</li>
      <li>Cron scripts for ddback and tar-recent-xml now don't interfere with daily cron.</li>
      <li>Get added to developer list for ddback by Dan. Use bind mounts in preference to NFS where available -- NFS mounts have been failing.</li>
      <li>Fix error flow control in ddback and ensure emails are always sent. Non-zero status codes from rsync append rsync log to ddback log.</li>
    </ul>
  </dd>
  <dt>2009/02/25</dt>
  <dd>
    <ul>
      <li>Check-in from Brian on fermi-transfer progress.</li>
      <li>Check into possible locations of gratia-splunk conversion script -- no joy.</li>
      <li>Diagnostics with BNL transfer probe -- proxy problems. Use 8886 address instead for now. Upload backlogged files manually.</li>
      <li>Check with BNL on possible slow probe -- dCache server was down.</li>
      <li>Mail to GOC asking for updates of OIM VO contact info based on script warnings.</li>
    </ul>
  </dd>
  <dt>2009/02/24</dt>
  <dd>
    <ul>
      <li>Investigate possible gr5x0 down. False alarm.</li>
      <li>Remove OSG schemata from gratia06 backup.</li>
      <li>Amend ddback excludes to only get tar.bz2 files and start running tar backup of XML files.</li>
      <li>Test optimize of !JobUsageRecord on gratia schema on gratia06: 4h10min while fermi_transfer operating at full bore.</li>
    </ul>
  </dd>
  <dt>2009/02/23</dt>
  <dd>
    <ul>
      <li>Investigate problems with gr5x3; reconfigure to increase memory and restart.</li>
      <li>Discussions with Dan and Keith on problems with ddback backup of collector XML files.</li>
      <li>Script to tar / compress recent XML files instead of trying to handle with rsync.</li>
      <li>Investigate disk space problem on gratia07. Delete a couple of unneeded directories, but primary trouble was the fact that binary logs weren't being cleared. Down to under 20% usage on gratia07:/test.</li>
    </ul>
  </dd>
  <dt>2009/02/20</dt>
  <dd>
    <ul>
      <li>Mail to Philippe to suppress cron message for successful rungratia.sh run; and to fix DB location in reporting scripts.</li>
      <li>Mail Brian to remind him to change DB location for reports from UNL.</li>
      <li>Fermigrid group meeting.</li>
      <li>Mail regarding gratia/splunk feeder from Neha -- need to restore a copy from somewhere on each VM.</li>
    </ul>
  </dd>
  <dt>2009/02/19</dt>
  <dd>
    <ul>
      <li>Fix problem in backup cron script due to restricted path in cron jobs (couldn't find kinit in /usr/kerberos). Re-run today's backups manually.</li>
      <li>Script to patch mysql-zrm-backup to add short hostname to subject line of status emails. FGCAB and install.</li>
      <li>Correspondence on IU and UC tickets with more investigation -- configs fixed on second attempt.</li>
      <li>reply to ITB problem with RSV probe logging. Not our fault!</li>
    </ul>
  </dd>
  <dt>2009/02/18</dt>
  <dd>
    <ul>
      <li>Status email on DB migration.</li>
      <li>Fix APEL interface dir permissions again after reconfiguration.</li>
      <li>Finish restore of DBs and collector switchover to gratia09 DB.</li>
      <li>Identify and work around multiple problems with history replay.</li>
      <li>Identify and get Dan to fix offsite port 443 problem -- firewall.</li>
      <li>Reconfigure all collectors to fix memory problem re-introduced yesterday.</li>
      <li>Get Steve to request TIBS backup on gratia09.</li>
      <li>Identify transfer and storage records being sent to production OSG collector and put in GOC tickets.</li>
      <li>Second status email on DB migration.</li>
    </ul>
  </dd>
  <dt>2009/02/17</dt>
  <dd>
    <ul>
      <li>Install ZRM on gratia09, patch mysql-zrm-backup with --full-insert option, update backup configs.</li>
      <li>Update backup cron script to take backup instructions from file to avoid duplication for gratia06 vs gratia09.</li>
      <li>Test backups of empty schemata on gratia09.</li>
      <li>Get approval for and reconfigure transfer collectors to lower housekeeping limit on job level entries.</li>
      <li>Get approval for and reconfigure all collectors to allow housekeeping control from DBs and host collectors.</li>
      <li>Request approval to switch collectors over when restores complete and start history replay.</li>
      <li>Start restore of DBs. Problems due to zrm's insistence on uncompressing the SQL into the same area as the compressed file, tmpdir specification notwithstanding. Relocate and re-try.</li>
      <li>Request from Steve T. to start replication of fgitb-gk from fermi to OSG. He needs to change his glexec probe name before I can complete the request.</li>
      <li>Minor troubleshooting with Brian -- SPRACE is now reporting, Caltech needed to be reconfigured and restarted.</li>
      <li>Reply to Keith's queries on DB switch.</li>
    </ul>
  </dd>
  <dt>2009/02/16</dt>
  <dd>
    <ul>
      <li>Field question from Alan S. about managedfork and condor probe.</li>
      <li>Forward problem report from Alan re pacman -update of LSF probe to VDT support.</li>
      <li>Reply to Keith's monitoring email regarding CRLs on gratia09.</li>
      <li>Re-jig partitions on gratia09.</li>
      <li>Install mysql v5.0.77 on gratia09.</li>
      <li>Port configuration from gratia06 to gratia09.</li>
      <li>(Eventually) get mysql-gui-tools working on gratia09.</li>
      <li>Create blank OSG schemata on gratia09.</li>
      <li>Connect collector to each schema and bring up to initialize tables.</li>
      <li>Remove views from new schemata in preparation for restore.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2009/02/27</dt>
  <dd>
    <ul>
      <li>At Charles' suggestion, run pychecker on Gratia.py. Fix all except two problems, that need investigation.</li>
      <li>Fix problem with osg-users and new pms.</li>
    </ul>
  </dd>
  <dt>2009/02/26</dt>
  <dd>
    <ul>
      <li>Mail to Philippe regarding OSG News RSS feed.</li>
      <li>Update gratia06 cron to use new VO reports script.</li>
    </ul>
  </dd>
  <dt>2009/02/25</dt>
  <dd>
    <ul>
      <li>Move !ReportingData.pm to !GratiaReporting subdirectory. Add new modules include Person class for easier personal info handling.</li>
      <li>New all-vos-oim script based on all-vos that reads and compares with OIM data. Still takes local data as primary though.</li>
      <li>Adapt all-sites-oim to cope with module changes.</li>
      <li>Fix local emails of Torre and Engage team to match OIM.</li>
      <li>Gratia meeting.</li>
    </ul>
  </dd>
  <dt>2009/02/24</dt>
  <dd>
    <ul>
      <li>Discussion with Philippe on secure transport, history replay and threading issue,</li>
    </ul>
  </dd>
  <dt>2009/02/23</dt>
  <dt>2009/02/20</dt>
  <dd>
    <ul>
      <li>Fix DB location in osg-users.</li>
      <li>Reply to Brian email on using hand-done osg-user-vo-map.txt files for transfer probes.</li>
      <li>Install mysql 5.0.77 on gratia-vm02.</li>
    </ul>
  </dd>
  <dt>2009/02/19</dt>
  <dt>2009/02/18</dt>
  <dd>
    <ul>
      <li>Gratia meeting.</li>
      <li>Discuss history replay shortcomings with Philippe.</li>
      <li>Commit collector-osg.dat with new DB host.</li>
      <li>Commit collector-osg.dat and configure-collector with explicit fix for monitor.q.size to override existing erroneous value.</li>
    </ul>
  </dd>
  <dt>2009/02/17</dt>
  <dt>2009/02/16</dt>
  <dd>
    <ul>
      <li>Mail to Arvind on expectations for patch release with Metric status features.</li>
      <li>Minor edit to condor_meter.pl to test svn / eclipse -- improve revision no. extraction. Problems with conflict resolution - will learn.</li>
      <li>Field question from John W. regarding ITB links to old collector URLs. Will still work, of course.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2009/02/27</dt>
  <dt>2009/02/26</dt>
  <dd>
    <ul>
      <li>Correspondence with training office over which courses are relevant for survey.</li>
      <li>Department lunch.</li>
    </ul>
  </dd>
  <dt>2009/02/25</dt>
  </dd>
  <dt>2009/02/24</dt>
  <dt>2009/02/23</dt>
  <dd>
    <ul>
      <li>Scrub Firefox profile and re-load bookmarks, passwords, extensions after corruption due to unknown cause.</li>
      <li>Try to call xemacs from eclipse -- fail miserably.</li>
    </ul>
  </dd>
  <dt>2009/02/20</dt>
  <dt>2009/02/19</dt>
  <dd>
    <ul>
      <li>Effort reporting.</li>
    </ul>
  </dd>
  <dt>2009/02/18</dt>
  <dt>2009/02/17</dt>
  <dd>
    <ul>
      <li>Field request for help with Nuance compile problems on x64-64 from !MiniBooNE -- can't help, no experience.</li>
    </ul>
  </dd>
  <dt>2009/02/16</dt>
  <dd>
    <ul>
      <li>Work log update.</li>
      <li>Report to Gabriele.</li>
      <li>Group meeting.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Trash.MainChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->
-- Main.ChrisGreen - 16 Feb 2009