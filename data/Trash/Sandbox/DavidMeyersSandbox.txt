%META:TOPICINFO{author="KyleGross" date="1225985965" format="1.1" version="1.7"}%
%META:TOPICPARENT{name="Main.DavidMeyers"}%
<div class=3D"twikiTopic">
<h1><a name=3D"LIGO_Privilege_use_and_configurat">
</a> LIGO Privilege use and configuration for OSG </h1>
<div class=3D"twikiToc">
<ul>
</ul>
</div>
<p />
<p />
<h2><a name=3D"Introduction"> </a> Introduction
</h2>
<!-- format copied from <a class=3D"twikiLink"
href=3D"/twiki/bin/view/Provisioning/LigoPrivilege"
title=3D"David Meyers - 20 September 2005 - 16:28 - 1.2: LIGO Privilege use
and configuration for OSG TOC STARTINCLUDE Introduction As part of the
deployment of OSG (0.2.1 at present), collected here is the
configuration information for OSG resource providers wanting to support the LIGO VirtualOrganizations/VOInfoMS.

">LigoPrivilege</a> -->
<p />
As part of the deployment of OSG (0.4.0 at present), collected here is the
configuration information for OSG resource providers wanting to support the LIGO VirtualOrganizations/VOInfoMS.
<p />

Whether you are using the grid mapfile or a GUMS server we recommend you create
an account with userid "ligo" on your CE nodes including, in the case of Condor,
on your Worker Nodes for account mapping.

<h2><a name=3D"Grid3 authorization via the grid mapfile on the gatekeeper"> </a>
OSG authorization via the grid mapfile on the gatekeeper </h2>
If you are using the file $VDT/edg/etc/edg-mkgridmap.conf

Simply add the one line:

group vomss://ligo-web.aset.psu.edu:8443/voms/LIGO ligo
<p />
<ul>
</ul>
<p />
<h2><a name=3D"GUMS_configuration"> </a> GUMS
Configuration </h2>
<p />
Here is an example the groupMapping for your GUMS server taken from the
Caltech GUMS 1.0 server's gums.config file.
<p />
<pre>
&lt;!-- VOMS Proxy mapping for LIGO Users --&gt;
<verbatim>
<groupMapping name='ligo' accountingVo='ligo' accountingDesc='LIGO'>
     <userGroup className='gov.bnl.gums.VOMSGroup'
     url='https://ligo-web.aset.psu.edu:8443/voms/LIGO/services/VOMSAdmin
     persistenceFactory='mysql' 
     name='ligo' 
     voGroup='/LIGO'
     sslCertfile='/etc/grid-security/hostcert.pem'
     sslKey='/etc/grid-security/hostkey.pem'
     ignoreFQAN='true'
/>

<accountMapping className='gov.bnl.gums.GroupAccountMapper'
                 groupName='ligo' />
</groupMapping>
</verbatim>
<h2>Information Services Support for the LIGO VO</h2>
A file grid3-user-vo-map.txt located at $VDT_HOME/monitoring/ contains the
account mapping needed by information service such as MonALISA. Assuming
that you have created an account "ligo" to map ligo users on your CE, you
need to add a line to the file grid3-user-vo-map.txt to support the monitoring
of job and gsiftp acitivity for this user class. Here is an excerpt of
the grid3-user-vo-map.txt file:
<verbatim>
...
ivdgl ivdgl
ligo ligo
mis mis
...
</verbatim>

A convenient method of generating the grid3-user-vo-map.txt file is to
use the web-based GUMS administration client interface from BNL.
From the GUMS admininstration home page, select the menu item: 
Generate Inverse Map. You may need to move the generated page to 
a file at the proper location on the host you specified in the interface.

<h2>No Support for Attribute Certificates in the LIGO VO</h2>

As of March 6, 2006, LIGO is not supporting attribute certificates
so you cannot obtain one with the -voms option to voms-proxy-init.

<h2>LIGO VO Administration Contact Information</h2>
Name: Murali Ramsunder
Title: LIGO VO Administator
Email: rmurali dot psu dot edu
URL: http://ligo.aset.psu.edu/
Country: USA
</body></html>