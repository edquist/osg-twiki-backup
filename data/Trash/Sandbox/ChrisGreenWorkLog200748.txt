%META:TOPICINFO{author="KyleGross" date="1225985964" format="1.1" version="1.23"}%
%META:TOPICPARENT{name="ChrisGreenWorkLog"}%
%LINKCSS%

<!-- Hidden Settings
   * Set USERSTYLEURL = %PUBURL%/%WEB%/ChrisGreenWorkLog/worklog-style.css
   * Set LinksTable = <table width="60%"><tr><td>[[#%TOPIC%_User_Support][User Support]]</td><td>[[#%TOPIC%_Gratia][Gratia]]</td><td>[[#%TOPIC%_Other][Other]]</td></tr><tr><td>[[#Top][Top of work log]]</td><td>[[#Bottom][Bottom of work log]]</td></tr></table>
-->

---+!! Chris Green's personal work log for 2007/11/26 - 2007/12/07

<!-- Day's skeleton
  <dt></dt>
  <dd>
    <ul>
      <li></li>
      <li></li>
    </ul>
  </dd>
-->

%STARTINCLUDE%
%EDITTHIS%

%LinksTable%

---+++!! <a name="%TOPIC%_User_Support">User Support</a>
<dl>
  <dt>2007/12/07</dt>
  <dd>
    <ul>
      <li>Discussion with Chander about WS-GRAM</li>
      <li>Thanks Abhishek for list; sent email to Mine asking for role definitions for VOs</li>
      <li>Sent mail to Kyle asking about still-lacking access to GOC VirtualOrganizations/VOInfo DB and procedure for VOs to update registration.</li>
      <li>Talked to Eileen about OSG Release Documentation.</li>
    </ul>
  </dd>
  <dt>2007/12/06</dt>
  <dd>
    <ul>
      <li id="I2007_12_06RuthMeeting">Lunch meeting with Ruth about OSG User Group and related:
        <ul>
          <li>Bi-weekly meetings with Abhishek and myself, starting 2007/12/13</li>
          <li class="todo">Need to make sure I get email list from Abhishek and get people to update VirtualOrganizations/VOInfo contact list.</li>
          <li class="done">Need to review OSG Year 2 WB and keep an eye on what might be getting missed.</li>
          <li class="todo">Need to address shortfalls in OSG VirtualOrganizations/VOInfo policies, procedures and documentation.</li>
        </ul>
      </li>
      <li>Phone conversation with Abhishek to talk about updating WBS and bi-weekly meetings with Ruth.</li>
    </ul>
  </dd>
  <dt>2007/12/04</dt>
  <dd>
    <ul>
      <li>Mail to Bruno giving advice about !ReSS use.</li>
      <li>Agenda for Thursday.</li>
      <li>Mail to Mats about Franklin @ NERSC.</li>
    </ul>
  </dd>
  <dt>2007/12/03</dt>
  <dd>
    <ul>
      <li>Mail to Chander and Mine about OSG VirtualOrganizations/VOInfo Manager role.</li>
    </ul>
  </dd>
  <dt>2007/11/30</dt>
  <dd>
    <ul>
      <li>Check in all recent =osg-vo-tests= changes.</li>
      <li class="todo">Contact Alan about TIGRE: need to respond to Borrie.</li>
      <li>Back and forth with Bruno -- encouraged him to get an account at NERSC.</li>
      <li>Back-and-forth with Shreyas about Franklin CE in general and Bruno in particular.</li>
      <li>Responded to Doug O. affirming Bruno's status on OSG.</li>
      <li>Tried to get authorization on [[https://goc.grid.iu.edu/registration/csv/][GOC VirtualOrganizations/VOInfo contact DB]]; ticket 4356 resolved but no dice. Sent email to GOC again.</li>
      <li>Asked Maxine H. to take me off !WebEX since it costs and I don't use it.</li>
      <li>Email to Maxim about MPI at NERSC.</li>
    </ul>
  </dd>
  <dt>2007/11/29</dt>
  <dd>
    <ul>
      <li>Email to Ruth, Mine and Chander about 4.30 meeting this afternoon and other issues.</li>
      <li>Cancel today's OSG UG meeting.</li>
      <li>Ask Abhishek for his "go-to" list.</li>
      <li>Asked Steve about ways to retrieve job stdout / stderr for a condor_rm'ed job: possible but tricky.</li>
      <li>Received !ReSS status report from Gabriele to include in next-week's OSG UG minutes.</li>
      <li>Reply from Abhishek: will have to wait until next week.</li>
      <li>Metrics script now handles by-month and by-week, both for last six months.</li>
      <li>Metrics script now takes options to produce stats for only specified users (by regex) or metric keys; and optionally omit the totals tables.</li>
      <li>Queries sent to Thierry and Bruno about their OSG usage and plans.</li>
      <li>Reply sent to Shreyas regarding Franklin CE; should be ready some time next week, things going well.</li>
      <li>Meeting with Ruth:
      <ul>
        <li class="done">Expecting URL of GOC VirtualOrganizations/VOInfo registration DB from Ruth.</li>
        <li class="todo">GADU seems to be operating: verify, ascertain who (Dina?), what and future plans if possible.</li>
        <li class="todo">!nanoHUB: correlate current running with stated plans in WBS (Find WBS).</li>
        <li class="todo">Investigate STAR application use and follow up to ascertain needs, etc.</li>
        <li>Expect new users from NSF, negotiations ongoing.</li>
        <li class="todo">Need to open master ticket at GOC for "user issues" like 4285, and action items arising from user fora like meetings and the FNAL meeting in July.</li>
        <li class="todo">User reports by FQAN (eventually)?</li>
        <li>Engage currently averaging about 20CPU in continuous use.</li>
        <li class="todo">Ask Shaowen about !GISolve -- prospects of getting on to OSG?</li>
      </ul></li>
      <li>Weekly user statistics run in place starting next week (early Monday).</li>
      <li class="done">Need to reply to Bruno.</li>
    </ul>
  </dd>
  <dt>2007/11/28</dt>
  <dd>
    <ul>
      <li>Final fix to queue removal for jobs taking too long to run.</li>
      <li>Reply to Ruth based on discussion with Lee.</li>
      <li>Attend meeting with Mine et. al.</li>
      <li>Discussions with Lynn post-meeting.</li>
      <li>Discussions with Mine post-meeting.</li>
    </ul>
  </dd>
  <dt>2007/11/27</dt>
  <dd>
    <ul>
      <li>Fix regex problem with last night's test addition to srm test.</li>
      <li>Mail from Alan: TTU-ANTAUES should now pass all tests; replied.</li>
      <li>Fixed minor problem with temporary exec name generation.</li>
      <li>Remove running jobs when time in run status goes &gt; 15 min beyond =maxWallTime=, if specified in =globusrsl=.</li>
      <li>Re-run tests.</li>
      <li>Fix problem with =maxWallTime= interrogation.</li>
      <li>Fix squid test to deal with *large* amounts of confusing cruft from the batch system.</li>
      <li>Discussion with Eileen about OSE classifications and !GridFTP servers.</li>
      <li>Email from Lynn about security phone conference tomorrow; discussions with Keith, Gabriele and Mine; email to Mine, Ruth and Chander.</li>
    </ul>
  </dd>
  <dt>2007/11/26</dt>
  <dd>
    <ul>
      <li>Brief meeting with Ruth.</li>
      <li>Attendance at Ops meeting.</li>
      <li>Minor enhancement to SRM test script to flag cases where the command is just not available.</li>
      <li>Minor enhancement to add status column to all !CondorGTest tests to indicate meta-failures (job was not submitted, never ran, etc).</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Gratia">Gratia</a>
<dl>
  <dt>2007/12/07</dt>
  <dd>
    <ul>
      <li>Email to Alain about GRAM auditing.</li>
      <li>Chat with Dan Y. about !InnoDB.</li>
      <li><nop>InnoDB out-of-memory problem under heavy insert load -- asked for help.</li>
      <li>Fighting with RPM packaging problems with post-install scripts. Just about done.</li>
      <li>Liaison with Justin at SMU and GOC over ticket 4084. Should be resolved now; will need to check Monday.</li>
    </ul>
  </dd>
  <dt>2007/12/06</dt>
  <dd>
    <ul>
      <li>Discussions with John W about GRAM auditing; try to ask Stuart about whether the section that writes the temporary auditing record (pre-WS) has access to and is able to read the extended proxy: should be able to avoid any changes to PRIMA.</li>
      <li>Talked to Jeff about possible remaining problems with ps-accounting summary tables: after investigation, decided there wasn't a problem.</li>
      <li>More packaging; talked to Neha to make sure there is somewhere to test.</li>
      <li>Try to rationalize spec file and increase re-use: mistakes are creeping in through cut and paste of similar post sections from one probe to the next.</li>
    </ul>
  </dd>
  <dt>2007/12/05</dt>
  <dd>
    <ul>
      <li>Work on dCache probe packaging.</li>
      <li>Agenda, chair Gratia meeting and write minutes.</li>
      <li>Deal with disk space problem cause by probe tests (again).</li>
      <li>Discussions with John W and tests on GRAM-auditing.</li>
      <li>Email exchange with Stuart Martin about purging GRAM-auditing entries since records may be large.</li>
    </ul>
  </dd>
  <dt>2007/12/04</dt>
  <dd>
    <ul>
      <li>PS Summary tables and trigger on production collector believed fixed.</li>
      <li>Fixed typo in ps-accounting report on running system; Jeff is updating reports for new engine and collecting requirements so no point in checking in fix.</li>
      <li class="todo">Report from Keith re ps-accounting: VirtualOrganizations/VOInfo information incomplete: need to make sure probe uploads new copies of rever mapping file as part of handshake.</li>
      <li class="todo">Idea: probes upload latest =osg-user-vo-map.txt= files during handshake with appropriate versioning / checksum. Receiving a new record should spawn a background process to update the !VirtualOrganizations/VOInfoName !ReportableVOName and accounting records for all entries from that site. Needs to be considered in the context of summary table trigger / scheduling work. Would also solve ps-accounting trouble (previous item).</li>
      <li>Clean up mess on gratia01 collector due to old-naming-style histories not being cleaned up from the collectors; fixed in repository.</li>
      <li>Clean up mess in home dir due to blown quotas from PBS collector tests. Cleaned up, cleared collector and restarted tests. Not optimistic though; still need logs from OU.</li>
      <li>More work on !InnoDB doc.</li>
    </ul>
  </dd>
  <dt>2007/12/03</dt>
  <dd>
    <ul>
      <li>Mail to Horst about OSCER logs; sent latest =Gratia.py= to speed up backlog removal.</li>
      <li>Work on running collected logs from PBS and LSF farms to identify parse problems.</li>
      <li>Following 'phone conversation with Jeff, try to find and fix ps-accounting summary table problem. Could be combination of trigger and tmpfile problem in cursor building for redo-from-scratch.</li>
      <li>Mentioned new static reports to Eileen.</li>
      <li>Work on !InnoDB doc.</li>
    </ul>
  </dd>
  <dt>2007/11/30</dt>
  <dd>
    <ul>
      <li>Mail from Steve T. talking about the [[http://www.cs.wisc.edu/condor/manual/v6.9.5/3_12Setting_Up.html#sec:GroupTracking][group tracking]] of recent condor versions. May help with glexec and ATLAS' problems. Won't be able to automate / enforce use across OSG because requires Admins to set aside a GID range.</li>
      <li>Discussion with John W. about desired location of script to run regular checks on CPU info for PS-accounting.</li>
      <li>Re-organize local PBS/LSF probe test area, marshal available PBS/LSF log sets and start processing to find parse errors. Problem with OUHEP set -- no JOB_FINISH entries in provided logs. TTU-ANTAEUS, both D0 CEs and UC_Teraport processing.</li>
    </ul>
  </dd>
  <dt>2007/11/29</dt>
  <dd>
    <ul>
      <li>Discussion with John about GRAM auditing and PBS/LSF parsing problems.</li>
      <li>Email to Penelope about problems with latest reporting interface.</li>
      <li>Discussion with John about minor install problems.</li>
      <li>Meeting with Ruth:
      <ul>
        <li class="done" id="I20071129_ReportCaveats">Ask Philippe to put CPU-time caveats into report emails (!Glexec, other pilots, etc).</li>
      </ul></li>
    </ul>
  </dd>
  <dt>2007/11/28</dt>
  <dd>
    <ul>
      <li>Gratia agenda.</li>
      <li>Gratia meeting.</li>
      <li>Gratia minutes.</li>
    </ul>
  </dd>
  <dt>2007/11/27</dt>
  <dd>
    <ul>
      <li>Reply to Arvind's email asking how to run Gratia under InnoDB for compatibility with RSV auxiliary tables: one line change to =hibernate.cfg.xml=.</li>
      <li>Diagnose discrepancy between Keith's old query and the new one I gave him: old was was buggy and had been fixed, but he'd lost the fix. Came up with more informative queries to match stuff I'd given to him earlier:<verbatim>select VirtualOrganizations/VOInfo.VOName as `VO`,
       DATE_FORMAT(V.EndTime, '%b %Y') as `Date`,
       S.SiteName as `SiteName`,
       FORMAT(sum(V.CpuUserDuration+V.CpuSystemDuration)/3600.0,1) as `Total CPU time (h)`,
       FORMAT(sum(V.CpuSystemDuration+V.CpuUserDuration)/3600.0/24.0/
              DATEDIFF(DATE_FORMAT(V.EndTime, '%Y-%m-01') + INTERVAL 1 MONTH,
                       DATE_FORMAT(V.EndTime, '%Y-%m-01')),1) as `Average CPU per hour (h)`
from VirtualOrganizations/VOInfoProbeSummaryData V
join VirtualOrganizations/VOInfoNameCorrection VC on (V.VirtualOrganizations/VOInfocorrid = VC.corrid)
join VirtualOrganizations/VOInfo on (VC.void = VirtualOrganizations/VOInfo.void)
join Probe P on (V.ProbeName = P.probename)
join Site S on (P.siteid = S.siteid)
where V.EndTime >  '2006-01-01 00:00:00'
  and S.SiteName like '%FNAL%'
group by `Date`, `VO`, `SiteName`
having `Total CPU time (h)` &gt; 1.0
order by DATE_FORMAT(V.EndTime, '%Y/%m'), `VO`, `SiteName`</verbatim></li>
      <li>Discussions with Lee Leuking about DBs following further questions from Ruth.</li>
    </ul>
  </dd>
  <dt>2007/11/26</dt>
  <dd>
    <ul>
      <li>Discussions with John W over work list.</li>
      <li>Attendance at OSG Ops meeting.</li>
    </ul>
  </dd>
</dl>

%LinksTable%

---+++!! <a name="%TOPIC%_Other">Other</a>
<dl>
  <dt>2007/12/05</dt>
  <dd>
    <ul>
      <li>Department meeting.</li>
    </ul>
  </dd>
  <dt>2007/12/04</dt>
  <dd>
    <ul><li>Safety: mentioned clutter in mail area to Eileen.</li></ul>
  </dd>
  <dt>2007/12/03</dt>
  <dd>
    <ul>
      <li>Ops report for Gabriele.</li>
      <li>Clarification of Ops items for Eileen.</li>
    </ul>
  </dd>
  <dt>2007/11/28</dt>
  <dd>
    <ul>
      <li>Department lunch.</li>
    </ul>
  </dd>
  <dt>2007/11/26</dt>
  <dd>
    <ul>
      <li>Status report for Gabriele, including Ops items.</li>
      <li>Discussions with Eileen and Gabriele re reporting items.</li>
      <li>Group meeting.</li>
      <li>Email requesting final count for lunch Wednesday.</li>
    </ul>
  </dd>
</dl>

%STOPINCLUDE%

---++ Topic access settings

   * Set ALLOWTOPICVIEW = Main.ChrisGreen, Main.ChrisGreenWorkLogViewersGroup

<!-- Hidden Settings
   * Set ALLOWTOPICCHANGE = Main.ChrisGreen
   * Set ALLOWTOPICRENAME = Main.ChrisGreen
-->

-- Main.ChrisGreen - 26 Nov 2007