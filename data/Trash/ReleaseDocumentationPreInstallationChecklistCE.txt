%META:TOPICINFO{author="RobertEngel" date="1288810186" format="1.1" reprev="1.82" version="1.82"}%
%META:TOPICPARENT{name="PreparingComputeElement"}%
%DOC_STATUS_TABLE%


---+!! Pre-Installation Checklist for Compute Element
%TOC%

---+ About this Document

%ICON{hand}% This document is for system administrators. It contains the procedure that must be completed before beginning the [[ReleaseDocumentation/ComputeElementInstall][Compute Element Installation]]. 

%STARTINCLUDE%

---+ Create Required Service Accounts

---++ Globus

The web service container requires a Unix account =globus=. By default the =daemon= user will be used.

---++ CEMon

This monitoring service requires a Unix account =daemon=.

---++ Resource and Service Validation (RSV)

RSV requires a Unix account =rsvuser= and a shell to run _probes_ using the Condor-Cron scheduling infrastructure. The following command must succeed when executed by the root user:

<pre class="rootscreen">
%UCL_PROMPT_SHORT% su -c "/bin/date" rsvuser
</pre>

---+ Create Required User Accounts

UNIX user accounts need to be created by the system administrator for each VO. You will need to create at least one local user account for each supported VO.  The =uid= and =name= of the account can be locally determined. You will be asked to provide a mapping from local accounts to VOs later during the configuration process.  Since VO's are frequently added to the OSG, you should access the current list of registered VO's at [[http://myosg.grid.iu.edu/vosummary?datasource=summary&all_vos=on&active_value=1][MyOSG's Virtual Organization menu item]]. Any new VO's will also appear in on the CE in the file =$VDT_LOCATION/monitoring/osg-user-vo-map.txt=.

---+ Request Required Service Certificates

---++ Resource and Service Validation (RSV)

RSV probes require a [[ReleaseDocumentation/GetGridCertificates#Request_a_Service_Certificate][service certificate]] to submit monitoring jobs to a %LINK_GLOSSARY_CE% or transfer files to a %LINK_GLOSSARY_SE%.

The RSV service certificate and service key should be installed in =/etc/grid-security/rsvcert.pem= and =/etc/grid-security/rsvkey.pem= respectively and be owner by the Unix user =rsvuser=.

---++ CEMon

This monitoring services requires a web (http) [[ReleaseDocumentation/GetGridCertificates#Request_a_Service_Certificate][service certificate]]. 

---+ Operating System and Networking Requirements

   * allow outbound network connections, please review the [[ReleaseDocumentation/ComputeElementFirewalls][Firewall Document]]
   * the gatekeeper must use a fully qualified domain name
   * the gatekeeper and the worker nodes must use synchronized clocks (NTP)
   * support reverse DNS lookup

 
---+ Network Setup

It is assumed that your hardware has a working network connection through which packages may be retrieved and from which services may contact your system.

---+ Fully Qualified Domain Name

The gatekeeper must use a fully qualified domain name by default.

---+ Firewalls

Please review  [[ReleaseDocumentation/ComputeElementFirewalls][Firewall Guide]] if your resource is protected by an Institute's firewall, uses a host firewall, or is using TCP wrappers.

---+ Time synchronization (NTP)

Each resource should use synchronized clocks using the Network Time Protocol daemon. Lack of synchronization complicates troubleshooting and causes problems with the security infrastructures evaluation.

---+ Reverse Name Lookup (DNS)

For the middle-ware to function both; the forward and the reverse lookup as configured through a local DNS service are required for the IP address of the system.


---+ Do you have a grid user certificate?

You will need a personal grid certificate to run validation tests. For more information see [[ReleaseDocumentation/CertificateGet][here]].


<!-- CONTENT MANAGEMENT PROJECT

   DEAR DOCUMENT OWNER
   ===================

   Thank you for claiming ownership for this document! Please fill in your FirstLast name here:
   * Local OWNER          = RobertEngel

   Please define the document area, choose one of the defined areas from the next line
   DOC_AREA = (ComputeElement|Storage|VO|Security|User|Monitoring|General|Integration|Operations|Tier3)
   * Local DOC_AREA       = ComputeElement

   define the primary role the document serves, choose one of the defined roles from the next line
   DOC_ROLE = (Scientist|Student|Developer|SysAdmin|VOManager)
   * Local DOC_ROLE       = SysAdmin

   Please define the document type, choose one of the defined types from the next line
   DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge)
   * Local DOC_TYPE       = Installation
   
   Please define if this document in general needs to be reviewed before release ( %YES% | %NO% )
   * Local INCLUDE_REVIEW = %YES%

   Please define if this document in general needs to be tested before release ( %YES% | %NO% )
   * Local INCLUDE_TEST   = %NO%

   change to %YES% once the document is ready to be reviewed and back to %NO% if that is not the case
   * Local REVIEW_READY   = %YES%

   change to %YES% once the document is ready to be tested and back to %NO% if that is not the case
   * Local TEST_READY     = %NO%

   change to %YES% only if the document has passed the review and the test (if applicable) and is ready for release
   * Local RELEASE_READY  = %NO%


   DEAR DOCUMENT REVIEWER
   ======================

   Thank for reviewing this document! Please fill in your FirstLast name here:
   * Local REVIEWER       = IwonaSakrejda
  
   Please define the review status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local REVIEW_PASSED  = %IN_PROGRESS%


   DEAR DOCUMENT TESTER
   ====================

   Thank for testing this document! Please fill in your FirstLast name here:
   * Local TESTER         = 
  
   Please define the test status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local TEST_PASSED    = %IN_PROGRESS%
 
-->

%META:TOPICMOVED{by="RobGardner" date="1192751193" from="Integration/ITB_0_7.CEPreInstallationChecklist" to="Integration/ITB_0_7.PreInstallationChecklistCE"}%
