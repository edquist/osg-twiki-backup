%META:TOPICINFO{author="TedHesselroth" date="1269447068" format="1.1" reprev="1.2" version="1.2"}%
%META:TOPICPARENT{name="StorageInfrastructureSoftware"}%
%DOC_STATUS_TABLE%

---+!! *<noop>%SPACEOUT{ "dCache Storage Element" }%*
https://twiki.grid.iu.edu/twiki/pub/Storage/WebHome/images.jpg

%TOC%


   * SRM-dCache

[[ReleaseDocumentation/PreparingForDCache]]

[[Documentation/StorageDcacheOverview]]

[[Documentation/StorageDcachePnfs]]

[[ReleaseDocumentation.DCache]]

[[dCacheChimera]]


*Purpose*: The purpose of this document is to provide dCache based SE administrators the information on how to prepare, install and validate the SE.


---+++ Introduction

%STARTINCLUDE%
dCache is a disk-caching system jointly developed by Deutsches Elektronen-Synchrotron (DESY) and Fermi National Accelerator Laboratory (Fermilab). Although it was initially developed to provide disk caching for tertiary storage, dCache makes an excellent grid Storage Element (SE) &ndash; even without tape backend &ndash; because it has a [[https://srm.fnal.gov/twiki/bin/view/SrmProject/WebHome][Storage Resource Manager]] interface and supports multiple transfer protocols: gridftp, xrootd, dcap, and http. dCache also provides a single name space across the entire pool of disk servers, making it look like a single file system to the users. It simplifies administration by providing mechanisms for internal clean-up and load balancing, which allows efficient use of storage space and handling of users' requests.
%STOPINCLUDE%


dCache is a storage element implementation that meets the SRM v2.2 specification. dCache is not packaged with the base Virtual Data Toolkit installation, but is available through the VDT as a separately downloadable package. In addition, OSG provides Gratia storage and transfer probes for site and grid-wide monitoring. Recently, subset of [[http://datagrid.ucsd.edu/toolkit][community toolkit]] was added to vdt-dcache distribution.

The dCache distributed components are implemented with the Cells package. Cells communicate with each other and components of dCache are implemented as cells. Hardware resources on a dCache node depend on what cells are running on that node. For a detailed description of dCache cells and the resources they require, see <a target="_top" href="https://plone4.fnal.gov/P0/DCache/dcachedoc/cell-descriptions/">Descriptive Cell Listing</a>. !dCache also uses !PostgreSQL databases for SRM and [[https://twiki.grid.iu.edu/bin/view/Documentation/StorageDcachePnfs][Pretty Normal File System (PNFS)]] to provide transparent file access.

---+++ Architecture
The detailed dcache architecture is provided at [[http://www.dcache.org][dCache Project Home Page]].
Main dCache components are listed in the table below:
| *Component Name* | *Purpose* |
|Location Manager|Instructs a newly started domains to which domain they should connect |
|PNFS, Chimera| Name servers|
|PNFS Manager|Manages the name space functionality|
|Info Provider|Provides a description of a !dCache instance using the GLUE information model|
|!gPlasma|Manages authorization of the clients|
|!PoolManager|Selects which pool is used for an incoming request|
|!ResilientManager|Keeps track of the number of replicas of each file within a certain subset of pools and makes sure this number is always withina specified range|
|!SrmSpaceManager|Provides a standardized webservice interface for managing a storage resource. Provides means to reserve space, initiate file storage or retrieve, and replicate files to another SRM|
|Doors ||
|  dcap door|Supports dcap protocol|
|  gsiftp door|Supports !GridFTP protocols v1 and !GridFTP v2. |
|  gsidcap door|Supports dCap protocol with a GSI authentication wrapper|
|  xrootd door|Supports xroot file transfer protocol|
|  NFSv4.1| Supports NFSv4.1 protocol|
|Pools| Store retrieved files and provide access to that data. Data access is supported via movers. A machine may have multiple pools| 


<div class="figure">
  <p><img src="%ATTACHURLPATH%/dcache_tier2.png" class="scaled" alt="Medium-sized dCache installation (click to enlarge)" /></a></p>
  <p>[[%ATTACHURLPATH%/dcache_tier2.png][Medium-sized dCache installation (click to enlarge)]] %BR% </p></div>



<!-- CONTENT MANAGEMENT PROJECT

   DEAR DOCUMENT OWNER
   ===================

   Thank you for claiming ownership for this document! Please fill in your FirstLast name here:
   * Local OWNER          = TedHesselroth

   Please define the document area, choose one of the defined areas from the next line
   DOC_AREA = Storage
   * Local DOC_AREA       = 

   define the primary role the document serves, choose one of the defined roles from the next line
   DOC_ROLE = (Scientist|Student|Developer|SysAdmin|VOManager|Documenter)
   * Local DOC_ROLE       = All

   Please define the document type, choose one of the defined types from the next line
   DOC_TYPE = Knowledge
   * Local DOC_TYPE       = 
   
   Please define if this document in general needs to be reviewed before release ( %YES% | %NO% )
   * Local INCLUDE_REVIEW = %YES%

   Please define if this document in general needs to be tested before release ( %YES% | %NO% )
   * Local INCLUDE_TEST   = %NO%

   change to %YES% once the document is ready to be reviewed and back to %NO% if that is not the case
   * Local REVIEW_READY   = %NO%

   change to %YES% once the document is ready to be tested and back to %NO% if that is not the case
   * Local TEST_READY     = %NO%

   change to %YES% only if the document has passed the review and the test (if applicable) and is ready for release
   * Local RELEASE_READY  = %NO%


   DEAR DOCUMENT REVIEWER
   ======================

   Thank for reviewing this document! Please fill in your FirstLast name here:
   * Local REVIEWER       =  TanyaLevshina
  
   Please define the review status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local REVIEW_PASSED  = %IN_PROGRESS%


   DEAR DOCUMENT TESTER
   ====================

   Thank for testing this document! Please fill in your FirstLast name here:
   * Local TESTER         = 
  
   Please define the test status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local TEST_PASSED    = %IN_PROGRESS%
############################################################################################################ 
-->


-- Main.TedHesselroth - 05 Mar 2010

%META:FILEATTACHMENT{name="dcache_tier2.png" attachment="dcache_tier2.png" attr="" comment="Typical dCache service distribution for a Tier 2 level setup." date="1269445783" path="dcache_tier2.png" size="157327" stream="dcache_tier2.png" tmpFilename="/usr/tmp/CGItemp9503" user="TedHesselroth" version="1"}%
