%META:TOPICINFO{author="DerekWeitzel" date="1283904819" format="1.1" reprev="1.6" version="1.6"}%
%META:TOPICPARENT{name="WebHome"}%
---+ Campus Grid Technology
%TOC%


---++ About this Document
This document describes the technology being developed for a campus grid.

---++ Prototype
The campus grid prototype will use Condor to [[http://www.cs.wisc.edu/condor/manual/v7.4/5_2Connecting_Condor.html][Flock]] between on campus resources.  Authentication and Authorization will be handled through non-certificate Condor security mechanisms.  Flocking between non-Condor resource will require a glidein mechanism.  The glidein mechanism will be handled by a simple glidein factory.  The prototype should have a very simple basic case, but be able to grow with options.

The Goals of the Technology are:
   * *Transparent* - Execution on different clusters will be transparent to the user.
   * *Simple* - Service operation will be easily understandable and well documented.
   * *Maintainable* - Service will have a simple configuration and well packaged.

---+++ Model 1: Only Campus computing
In this model clusters on campus would flock to each other.  The campus grid can be thought of as a mini-OSG.  Each cluster can decide what other clusters to flock from and what users to allow to run.  Granularity of security can be determined by the cluster (each user gets a uid?  each department?).  We must be careful not to list too many options, they can easily overwhelm.

In the example, the Chemistry and Engineering clusters flock to the Physics cluster.  And the Physics cluster can flock back to the Chemistry and Engineering clusters.  But, the Engineering and Chemistry clusters do not flock to each other.  The Chemistry and Engineering clusters could have small or no administration staff, while the Physics cluster could have paid staff.  In this case, flocking could even be one way, from the chemistry or engineering clusters to the physics cluster.
%ATTACHURL%/CampusOverview.png


---+++ Model 2: Campus with !GlideinWMS
This model is a extension of model 1.  In this situation, the clusters have the option to flock to a !GlideinWMS frontend.  This situation would require a knowledgeable user to run the !GlideinWMS frontend.  

In order to run on the OSG, a certificate is required.  This is already built into !GlideinWMS.

%ATTACHURL%/CampusOverviewWithOSG.png


---+++ Model 3: Campus with !GlideinWMS and OSG Gatekeeper
In this final model, the campus allows grid jobs to run on the campus grid from the OSG.  This would be the natural progression from campus grid to the Open Science Grid.  It is expected that only a subset of the campus will allow grid jobs.

%ATTACHURL%/CampusOverviewWithGatekeeper.png


---++ Glidein Factory
The Campus Factory should be:
   * Well Documented
   * Simple to maintain
   * Packaged


The factory should be O(100) lines, with a simple configuration consistent with configurations used by system services (key = value).  To run within Condor, I will implement the factory as a persistent local job run within Condor's scheduler.  

%ATTACHURL%/FactoryOverview.png


The campus factory code can be found at svn://t2.unl.edu/brian/campus_factory


-- Main.DerekWeitzel - 07 Sep 2010

%META:FILEATTACHMENT{name="FactoryOverview.pdf" attachment="FactoryOverview.pdf" attr="h" comment="" date="1283875304" path="FactoryOverview.png" size="35315" stream="FactoryOverview.png" tmpFilename="/usr/tmp/CGItemp52463" user="DerekWeitzel" version="2"}%
%META:FILEATTACHMENT{name="FactoryOverview.png" attachment="FactoryOverview.png" attr="" comment="" date="1283877684" path="FactoryOverview.png" size="32270" stream="FactoryOverview.png" tmpFilename="/usr/tmp/CGItemp52480" user="DerekWeitzel" version="2"}%
%META:FILEATTACHMENT{name="CampusOverview.png" attachment="CampusOverview.png" attr="" comment="" date="1283887442" path="CampusOverview.png" size="34947" stream="CampusOverview.png" tmpFilename="/usr/tmp/CGItemp52304" user="DerekWeitzel" version="2"}%
%META:FILEATTACHMENT{name="CampusOverviewWithOSG.png" attachment="CampusOverviewWithOSG.png" attr="" comment="" date="1283887268" path="CampusOverviewWithOSG.png" size="49304" stream="CampusOverviewWithOSG.png" tmpFilename="/usr/tmp/CGItemp52902" user="DerekWeitzel" version="2"}%
%META:FILEATTACHMENT{name="CampusOverviewWithGatekeeper.png" attachment="CampusOverviewWithGatekeeper.png" attr="" comment="" date="1283903793" path="CampusOverviewWithGatekeeper.png" size="53934" stream="CampusOverviewWithGatekeeper.png" tmpFilename="/usr/tmp/CGItemp48573" user="DerekWeitzel" version="1"}%
