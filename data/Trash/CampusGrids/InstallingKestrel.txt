%META:TOPICINFO{author="MichaelFenn" date="1270155050" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="WebHome"}%
---+!! %MAKETEXT{"Installing the Kestrel Scheduler" }%

Kestrel is a new scheduler under development at Clemson University that uses XMPP as a message passing interface. A paper describing its architecture can be found [[http://sites.google.com/site/ciresearchgroup/publications/mtags2009.pdf?attredirects=0][here]].

To install Kestrel and connect to the Clemson University pool, you will need Python >= 2.6 but < 3.0.  If Python 2.6 isn't the default version of python for your system, you can download and install it.  After you run =make= pay attention to the list of modules that failed to build, as this depends on which libraries are available on the system.  Of particular interest is the ssl module, as this is necessary for Kestrel.  If any needed module fails to build, install the relevant OS package (generally suffixed with =-dev= or =-devel=) and run =make= again.
<pre class=screen>
wget http://www.python.org/ftp/python/2.6.5/Python-2.6.5.tar.bz2
tar xjf Python-2.6.5.tar.bz2
cd Python-2.6.5
./configure
make
make altinstall
</pre>

Next we will need to install the Python setuptools package.  This provides a Python package manager that is needed to install several of Kestrel's dependencies.
<pre class=screen>
cd .. # if you were still in the Python-2.6.5 directory
wget http://pypi.python.org/packages/source/s/setuptools/setuptools-0.6c11.tar.gz
tar xzf setuptools-0.6c11.tar.gz
cd setuptools-0.6c11
python2.6 setup.py build
python2.6 setup.py install
</pre>

Now we'll install those additional packages
<pre class=screen>
cd .. # if you were still in the setuptools-0.6c11 directory
easy-install-2.6 virtualenv virtualenv-commands
</pre>

Now we'll actually get the Kestrel source and perform the setup.  The Mercurial source control system will need to be installed.  Most distributions provide prebuilt packages. 
<pre class=screen>
hg clone https://bitbucket.org/legastero/navitas-environment kestrel
./kestrel/setup
./kestrel/update
source kestrel/bin/activate
./kestrel/Research/VirtualMachines/start_worker &
</pre>

Congratulations! The machine is now a worker node connected to the Clemson Kestrel cloud.
