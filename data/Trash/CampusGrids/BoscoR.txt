%META:TOPICINFO{author="DerekWeitzel" date="1375480418" format="1.1" version="1.13"}%
%META:TOPICPARENT{name="BoSCO"}%
<img src="%ATTACHURL%/BoscoR-pic.png" width=400></img>

---+!! Bosco-R Instructions

%NOTE% This is a alpha document.  If you have any issues with installing and running Bosco or !GridR, please email bosco-discuss@opensciencegrid.org

Bosco-R is the transparent integration of the [[http://www.r-project.org/][R statistics]] computing environment with [[http://bosco.opensciencegrid.org/][Bosco]].

%TOC%

---++ Requirements

   1. Installation of R on your submit machine.  You can find binaries on the [[http://cran.rstudio.com/][R website]]

---++ Installation Instructions

Installation is a three step process:

   1. Install Bosco
   1. Connect your cluster to Bosco
   1. Install the Bosco+GridR package.

Both 1 and 2 (the installation of Bosco and connecting your cluster) are covered in the Bosco [[https://twiki.grid.iu.edu/bin/view/CampusGrids/BoscoQuickStart][quick start guide]], please use that guide to install and configure Bosco.  This document will only cover the installation of the Bosco+GridR package.

---+++ Install Modified !GridR
%NOTE% This section will be greatly simplified once the modifications to !GridR have been sent upstream.

Download [[https://www.dropbox.com/s/9yb50t07bn111xd/GridR_0.9.7.tar.gz][GridR]].  Install with the command line:
<pre class="file">
%UCL_PROMPT% R CMD INSTALL --build Downloads/GridR_0.9.7.tar.gz 
</pre>


---++ Using BoscoR

---+++ A simple example.

Be sure to have bosco running.  To ensure that Bosco is running, you can run, from the command line:
<pre class="screen">
%UCL_PROMPT% source ~/bosco/bosco_setenv;
%UCL_PROMPT% bosco_start
</pre>

Start R, or RStudio, or whatever R environment you prefer.  First, you need to load the !GridR library:
<pre class="screen">
> library("GridR")
</pre>

Then, you need to initialize !GridR to use Bosco:
<pre class="screen">
> grid.init(service="bosco.direct", localTmpDir="tmp")
</pre>

Now you are ready to create a function and send it to the connected cluster.  Below is a very simple function that will double the input value:
<pre class="screen">
> a <- function(s) { return (2*s) }
</pre>

Now, you can send it to the remote cluster.
<pre class="screen">
> grid.apply("x", a, 13)
starting bosco.direct mode
</pre>

You can check on the status of the job with the command grid.printJobs():
<pre class="screen">
> grid.printJobs()
</pre>

Once the job has completed, the output value from the function =a= will be assigned the the variable =x=.
<pre class="screen">
> x
[1] 26
</pre>

%META:FILEATTACHMENT{name="Rbosco.png" attachment="Rbosco.png" attr="" comment="" date="1372098727" path="R&bosco.png" size="94331" stream="R&bosco.png" tmpFilename="/usr/tmp/CGItemp1407" user="DerekWeitzel" version="1"}%
%META:FILEATTACHMENT{name="BoscoR-pic.png" attachment="BoscoR-pic.png" attr="" comment="" date="1372296222" path="BoscoR-pic.png" size="87708" stream="BoscoR-pic.png" tmpFilename="/usr/tmp/CGItemp1567" user="DerekWeitzel" version="1"}%
