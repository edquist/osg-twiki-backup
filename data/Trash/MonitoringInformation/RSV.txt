%META:TOPICINFO{author="AlainRoy" date="1264024619" format="1.1" version="1.20"}%
---+ Resource and Service Validation (RSV) Service

%TOC%

---++ Introduction
The Resource and Service Validation (!RSV) software provides a scalable and easy to maintain resource/service monitoring infrastructure for an OSG site (admin). The various facets of !RSV are:
   * <strong>RSV Client:</strong> The client part of !RSV, which is <a href="http://twiki.grid.iu.edu/bin/view/ReleaseDocumentation/ComputeElementInstall#Included_topic_Install_And_Confi"  target="_new"> included in the OSG CE (versions 0.8, 1.0, 1.2)</a>, and is also <a href="https://twiki.grid.iu.edu/bin/view/MonitoringInformation/InstallAndConfigureRsvAdvanced#Install_standalone_RSV_package_f" target="_new"> available as a VDT package (OSG-RSV)</a>, allows OSG site administrators to run tests against their CEs/SEs, using the probes provided (or other home grown probes), and a combination of a condor cron infrastructure (<em>for scheduling</em>) and a Gratia based infrastructure (<em>for collecting and storing the results</em>).
      * The !RSV Client runs probes at scheduled time intervals; It produces a simple webpage of local !RSV results for a site administrator's viewing [<a href="http://rsv.grid.iu.edu/documentation/sample_status.html">Example</a>]; It also has the capability to upload those probe results to a central collector (addressed next).
   * <strong>RSV Collector/Server:</strong> The server part of !RSV collects results from various !RSV clients, and stores them in a database. You can view these central results on <a href="http://myosg.grid.iu.edu/rgcurrentstatus/index?datasource=currentstatus&summary_attrs_showservice=on&summary_attrs_showrsvstatus=on&summary_attrs_showfqdn=on&gip_status_attrs_showtestresults=on&downtime_attrs_showpast=&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&start_type=7daysago&start_date=12/25/2009&end_type=now&end_date=12/25/2009&all_resources=on&gridtype=on&gridtype_1=on&service_central_value=0&service_hidden_value=0&active=on&active_value=1&disable_value=1">the !MyOSG-based !RSV current status page</a> and other !RSV-based choices in the <em>Resource Group menu</em> within MyOSG.
   * <strong>Periodic Availability Reports:</strong>       Availability of all active registered OSG resources, and the various services running on each of those resources, is calculated using the results received for <a href="https://twiki.grid.iu.edu/bin/view/Operations/RsvEquivalency#Critical_Tests_for_OSG_Resources" target="_new"> metrics deemed to be critical</a>. Once a day, these availability numbers are <a href="http://rsv.grid.iu.edu/daily-reports">published online</a> and via email <a href="https://twiki.grid.iu.edu/bin/view/MeasurementsAndMetrics/RsvReportsOverview" target="_new"> as explained here</a> (More information: <a href="https://twiki.grid.iu.edu/bin/view/Operations/RSVPeriodicReporting" target="_new">Outline of reports</a>,     <a href="https://twiki.grid.iu.edu/bin/view/MeasurementsAndMetrics/RsvReports" target="_new">Installation guide for GOC staff</a>).
   * <strong>RSV-SAM Transport:</strong> The WLCG !RSV-SAM Transport infrastructure pushes out !RSV results, for resources that are flagged to be part of the WLCG Interoperability agreement, from the GOC collector to WLCG's Service Availability Monitoring (SAM) system. More information <a href="https://twiki.grid.iu.edu/bin/view/Operations/RsvSAMGridView" target="_new"> on viewing these results is available here</a>
      * <strong>MyOSG and OIM Links: </strong> RSV picks up resource information, WLCG interoperability information, etc. from a MyOSG resource group summary listing, which is in turn based on the <a href="https://oim.grid.iu.edu" target="_new">OSG Information Management (OIM) (topology) system</a> (Requires registration). Resource <a href="https://twiki.grid.iu.edu/twiki/bin/view/Operations/OIMMaintTool">maintenance scheduled on OIM</a>, are forwarded to WLCG SAM, if applicable. 

---+++ Schematic of entire !RSV infrastructure
<table width='90%' align='center'>
  <tr>
    <td>
	<IMG SRC="/twiki/pub/MonitoringInformation/RSV/RSV-schematic-3.0.jpg" ALT="RSV v3 schematic">
    </td>
  </tr>
</table>


<P><br>

---+ For site administrators

---++ Installing and configuring !RSV
   * [[ReleaseDocumentation.InstallAndConfigureRSV]] - For Typical Simple !RSV Configuration
   * [[InstallAndConfigureRsvAdvanced]] - For Advanced !RSV Configurations
      * [[InstallAndConfigureRsvAdvanced#Install_standalone_RSV_package_f][Install standalone RSV package, for example on a non-CE machine]]
      * [[InstallAndConfigureRsvAdvanced#Enabling_non_default_metrics_or][Enabling non-default metrics (or disabling default metrics)]]
      * [[InstallAndConfigureRsvAdvanced#Adding_custom_specifications_to][Adding Custom Specs to RSV configuration]]
---++ Update RSV
   * <font color="red"><strong>Needs updates from VDT because repository and distribution have been moved to VDT </strong></font>
      * [[UpdateRsv]] - explains how to update RSV 3.x and greater

---++ Auxiliary scripts
The !RSV package is provided with auxiliary scripts that help an administrator perform tasks not possible within the automated scheduling infrastructure. These functions are expected to be made available within a unified management console in the near future but for now if you would like to use them, refer these documents.
   * [[ForceRunConfiguredRsvProbes]] - explains how you can run probes outside of the automated scheduling infrastructure.
   * [[CleanupRsvSetups]] - explains how to clean up submission files / output files, etc.

---++ !RSV Trouble-shooting
 This document lists known issues, and is meant to help admins and !GOC staff trouble shoot !RSV issues <br /> 
   * [[https://twiki.grid.iu.edu/bin/view/MonitoringInformation/TroubleshootRSVErrors][RSV Troubleshooting Guide (outdated)]] 

<p><br/>

---+ For Developers

   * [[RSVDeveloperGuide][The RSV guide for developers]] %RED% START HERE! %ENDCOLOR% <br> This should be your starting point for learning about how to develop new !RSV probes or maintain existing probes. 

---++ Writing your own !RSV Probes
Information and instructions for writing your own probes to be used in the !RSV infrastructure are located here: 
   * [[WriteYourOwnRSVProbe]]
   * [[MonitoringInformation/RsvProbeList][Current Probe List]] - Document out-dated/needs updating

---++ Core Developers with direct access to SVN repository
   * <font color="red"><strong>Needs updates from VDT because repository and distribution have been moved to VDT </strong></font>
      * [[RsvRepoAccess]] - Explains how to setup X509 cert based authentication 
      * [[ReleaseMethodology]] - Explains how the !RSV package is released at various levels (production/ITB)

---+ Contact !RSV Developers
See [[https://twiki.grid.iu.edu/bin/view/MonitoringInformation/RSVContactInfo][the Contact Information page]] for further information.

-- Main.ArvindGopu - 25 Dec 2009


%META:FILEATTACHMENT{name="RSV-schematic-3.0.jpg" attachment="RSV-schematic-3.0.jpg" attr="h" comment="Schematic of RSV" date="1261752479" path="RSV-schematic-3.0.jpg" size="74328" stream="RSV-schematic-3.0.jpg" tmpFilename="/usr/tmp/CGItemp12590" user="ArvindGopu" version="1"}%
