%META:TOPICINFO{author="ScotKronenfeld" date="1267132820" format="1.1" reprev="1.12" version="1.12"}%
%META:TOPICPARENT{name="RSV"}%
---+ !RSV Troubleshooting Guide

%TOC%

---++ !RSV v3 (!VDT 2.0.0, !OSG 1.2)

---+++ Debugging errors from specific metrics

   * [[Accounting/GratiaRSVMonitoringProbe][Gratia metrics]]
   * [[GratiaInfoServicesProbe][Info Services Probe]]
   * [[ReSSClassadExistsProbe][ReSS Classad Exists Probe]] - under development

   * [[ProbeTroubleshootingTemplate][Template for creating a new probe troubleshooting page]]

---+++ Resending failed Gratia records
<p>If RSV fails to send Gratia records, it will save a copy of the output into <tt>$VDT_LOCATION/osg-rsv/output/failed-gratia-scripts</tt>.  You will be notified if files are in this directory on your HTML status page.

<p>If files appear here, you can attempt to determine why by looking at this log file: <tt>$VDT_LOCATION/osg-rsv/logs/consumers/gratia-script-consumer.out</tt>.  This file is rotated, so the error message may no longer be present.

<p>Usually this error is spurious - there may have been a problem with the central collector being unavailable, or there may have been a network problem.  The first step to fix this problem is to try to resend these files.  To do so, move them back into the <tt>gratia</tt> directory and they will be resent the next time the gratia-script-consumer runs (about every 5 minutes):

<pre class="screen">
mv $VDT_LOCATION/osg-rsv/output/failed-gratia-scripts/* $VDT_LOCATION/osg-rsv/output/gratia/
</pre>

<p>If you continue to have problems, please contact the GOC.

---++ !RSV version 2 (!OSG 1.0 - !VDT 1.10.1)

<p>See [[TroubleshootRSVv2Errors]]
