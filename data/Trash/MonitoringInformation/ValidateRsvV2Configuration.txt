%META:TOPICINFO{author="ArvindGopu" date="1249394352" format="1.1" version="1.6"}%
%META:TOPICPARENT{name="RSV"}%
---++ Validating !RSV configuration
   * <strong>RSV status on !MyOSG:</strong> After waiting about 15 minutes, check [[http://myosg.grid.iu.edu/wizardcurrentstatus/index?datasource=currentstatus&summary_attrs_showservice=on&summary_attrs_showrsvstatus=on&summary_attrs_showfqdn=on&current_status_attrs_shownc=on&gip_status_attrs_showtestresults=on&gip_status_attrs_showfqdn=on&account_type=cumulative_hours&ce_account_type=gip_vo&se_account_type=vo_transfer_volume&start_type=7daysago&start_date=04/08/2009&end_type=now&end_date=04/15/2009&all_resources=on&gridtype=on&gridtype_1=on&service=on&service_4=on&service_1=on&service_5=on&service_2=on&service_3=on&active=on&active_value=1&disable_value=1][MyOSG's RSV resource status page]] - metric results for your resource, as well as resource status, should be displayed, _assuming your resource is registered with the appropriate FQDN, and is active in OIM_.
      * <p><strong>RSV output record upload to central collector (using Gratia transport):</strong> if the !MyOSG URL above does not display metrics per your expectation then you can start debugging by first looking at the Gratia consumer log file: =$VDT_LOCATION/osg-rsv/logs/consumers/gratia-script-consumer.out= to see if probe results were uploaded successfully to the !GOC maintained !RSV database. You should a bunch of entries similar to this:
   <pre class="programlisting">   08-20-2007 16:35:26 - Executing script '/usr/local/grid/ . . . record.py'
   OK </pre> 
   * <strong>Local RSV status page :</strong> After waiting about 15 minutes, check out the local status web page that is created with results of RSV probe runs each day. By default, this page is =$VDT_LOCATION/osg-rsv/output/html/index.html=, but can be reconfigured. You can either view the local status pages directly on the monitoring host ; or you can view these pages on the web at !https://&#60;FQDN_of_monitoring_host&#62;:8443/rsv, once again assuming you configured !RSV to use the !VDT Apache using the =--setup-for-apache= switch during config time. Beware that you <em>need to have an !OSG approved cert loaded in your web browser</em> to be able to view them page. The status pages should look similar to [[http://rsv.grid.iu.edu/documentation/sample_status.html][what is documented here]].
   * <p><strong>Condor_cron jobs:</strong> You can check all the condor-cron !RSV jobs that got submitted typing:
    <pre class="screen">condor_cron_q</pre>
   <pre class="programlisting">Submitter: foo.bar.edu : <156.56.m.n:nnn> : foo.bar.edu
ID      OWNER   SUBMITTED     RUN_TIME ST PRI SIZE CMD               
21.0   rsvuser    5/9  16:36   0+00:00:00 I  0   0.0  probe_wrapper.pl /
   . . .
36.0   rsvuser    5/9  16:36   0+00:00:00 I  0   0.0  probe_wrapper.pl /
37.0   rsvuser    5/9  16:36   0+00:00:04 R 0   0.0  html-consumer     
38.0   rsvuser    5/9  16:36   0+00:00:00 I  0   0.0  probe_wrapper.pl /
39.0   rsvuser    5/9  16:36   0+00:00:04 R 0   0.0  gratia-script-cons
40.0   rsvuser    5/9  16:36   0+00:00:00 I  0   0.0  rotate_html_files.</pre> 
     <p>What the above display shows are a bunch of <tt>probe_wrapper.pl</tt> jobs that are running the probes; one of those that's running the periodical proxy generator if you setup !RSV to use a service cert; and most likely 3 consumer jobs that generate local HTML pages and rotate them nightly, and upload records to the GOC !RSV collector.
   * <strong>Service cert proxy if applicable:</strong> If you setup RSV to use a service certificate, then you should see the proxy for it in <tt>/tmp/rsvproxy</tt> (unless you specified it to be a different filename). [[MonitoringInformation/MapServiceCertToRsvuser][This page]] explains how to authorize the certificate to allow RSV to run globus jobs. 
