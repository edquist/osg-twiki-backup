%META:TOPICINFO{author="ArvindGopu" date="1210368044" format="1.1" reprev="1.2" version="1.2"}%
%META:TOPICPARENT{name="RSV"}%
---+!! *<nop>%SPACEOUT{ "%TOPIC%" }%*
%LINKCSS%

%TOC%

%STARTINCLUDE%
%BR%

%INCLUDE{"MonitoringInformation/BackgroundRsvV2"}%


---++ !RSV configuration steps

%INCLUDE{"MonitoringInformation/ShouldIUserServiceCert"}%

%INCLUDE{"/MonitoringInformation/ConfigureRsvV2ConfigIni"}%

%INCLUDE{"MonitoringInformation/StartRsvV2"}%

%INCLUDE{"MonitoringInformation/ValidateRsvV2Configuration"}%


<p><br>

<hr color="#111111">
<p><br>

<a name="advanced_rsv_config"></a>

---+Advanced !RSV configuration
---++ Configuring !RSV using configure_osg_rsv script on the command line
<p> If you have a complex !RSV setup, for example, if you have one !RSV monitoring host that monitors multiple CEs, SEs, etc. then you might find configure_osg.py does not support some advanced features; For example, you cannot specify different write locations for different !SRM SEs. In such a case, use the instructions provided below to configure !RSV.

---+++ Pre-config check list
   * Ensure you have a <strong> valid username for !RSV</strong> (say, =rsvuser=); then as =root=,  replace entries in =<em><strong>italics</strong></em>= to appropriate values, and run the !RSV config script using <u>one of the following example configurations</u>
      * We expect that these command line instructions will have to be used till configure_osg is completely ready to take over configuring packages, including RSV, using a central !OSG-level .ini file.   
      * If you specify =--gridftp-probes=, then the corresponding =--gridftp-uri= is optional; if none is provided (i.e your CE host is where the GridFTP server runs), then those URIs default to the the =--ce-uri= assuming that is provided. 
      * If you configure !SRM probes, then you'll have to also provide a =--srm-dir= value where test files can be copied over to.

---+++ RSV running on OSG CE <strong>using GUMS</strong>; and <strong>using RSV service cert</strong> to run probes:

   <pre class="screen"> $VDT_LOCATION/osg-rsv/setup/configure_osg_rsv --user <em><strong>rsvuser</strong></em> --init --server y \
      --ce-probes --ce-uri "<em><strong>&#60;CE_FQDN&#62;</strong></em>" \ 
      --gridftp-probes --gums-probes \ 
      --gratia --grid-type "OSG-ITB" --verbose --setup-for-apache --use-rsv-cert 
      [--rsv-cert-file <em>/path/to/cert/public/cert</em> --rsv-key-file <em>/path/to/cert/private/key</em>] </pre>

---+++ RSV running on OSG CE <strong>not using GUMS</strong>; !GridFTP server running on CE; and <strong>using RSV service cert</strong> to run probes:

   <pre class="screen"> $VDT_LOCATION/osg-rsv/setup/configure_osg_rsv --user <em><strong>rsvuser</strong></em> --init --server y \
      --ce-probes --ce-uri "<em><strong>&#60;CE_FQDN&#62;</strong></em>" \ 
      --gridftp-probes  \ 
      --gratia --grid-type "OSG-ITB" --verbose --setup-for-apache --use-rsv-cert \
      [--rsv-cert-file <em>/path/to/cert/public/cert</em> --rsv-key-file <em>/path/to/cert/private/key</em>] </pre>




<p> <strong>Note: </strong> if you have your CE and SE (!SRM or Gridftp based) running on the same host, then you can combine any of the following pairs =--ce-probes --ce-uri=,  =--srm-probes --srm-uri=, =--gridftp-probes --gridftp-uri= options into one =configure_osg_rsv= execution. 

---++ More Example Configurations
<a name="more_example_configs"></a>
  <p> In the additional examples shown below, replace entries in =<em><strong>italics</strong></em>= to appropriate values



%INCLUDE{"MonitoringInformation/ConfigureRsvV2AdvSeSrmServcertNogums"}%

%INCLUDE{"MonitoringInformation/ConfigureRsvV2AdvSeBestmanServcertNogums"}%

%INCLUDE{"MonitoringInformation/ConfigureRsvV2AdvStandaloneProxyGums"}%


%INCLUDE{"MonitoringInformation/ConfigureRsvV2AdvCeServcertNogumsNagios"}%

<p>
<!-- More information on configuring !RSV and related topics is available in the [[http://rsv.grid.iu.edu/documentation/vdt-package.html][RSV documentation pages]]. -->


%STOPINCLUDE%
-- Main.ArvindGopu - 09 May 2008
