%META:TOPICINFO{author="X509_2fDC_3dorg_2fDC_3ddoegrids_2fOU_3dPeople_2fCN_3dScot_20Kronenfeld_20866253" date="1291326447" format="1.1" reprev="1.8" version="1.8"}%
%META:TOPICPARENT{name="RSV33"}%
---+ Standard !RSV Configuration

Most site administrators will be able to configure !RSV by doing the following steps:
   * Edit the [RSV] section in config.ini
   * Run =configure-osg -c=
   * Done!  Once you enable services (via =vdt-control=) you've got a working !RSV installation.

---+ Advanced !RSV configuration

---++ Enable or disable metrics

See the [[RSV33RsvControl][rsv-control documentation]].

---++ Configure metrics

If you need to specify extra parameters to a metric you can edit the metric configuration files.  These replace the spec files from previous versions of RSV.
   * =VDT_LOCATION/osg-rsv/etc/metrics= - changes made to conf file in this directory will affect the metric when run against all hosts
   * =VDT_LOCATION/osg-rsv/etc/metrics/&lt;HOST&gt;= - changes made to conf files in this directory will affect the metric when run against the specific host

Any key=value pairs in the 'args' section of this file will be turned into command line parameters to the probe.  For example, for this file:
<pre class="screen">
[org.osg.certificates.cacert-expiry args]
warning-hours = 6
error-hours = 12
</pre>
This would convert to =--warning-hours 6 --error-hours 12=

---++ Configure consumers:
=$VDT_LOCATION/osg-rsv/etc/consumers.conf=
| *Setting* | *Values* | *Details* |
| enabled | &lt;consumers&gt; | Comma-separated list of consumers to be enabled |
| timestamp | local | If this is set to local, a record with a local timestamp will be supplied to the consumer.  If this is set to any other value, or is not set, a record with the GMT will be created. |

---++ Options in rsv.conf:
=$VDT_LOCATION/osg-rsv/etc/rsv.conf=
| *Setting* | *Values* | *Details* |
| user | &lt;username&gt; | The UNIX username that owns RSV.  This is mandatory |
| service-cert | &lt;path&gt; | Absolute path to the service certificate file.  If this is set service-key and service-proxy must also be set. |
| service-key | &lt;path&gt; | Absolute path to the service key file.  This must be used with service-cert. |
| service-proxy | &lt;path&gt; | Absolute path where the service proxy will be generated.  This must be used with service-cert. |
| proxy-file | &lt;path&gt; | Alternative to service-cert.  The absolute path where the user proxy file is located.  This will not be auto-regenerated. |
| details-data-trim-length | &lt;integer&gt; | The number of bytes to trim the detailsData section to.  If set to 0 no trimming will occur. |
| job-timeout | &lt;integer&gt; | Time in seconds before a metric is killed.  A metric that times out will return a CRITICAL status. |
| extra-globus-rsl | &lt;string&gt; | Extra RSL to pass to globus-job-run commands. %BR% For example, this would add an RSVJob attribute to a Condor classad (include the quotes): "&(condorsubmit=('+RSVJob' 'True'))" |


-- Main.ScotKronenfeld - 03 Sep 2010

%META:TOPICMOVED{by="ScotKronenfeld" date="1285884840" from="MonitoringInformation.RSVNewDoc" to="MonitoringInformation.RSV33Config"}%
