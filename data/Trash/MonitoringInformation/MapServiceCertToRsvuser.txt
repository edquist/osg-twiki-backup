%META:TOPICINFO{author="ArvindGopu" date="1209655532" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="RSV"}%

---+ Configure !RSV to use a service cert on your CE or SE.

---++ Resources that use GUMS

<p> If you're manually adding configuration to a !GUMS 1.2 format, to allow an !RSV service cert to your GUMS server config, add the following:

<pre>
   . . . 
<userGroups>
    <manualUserGroup
        name='rsvgroup'
        access='write'
        description=''
        persistenceFactory='mysql'/>
       ...
</userGroups>

<accountMappers>
    <groupAccountMapper
        name='rsvuser'
        description=''
         accountName='rsvuser'/>
    ...
</accountMappers>
</pre>

<p>Then add the rsv reference to the groupToAccountMappings field in their hostToGroupMapping elements such as:

<pre>
<hostToGroupMappings>
    <hostToGroupMapping
        groupToAccountMappings='rsvgroup, cdf, fermilab, grase, mis, fmri, sdss, star, uscmsuser, cmsuser, uscmst2admin, uscmssoft, uscmsprod, uscmsphedex, uscmsfrontier, cmsuser-null, LIGO, dzerouser, dzeroana, dosar, des, glow, gridex, nanohub, geant4, i2u2, mariachi, osg, newUsatlasProd, newUsatlasSoft, newUsatlas, newAtlas, osgedu, minos, usminos, ukminos, minossoft, nwicg, ops, miniboone, des-production, gugrid, gpn, compbiogrid, engage, ilc, nysgrid, sbgrid, cigi, gums-test'
    description=''
    cn='*/?*.bnl.gov'/>
    ...
</hostToGroupMappings>
</pre>

<p> You must manually add each !RSV service DN to the =rsvgroup=:
   * Go to the web interface and click "Manual User Group Members"
   * Then click "Add", then enter the service cert DN and =rsvgroup= as the usergroup
      * Click "Save". And repeat for each DN (if you're configuring multiple RSV service cert DNs).

<p> <strong>NOTE: </strong> If your GUMS server version is < 1.2.17, then when converting to the the 1.2 format, it will give the rsv usergroup "write" privilege by default, so the administrator should change this to "read all".  This has been changed to "read all" by default in GUMS 1.2.17 and above.



-- Main.ArvindGopu - 01 May 2008

