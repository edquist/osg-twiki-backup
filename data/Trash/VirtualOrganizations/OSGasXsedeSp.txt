%META:TOPICINFO{author="MatsRynge" date="1387208283" format="1.1" version="1.21"}%
%META:TOPICPARENT{name="VOAndUserSupport"}%
---++ OSG as XSEDE Service Provider

OSG offers a rich Distributed High Throughput Computing (DHTC) environment which supports science computation at broad scales in the compute and data dimensions.  OSG will provide computational resources as an XSEDE Service Provider starting April 1, 2012.  OSG is working with XSEDE staff to establish working interfaces to enable effective environments and support for science users with XSEDE allocations on OSG.  
   * The “initial” OSG offering to XSEDE is optimized for ease-of-use (and brings some limits in data and storage)
   * As we learn more about how XSEDE users want to use OSG, we can leverage other OSG methods
   * As we identify other use cases, we will work with those communities to enable their computation on OSG

OSG supports XSEDE users by providing a Virtual Cluster that forms an abstraction layer to access the distributed OSG infrastructure.  Jobs submitted into the OSG Virtual Cluster will be executed on machines at several remote physical clusters. These machines may differ in terms of computing environment from the submit node. Therefore it is important that the jobs are as self-contained as possible by generic binaries and data which can be either carried with the job, or staged on demand.

Many high throughput computing workloads work well on OSG: parameter sweeps, Monte Carlo simulations, and bag-of-tasks. Note that OSG handles mostly serial applications.

---++ Allocation Policy

In order to use the OSG-XSEDE system, you need an allocation. Most users will get the allocation via the peer-reviewed XSEDE process which is [[https://www.xsede.org/allocations][documented on the XSEDE portal]]. Existing OSG users can get smaller allocations on the system by contacting OSG User Support.

Every quarter, OSG promises a certain number (currently 2 million) of SUs to XSEDE to be allocated. An XSEDE SU equals one CPU hour on OSG. The XSEDE XRAC committee peer-reviews the allocation proposals, and awards the SUs according to the proposal reviews and a SU availability. This process was set up to allocate HPC resources of static sizes, where the number of available SUs are known based on the size of the clusters. OSG is more of a dynamic system and the compute hours which are used to serve OSG-XSEDE users are coming from leftover cycles on OSG members’ resources. Depending on what other OSG users are doing, sometimes there are less cycles available, sometimes more. Thus, the SUs OSG promises to XSEDE users is a conservative number, and there is a good chance more cycles than the promised ones are available.

An allocation, once awarded, has two components: the awarded amount of SUs (Service Units) and an end date. It is OSG’s policy to make sure that users who have been awarded SUs will receive that number of SUs in an efficient manner. At the same time, we want to provide a good [[http://research.cs.wisc.edu/htcondor/manual/v7.8/1_1High_Throughput_Computin.html][high throughput computing]] experience and provide access to available cycles. Therefore we allow allocations which have exhausted their SUs, but not yet have reached the end date, to continue running. The only difference is that while there are still SUs left on the allocation, the jobs will run with high priority, and once the SUs are used up, the jobs will be running with lower priority.

---++ System Setup

---+++ Background & Planning

   * [[%ATTACHURL%/OSG-XSEDE_XRAC_Intro_v2.pptx][Introduction to OSG as an XSEDE SP - presented at Dec 4-5, 2011 XRAC]]
   * [[%ATTACHURL%/Announce_OSG_on_XSEDE.docx][Announcing Availability of OSG as an XSEDE SP on Dec 15, 2012]]
   * [[%ATTACHURL%/OSG-XSEDE-Preliminary_Tech-Plan-v2.docx][Draft Technical Plan for Implementing "virtual interface" to OSG resources for XSEDE Users]]
   * [[%ATTACHURL%/OSG_Information_for_POPS_29nov2011.pdf][OSG Information for XSEDE POPS system submitted Nov 29, 2011]]
   * [[OSGXSEDEImplementationProjectPlan][Implementation Project Plan]]
   * [[%ATTACHURL%/OSG-Review_XSEDE_software_services__Technical_Security_Baseline_v2.docx][OSG Review of XSEDE software services & Technical Security Baseline v2]]
   * [[http://www.nics.tennessee.edu/~victor/sp/checklist.html][XSEDE-OSG integration checklist]]

---+++ Documentation

   * [[%ATTACHURL%/OSG_User_Guide_for_XSEDE_Users-v2.html.zip][OSG_User_Guide_for_XSEDE_Users-v2.html.zip]]: HTML formatted user documentation for XSEDE portal
   * [[%ATTACHURL%/OSG_Good_Computations.docx][OSG_Good_Computations.docx]]: Guide for XRAC: What are good computations for the OSG resource
   * [[XSEDEAccountingOverview][XSEDE Accounting Overview]]
   * [[OSGXSEDEProjectsUsers][Maintaining projects/users]]

---+++ Monitoring
   * [[http://osg-xsede.grid.iu.edu/gratia-summary/][Summary of Gratia data for the pilot and user jobs]]
   * [[http://gratiaweb.grid.iu.edu/gratia/vo?starttime=&endtime=&span=86400&relativetime=absolute&facility=&exclude-facility=&vo=osg&exclude-vo=&user=xsede-pilot&exclude-dn=][Accounting Information for VO=osg & User=Xsede-pilot]] 
   * [[http://osg-xsede.grid.iu.edu/vofrontend/monitor/frontendStatus.html][GlideinWMS Frontend Status]]
   * [[http://osg-xsede.grid.iu.edu/monitoring/ganglia/][Ganglia (Load, Memory, Networking, ...)]]

---+++ Components

   * [[GratiaGold][Gratia Gold integration]]

---+++ Mappings for Accounting Reports

   * [[%ATTACHURL%/OSG-XSEDE_project_mappings.xlsx][Mappings for OSG-XSEDE weekly report]]

%META:FILEATTACHMENT{name="OSG_Good_Computations.docx" attachment="OSG_Good_Computations.docx" attr="" comment="Guide for XRAC: What are good computations for the OSG resource" date="1328830500" path="OSG_Good_Computations.docx" size="17677" stream="OSG_Good_Computations.docx" tmpFilename="/usr/tmp/CGItemp8271" user="MatsRynge" version="1"}%
%META:FILEATTACHMENT{name="OSG-XSEDE_XRAC_Intro_v2.pptx" attachment="OSG-XSEDE_XRAC_Intro_v2.pptx" attr="" comment="Intro to OSG as XSEDE SP at Dec 2011 XRAC" date="1329150100" path="OSG-XSEDE XRAC Intro v2.pptx" size="782279" stream="OSG-XSEDE XRAC Intro v2.pptx" tmpFilename="/usr/tmp/CGItemp35554" user="ChanderSehgal" version="1"}%
%META:FILEATTACHMENT{name="OSG-XSEDE-Preliminary_Tech-Plan-v2.docx" attachment="OSG-XSEDE-Preliminary_Tech-Plan-v2.docx" attr="" comment="Draft Technical Plan for Interface OSG resources to XSEDE" date="1329150149" path="OSG-XSEDE-Preliminary Tech-Plan-v2.docx" size="25895" stream="OSG-XSEDE-Preliminary Tech-Plan-v2.docx" tmpFilename="/usr/tmp/CGItemp35522" user="ChanderSehgal" version="1"}%
%META:FILEATTACHMENT{name="Announce_OSG_on_XSEDE.docx" attachment="Announce_OSG_on_XSEDE.docx" attr="" comment="Announcing Availability of OSG as an XSEDE SP on Dec 15, 2012" date="1329150282" path="Announce OSG on XSEDE.docx" size="13833" stream="Announce OSG on XSEDE.docx" tmpFilename="/usr/tmp/CGItemp35703" user="ChanderSehgal" version="1"}%
%META:FILEATTACHMENT{name="OSG_User_Guide_for_XSEDE_Users-v2.html.zip" attachment="OSG_User_Guide_for_XSEDE_Users-v2.html.zip" attr="" comment="HTML formatted user documentation for XSEDE portal" date="1329418225" path="OSG_User_Guide_for_XSEDE_Users-v2.html.zip" size="4723" stream="OSG_User_Guide_for_XSEDE_Users-v2.html.zip" tmpFilename="/usr/tmp/CGItemp53142" user="MatsRynge" version="1"}%
%META:FILEATTACHMENT{name="OSG-Review_XSEDE_software_services__Technical_Security_Baseline_v2.docx" attachment="OSG-Review_XSEDE_software_services__Technical_Security_Baseline_v2.docx" attr="" comment="Review XSEDE software services & Technical Security Baseline v2" date="1329421038" path="OSG-Review XSEDE software services & Technical Security Baseline v2.docx" size="24497" stream="OSG-Review XSEDE software services & Technical Security Baseline v2.docx" tmpFilename="/usr/tmp/CGItemp57264" user="MatsRynge" version="1"}%
%META:FILEATTACHMENT{name="OSG_Information_for_POPS_29nov2011.pdf" attachment="OSG_Information_for_POPS_29nov2011.pdf" attr="" comment="OSG Information for XSEDE POPS system" date="1329422559" path="OSG Information for POPS 29nov2011.pdf" size="52187" stream="OSG Information for POPS 29nov2011.pdf" tmpFilename="/usr/tmp/CGItemp35793" user="ChanderSehgal" version="1"}%
%META:FILEATTACHMENT{name="OSG-XSEDE_project_mappings.csv" attachment="OSG-XSEDE_project_mappings.csv" attr="" comment="Mappings for OSG-XSEDE weekly report" date="1368124968" path="OSG-XSEDE project mappings.csv" size="9123" stream="OSG-XSEDE project mappings.csv" tmpFilename="/usr/tmp/CGItemp52976" user="ChanderSehgal" version="2"}%
%META:FILEATTACHMENT{name="OSG-XSEDE_project_mappings.xlsx" attachment="OSG-XSEDE_project_mappings.xlsx" attr="" comment="OSG Project Mappings in Excel" date="1368125023" path="OSG-XSEDE project mappings.xlsx" size="359409" stream="OSG-XSEDE project mappings.xlsx" tmpFilename="/usr/tmp/CGItemp53235" user="ChanderSehgal" version="3"}%
