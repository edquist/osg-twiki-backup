%META:TOPICINFO{author="MatsRynge" date="1365609600" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="OSGasXsedeSp"}%
---+ OSG-XSEDE Accounting Overview

     <img src="%ATTACHURLPATH%/OSG-XSEDE-Accounting.jpg" alt="OSG-XSEDE-Accounting.jpg" width='900' height='450b' />    

The central component in the system is Gold which is an open source HPC accounting system (http://docs.adaptivecomputing.com/gold/index.php). Gold provides a database and a set of command line tools for managing projects, users and job accounting data.

The OSG Gold instance is synchronized with the XSEDE central database via AMIE (Account Management Information Exchange - http://scv.bu.edu/AMIE/) and AMIEGold (http://www.isgtw.org/feature/isgtw-feature-amiegold-teragrid-lsu). AMIE packages are exchanged over ssh. Arriving packages are translated by AMIEGold to Gold command line invocations. Job usage is pulled from the Gold database, translated to AMIE packages by AMIEGold, and sent to XSEDE via AMIE.

Information pulled from Gold and used on the OSG-XSEDE system include:

   * *User accounts* synchronized with /etc/passwd
   * *Active allocations/users list* used to validate that a job has specified a valid project ID at submit time
   * *XSEDE high/low priority allocation lists* used to put the jobs in the right HTCondor accounting group depending on if the allocations has a positive or negative balance

---++ condor_submit wrapper

condor_submit has been replaced with a submit wrapper which uses the information pulled from Gold.

---++ Job Accounting Groups

xsede
other
<none> (flocking)

xsede.low
xsede.high


-- Mats Rynge - 10 Apr 2013

%META:FILEATTACHMENT{name="OSG-XSEDE-Accounting.jpg" attachment="OSG-XSEDE-Accounting.jpg" attr="h" comment="" date="1365554168" path="OSG-XSEDE-Accounting.jpg" size="63640" stream="OSG-XSEDE-Accounting.jpg" tmpFilename="/usr/tmp/CGItemp52885" user="MatsRynge" version="2"}%
