%META:TOPICINFO{author="KyleGross" date="1225985920" format="1.1" version="1.13"}%
%META:TOPICPARENT{name="WebHome"}%
---+ DZero VO
---++ Quick Links
   * [[http://www-d0.fnal.gov/computing/reprocessing/p20/][Data Reprocessing Main Page]]
   * [[http://samgrid.fnal.gov:8080/cgi-bin/efficiency.cgi][Data Reprocessing Metrics]]
   * [[DataReprocessingOriginalRequesttoOSG][Data Reprocessing Original Request to OSG]]
   * [[ResourceSelection][OSG Resource Selection Service]] 

-------

%TOC%

---++ Introduction
This document describes the !DZero VirtualOrganizations/VOInfo privilege information needed to allow the services within the !DZero VirtualOrganizations/VOInfo access to a particular site. Included here is the VirtualOrganizations/VOInfoMS information that must be in place.

---++ DzeroJobs
   * [[DzeroJobs][Site requirements to run Dzero jobs]] 
   * [[DzeroJobs][Instructions to submit/run Dzero jobs]] 

---++ Instructions for Site Admins
In the configuration below we assume the user jobs will run as user "samgrid". This may vary from site to site.

---+++Client Configuration
The contents of vomses file for the Dzero VO

<pre>"dzero" "fermigrid2.fnal.gov" "15002" "/DC=org/DC=doegrids/OU=Services/CN=host/fermigrid2.fnal.gov' "dzero" "32"</pre>

This file can be installed in ~/.edg/vomses with permissions of 0644
Configuration for edg-mkgridmap
Following lines need to be added to the edg-mkgridmap.conf. If you are using VDT, these lines should go in $VDT_LOCATION/edg/etc/edg-mkgridmap.conf

1. Services:

<pre>group vomss://voms.fnal.gov:8443/voms/dzero?/dzero/services sam</pre>

2. Users:

<pre>group vomss://voms.fnal.gov:8443/voms/dzero?/dzero/users samgrid</pre>

---+++Configuration for GUMS
Use the following configuration if you want to generate grid-mapfiles from GUMS.

Note that the User group has also a role for analysis users (role=dzeroana). You can configure your GUMS to user this role if you want to give different priorities between analysis jobs and production jobs (assumed when no role is present). 

1. Services:

<pre>
&lt;groupMapping name='dzero-voms' accountingVo='dzero' 
accountingDesc='DZERO'&gt;
   &lt;userGroup
      className='gov.bnl.gums.VOMSGroup'
      url='https://voms.fnal.gov:8443/voms/dzero/services/VOMSAdmin'
      persistenceFactory='mysql'
      name='dzeroservice-voms'
      voGroup="/dzero/services"
      sslCertfile='/etc/grid-security/http/httpcert.pem'
      sslKey='/etc/grid-security/http/httpkey.pem'
      ignoreFQAN="false" /&gt;
   &lt;accountMapping
      className='gov.bnl.gums.GroupAccountMapper'
      groupName='sam' /&gt;
&lt;/groupMapping&gt;
</pre>

2. Users:

<pre>
&lt;groupMapping name='dzero-voms' accountingVo='dzero' 
accountingDesc='DZERO'&gt;

   &lt;userGroup
      className='gov.bnl.gums.VOMSGroup'
      url='https://voms.fnal.gov:8443/voms/dzero/services/VOMSAdmin'
      persistenceFactory='mysql'
      name='dzerouser-voms'
      voGroup="/dzero/users"
      sslCertfile='/etc/grid-security/http/httpcert.pem'
      sslKey='/etc/grid-security/http/httpkey.pem'
      ignoreFQAN="false" /&gt;
   &lt;accountMapping
      className='gov.bnl.gums.GroupAccountMapper'
      groupName='samgrid' /&gt;
&lt;/groupMapping&gt;
</pre>


---++VirtualOrganizations/VOInfo Administrators/Representatives Instructions

VirtualOrganizations/VOInfo Adminsitrators/Representatives should make sure that they are subscribed to all the relavant events regarding the user registrations. To find the list of events you can subscribe to click on the "Subscription" link in the menu on the left. Subscribing to relavant events will make sure that you will always be notified via email whenever the particular event occurs.

Once the user submits the registration request Admins/Representatives are required to approve the request. If you are subscribed to the relavant event you should get an email notifying about the new registration that is awaiting approval.

---+++To update the Personal Info or the Email address
Follow the same instructions as the "Users" except that, being an VirtualOrganizations/VOInfo-Admin you can see all or filter selected few user entries based on the search criteria.

---++Additional Documentation

You can find additional documentation or help regarding the VirtualOrganizations/VOInfoMRS registration at [[http://computing.fnal.gov/docs/products/vomrs/vomrs1_1/][VirtualOrganizations/VOInfoMRS Help Page]]

---++Contacting Dzero VirtualOrganizations/VOInfo Admin

If you have queries please send an email to the [[jonckheere@fnal.gov][Dzero VirtualOrganizations/VOInfo Admin]]


---++ Status of !OSG Site Utilization

!DZERO successfully submitted jobs to the following sites:

<ol>
  <li><b>University of Nebraska at Lincoln (Nebraska):</b> red.unl.edu:2119/jobmanager-pbs</li>
  <li><b>Indiana University (IU_ATLAS_Tier2):</b> atlas.iu.edu:2119/jobmanager-pbs</li>
  <li><b>Indiana University (MWT2_IU):</b> iut2-grid6.iu.edu:2119/jobmanager-pbs</li>
  <li><b>Oklahoma University (Grid1 CE):</b> grid1.oscer.ou.edu:2119/jobmanager-lsf</li> 
  <li><b>Oklahoma University (Stitch CE):</b> stitch.oscer.ou.edu:2119/jobmanager-condor</li> 
  <li><b>Fermilab (USCMS-FNAL-WC1-CE):</b> cmsosgce.fnal.gov:2119/jobmanager-condor</li>
  <li><b>NERSC (NERSC-PDSF):</b> pdsfgrid2.nersc.gov:2119/jobmanager-sge</li>
  <li><b>University of Florida (UFlorida-PG):</b> ufloridapg.phys.ufl.edu:2119/jobmanager-condor</li>
  <li><b>University of Florida (UFlorida-IHEPA):</b> ufgrid01.phys.ufl.edu:2119/jobmanager-condor</li>
  <li><b>Sao Paulo Regional Analysis Center (SPRACE):</b> spgrid.if.usp.br:2119/jobmanager-condor</li>
  <li><b>Louisiana Tech University:</b> caps10.phys.LaTech.edu:2119/jobmanager-condor</li>
  <li><b>Louisiana State University (LTU-CCT):</b> ltu.cct.lsu.edu:2119/jobmanager-pbs</li>
  <li><b>Purdue University (Purdue-RCAC):</b> osg.rcac.purdue.edu:2119/jobmanager-pbs</li>
  <li><b>UCSD (osg-gw-2_t2_ucsd_edu):</b> osg-gw-2.t2.ucsd.edu:2119/jobmanager-condor</li>
  <li><b>Oklahoma University and Langston University (ATLAS):</b> tier2-01.ochep.ou.edu:2119/jobmanager-condor</li>
  <li><b>University of Wisconsin (UWMadisonCMS):</b> cmsgrid02.hep.wisc.edu:2119/jobmanager-condor</li>
</ol>
-- Main.ParagMhashilkar - 15 Mar 2007