%META:TOPICINFO{author="TanyaLevshina" date="1339441545" format="1.1" version="1.6"}%
%META:TOPICPARENT{name="Activities"}%
---+!! *<noop>%SPACEOUT{ "IRODS and OSG Public Storage" }%*
%TOC{depth="3"}% 
---++ Goals

One  of  the  goals  of  the  OSG  is  to  provide  the  Virtual  Organizations(VOs)  with  opportunistic  usage  of  grid   resources.  One  of  the  essential  resources  is  storage.  OSG  initiated  production-­&#8208;scale  Opportunistic   Storage  provisioning  and  usage  on  all  OSG  sites.  The  major  problem  for  all  stakeholders  is  that  the  OSG   doesn't provide efficient means to manage this storage. We have started to technology investigation to understand if iRODS can be used to provide necessary tools for data management and movement.

---++  Overview of iRODS
   [[http://www.irods.org][iRODS]]  as  resource  management  and  data  movement  services  for   the  OSG  public  storage.  The  iCAT-­&#8208;enabled  IRODS  is  capable  to  register  and  set  quota  on  public  resources   per  VO  as  well  as  per  group,  and  per  user.  It  allows  to  define  resource  allocation  policies  as  a  set  of   Rules.  Rules  trigger  a  chain  of  actions  (micro-­&#8208;services)  that  are  executed  when  resource  allocation  or   resource  availability  has  been  changed.  A  chain  of  actions  may  include  recovery  from  failures  and   notification.  
In  the  current  proposal    iRODS    is    considered  as  SaaS.    It  is  deployed  on  a  central  node  along  with  iCAT   catalog.      iCAT  catalog  contains  information  about  resources,  resource  usage,  quotas  and  users.    It  also   serves  as  metadata  catalog  for  the  VOs  data  collections.     
---++ Project Timeline
---+++ Notes and documents
   * [[http://home.fnal.gov/~tlevshin/irods_osg-1.pdf][Initial presentation to OSG EB]]
   * [[http://home.fnal.gov/~tlevshin/OSG_Public_Storage_and_iRODS.pdf][OSG Public Storage and IRODS proposal]]
   * [[https://twiki.grid.iu.edu/twiki/pub/VirtualOrganizations/IRODSOSG/iRODS_Installation.pdf][iRODS Installation Procedure]]
   * [[https://twiki.grid.iu.edu/twiki/pub/VirtualOrganizations/IRODSOSG/iRODSUser.pdf][Initial commands for creating resources, users, group ,admins]]
   * [[MangeQuota][VO Quota Enforcement on Simple Resource]]
   * [[https://twiki.grid.iu.edu/twiki/pub/VirtualOrganizations/IRODSOSG/NotesMicroservices.pdf][Detailed Notes on How to Write a Custom !MicroService]] 
   * [[%ATTACHURLPATH%/irods_diagram2.jpg][Upload files to SRM: user -> iRODS -> SRM workflow]]
   * [[%ATTACHURLPATH%/irods_diagram2.jpg][Data movement from the worker node to a user]]
   * [[http://osg-docdb.opensciencegrid.org/cgi-bin/ShowDocument?docid=1094][Document describes the goals and outcome of the investigative phase I of the project]]
   * [[https://indico.fnal.gov/materialDisplay.py?contribId=63&sessionId=4&materialId=slides&confId=5109][Presentation at OSG AHM 22-Mar-2012, University of Nebraska-Lincoln]]
---+++ Phase I
   1. !iRODS installation and configuration
   1. Quota enforcement
   1. Writing rules using existing microservices
   1. Writing custom microservices
   1. [[https://www.opensciencegrid.org/twiki/pub/VirtualOrganizations/IRODSOSG/OSGStorage_iRODS_Integration.pdf][Status report on OSG/IRODS integration]]
   1. [[https://cdcvs.fnal.gov/redmine/projects/osgrods/repository][iRODS git Repository]]



-- Main.TanyaLevshina - 19 Dec 2011



%META:FILEATTACHMENT{name="NotesMicroservices.pdf" attachment="NotesMicroservices.pdf" attr="" comment="" date="1324329688" path="NotesMicroservices.pdf" size="669713" stream="NotesMicroservices.pdf" tmpFilename="/usr/tmp/CGItemp23616" user="TanyaLevshina" version="1"}%
%META:FILEATTACHMENT{name="iRODS_Installation.pages" attachment="iRODS_Installation.pages" attr="" comment="" date="1324331405" path="iRODS_Installation.pages" size="177781" stream="iRODS_Installation.pages" tmpFilename="/usr/tmp/CGItemp23552" user="TanyaLevshina" version="1"}%
%META:FILEATTACHMENT{name="iRODS_Installation.pdf" attachment="iRODS_Installation.pdf" attr="" comment="" date="1324331523" path="iRODS_Installation.pdf" size="104831" stream="iRODS_Installation.pdf" tmpFilename="/usr/tmp/CGItemp23495" user="TanyaLevshina" version="1"}%
%META:FILEATTACHMENT{name="iRODSUser.pdf" attachment="iRODSUser.pdf" attr="" comment="" date="1324333320" path="iRODSUser.pdf" size="52357" stream="iRODSUser.pdf" tmpFilename="/usr/tmp/CGItemp23320" user="TanyaLevshina" version="1"}%
%META:FILEATTACHMENT{name="irods_diagram.jpg" attachment="irods_diagram.jpg" attr="" comment="" date="1327504551" path="irods_diagram.jpg" size="76656" stream="irods_diagram.jpg" tmpFilename="/usr/tmp/CGItemp26036" user="TanyaLevshina" version="1"}%
%META:FILEATTACHMENT{name="irods_diagram2.jpg" attachment="irods_diagram2.jpg" attr="" comment="" date="1327506500" path="irods_diagram2.jpg" size="81495" stream="irods_diagram2.jpg" tmpFilename="/usr/tmp/CGItemp26153" user="TanyaLevshina" version="1"}%
%META:FILEATTACHMENT{name="OSGStorage_iRODS_Integration.pdf" attachment="OSGStorage_iRODS_Integration.pdf" attr="" comment="" date="1330467513" path="OSGStorage_iRODS_Integration.pdf" size="493975" stream="OSGStorage_iRODS_Integration.pdf" tmpFilename="/usr/tmp/CGItemp44868" user="TanyaLevshina" version="1"}%
