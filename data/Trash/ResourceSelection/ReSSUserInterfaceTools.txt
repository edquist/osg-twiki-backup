%META:TOPICINFO{author="ParagMhashilkar" date="1251920835" format="1.1" reprev="1.9" version="1.9"}%
%META:TOPICPARENT{name="WebHome"}%
---+ !ReSS User Interface Tools

This page keeps a list of user tools to facilitate the interaction with the !ReSS system.
<p>
The following examples are all based on the [[http://www.cs.wisc.edu/condor/manual/v7.0/condor_status.html][condor_status]] command. Note that if you want to print out specific classad attributes using the -format option, you'll need to use c-like format strings for the given attribute type (e.g. %s for attributes of type string, %d for integers, etc.). To find the type of a specific attribute, refer to the [[http://glueschema.forge.cnaf.infn.it/Spec/V13][Glue Schema V1.3 specifications]] 

   * [[%ATTACHURL%/condor_status_ress][condor_status_ress]]: the following script prints out information from cluster classads in !ReSS in a summary table, much like condor_status. The script is meant to be extended by each VOs with the information most relevant to them. In particular, set -pool option to osg-ress-1.fnal.gov to see resources registered in the production ReSS system, osg-ress-4.fnal.gov for the integration ReSS system.
<pre>
#!/bin/sh
echo
echo "GlueSiteName	GlueCEInfoContactString"
echo

condor_status -pool osg-ress-4.fnal.gov  -format '%s\t' GlueSiteName -format '%s\n' GlueCEInfoContactString | uniq 
</pre>

   * A similar useful variant of the previous command, targeted here to see information from a site (spgrid, in this example), is the following:

<pre>
condor_status -pool osg-ress-1.fnal.gov \
   -format '%s\t' GlueSiteName -format '%s\t' GlueCEInfoContactString \
   -format '%s\n' GlueCEAccessControlBaseRule \
   -constraint "GlueCEInfoHostName == \"spgrid.if.usp.br\""
</pre>

   * This variant shows all site names, CE contact string, and supported VOs for the whole OSG:

<pre>
condor_status -pool osg-ress-1.fnal.gov \
   -format '%s\t' GlueSiteName -format '%s\t' GlueCEInfoContactString \
   -format '%s\n' GlueCEAccessControlBaseRule | sort | uniq
</pre>

   * Selection on VOs is done with the !GlueCEAccessControlBaseRule attribute. Since the attribute is a list, selection is done with the [[http://www.cs.wisc.edu/condor/manual/v6.8/4_1Condor_s_ClassAd.html#27108][StringlistIMember]] function.
<pre>
condor_status -pool osg-ress-1.fnal.gov \
   -constraints 'StringlistIMember("VO:engage";GlueCEAccessControlBaseRule)' \
   -format '%s\t' GlueSiteName -format '%s\n' GlueCEInfoContactString
</pre>

   * If you want to find information for your VO at a specific site (e.g. knowing the host name of the CE), you can do:

<pre>
condor_status -pool osg-ress-1.fnal.gov \
   -constraints 'StringlistIMember("VO:ligo";GlueCEAccessControlBaseRule) && GlueCEInfoHostName=="fermigridosg1.fnal.gov"' \
   -format '%s\t' GlueSiteName -format '%d\t' GlueCEInfoTotalCPUs \
   -format '%d\n' GlueCEStateFreeCPUs
</pre>

   * If you want to find all Storage Elements, their control protocol endpoints (e.g. SRM addresses), their access protocol endpoints (e.g. published gridftp doors), and available storage areas for all VOs (e.g. the place where you can upload a file), you can do:

<pre>
condor_status -pool osg-ress-4.fnal.gov \
   -format "%s\t" GlueSEName -format "%s\t" GlueSEControlProtocolEndpoint \
   -format "%s\t" GlueSEAccessProtocolEndpoint -format "%s\n" GlueSAPath \
   -constraints "GlueSEControlProtocolEndpoint =!= UNDEFINED && GlueSEAccessProtocolEndpoint =!= UNDEFINED" | sort | uniq 
</pre>

   * If you want to find OS Name and version for CE and Subcluster worker nodes for the sites that support your VO, you can do:

<pre>
condor_status -pool osg-ress-1.fnal.gov \
   -constraints "StringlistIMember(\"VO:ligo\";GlueCEAccessControlBaseRule)"
   -format "CEOS=%s " GlueCEImplmentationName -format "CEOSVersion=%s " GlueCEImplementationVersion \
   -format "SubClusterOS=%s " GlueHostOperatingSystemName -format "SubClusterOSRelease=%s " GlueHostOperatingSystemRelease \
   -format "SubClusterOSVersion=%s\n" GlueHostOperatingSystemVersion
</pre>

-- Main.ParagMhashilkar - 02 Sep 2009

%META:FILEATTACHMENT{name="condor_status_ress" attachment="condor_status_ress" attr="h" comment="" date="1172188718" path="condor_status_ress" size="172" stream="condor_status_ress" user="Main.GabrieleGarzoglio" version="1"}%
