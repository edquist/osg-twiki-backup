%META:TOPICINFO{author="DerekWeitzel" date="1461336696" format="1.1" reprev="1.3" version="1.3"}%
<style type="text/css">
code em, pre em { color: red; font-weight: normal; font-style: normal; }
</style>

---+ Installing and Maintaining HTCondor-CE-Bosco

%TOC{depth="3"}%

---++ Pre-Reqs

As with all OSG software installations, there are some one-time (per host) steps to prepare in advance:

   * Ensure the host has [[SupportedOperatingSystems][a supported operating system]]
   * Obtain root access to the host
   * Prepare [[YumRepositories][the required Yum repositories]]
   * Install [[InstallCertAuth][CA certificates]]




---++ Installing HTCondor-CE-Bosco

An HTCondor-CE-Bosco installation consists of the job gateway (i.e., the HTCondor-CE job router) and other support software (e.g., !GridFTP, a Gratia probe, authorization software). To simplify installation, OSG provides convenience RPMs that install all required software with a single command.

<ol>
%INCLUDE{"Documentation/Release3/OSGReleaseSeries" section="Update"}%

  <li>
    <p>Install the CE software:</p>
    <pre class="rootscreen">%UCL_PROMPT_ROOT% yum install --enablerepo=osg-development osg-ce-bosco</pre>
  </li>
</ol>


---+++ SSH Key to Remote Login Host

It is required to have an passwordless SSH to the remote login host.  You can create an passwordless ssh key to the remote host with the =ssh-keygen= and =ssh-copy-id= commands.  In the following commands, we save the key in =/etc/osg/bosco.key= for use later in the configuration.

   1. Create the ssh key
      <pre class="rootscreen">%UCL_PROMPT_ROOT% ssh-keygen -f /etc/osg/bosco.key</pre>
   1. Copy the SSH key to the remote host.
      <pre class="rootscreen">%UCL_PROMPT_ROOT% ssh-copy-id -i /etc/osg/bosco.key &lt;username&gt;@&lt;remotehost&gt; </pre>


---++ Configuration

The configuration of the HTCondor-CE-Bosco is much the same as the regular [[InstallHTCondorCE#Configuring_HTCondor_CE][HTCondor-CE]].  The differences are noted below:

Enable Bosco by editing the =enabled= field in the =/etc/osg/config.d/20-<span style="background-color: #FFCCFF;">bosco</span>.ini= file:\
<pre class="file">enabled = <span style="background-color: #FFCCFF;">True</span></pre>

Additionally in the =/etc/osg/config.d/20-bosco.ini=, the other configuration values are as follows:

   * =users=: The existing usernames on the CE for which to install Bosco and allow submissions.  In order to have separate usernames per VO, for example the CMS VO to have the =cms= username, each user must have Bosco installed.  the osg-configure service will install Bosco on each of the users listed here.
   * =endpoint=: The remote cluster submission host for which Bosco will submit jobs to the scheduler.  This is in the form of =user@example.com=, exactly as you would use to ssh into the remote cluster.
   * =batch=: The type of scheduler installed on the remote cluster.
   * =ssh_key=: The location of the ssh key, as created above.  This should be =/etc/osg/bosco.key=.

After configuration all of the required fields in =/etc/osg/config.d/20-bosco.ini=, you can start the installation by running the osg-configure script:
<pre class="rootscreen">%UCL_PROMPT_ROOT% osg-configure -c </pre>

---+++ Starting Bosco

Starting Bosco is the same as  [[InstallHTCondorCE#UsingHTCondorCE][starting the HTCondor-CE]]:
<pre class="rootscreen">%UCL_PROMPT_ROOT% service condor-ce start </pre>



---+++ Debugging Bosco


