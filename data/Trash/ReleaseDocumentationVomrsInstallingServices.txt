%META:TOPICINFO{author="RobertEngel" date="1310503345" format="1.1" reprev="1.16" version="1.16"}%
%META:TOPICPARENT{name="VomrsInstallGuide"}%
---+!! VOMRS Installation
%TOC{}%

%STARTSECTION{"Main"}%
<!-- useful variable definitions
   * Local UCL_CWD = /opt/vomrs
   * Local UCL_HOST = myvoms
-->

---%SHIFT%+ Requirements

   * a %LINK_PACMAN% installation
   * *root* privileges on the installation server
   * GNU Compiler Collection
   * a *http service certificate* installed in =/etc/grid-security/http/httpcert.pem= and =/etc/grid-security/http/httpkey.pem= respectively
  
Please make sure that the =/etc/hosts= file contains an entry for the external FQDN of the VOMRS server separately from the localhost line, for example:

<pre class="file">
127.0.0.1 localhost.localdomain localhost
123.45.67.89 %UCL_HOST_FQDN% %UCL_HOST%
</pre>

---%SHIFT%+ VOMRS Installation Procedure

   1 create an installation directory
   1 use %LINK_PACMAN% to install VOMRS
   1 update the environment

---%SHIFT%++ Create an Installation Directory

Create a directory for the installation and change into it. For simplicity in this document we'll call it =/opt/vomrs=.

<pre class="rootscreen">
%UCL_PROMPT_ROOT% mkdir /opt/vomrs
</pre>

%WARNING% You can install VOMRS in any arbitrary directory. Please don't directly use a system directory like =/opt= or =/usr= here. The installation routine will create many sub-directories in the install directory chosen.

---%SHIFT%++ Use Pacman to install VOMRS

<pre class="rootscreen">
%UCL_PROMPT_ROOT% cd %UCL_CWD%
%UCL_PROMPT_ROOT% pacman -get  %CACHE%:vomrs  
</pre>

%TWISTY{%TWISTY_OPTS_OUTPUT%}%
<pre class="rootscreen">
%UCL_PROMPT_ROOT% pacman -get %CACHE%:vomrs
Do you want to add [http://software.grid.iu.edu/osg-1.2] to [trusted.caches]? (y/n/yall): %RED%y%ENDCOLOR%
Do you want to add [http://vdt.cs.wisc.edu/vdt_200_cache] to [trusted.caches]? (y/n/yall): %RED%y%ENDCOLOR%
Beginning VDT prerequisite checking script vdt-common/vdt-prereq-check... 

All prerequisite checks are satisfied.
                                                                          
========== IMPORTANT ==========
Most of the software installed by the VDT *will not work* until you install
certificates.  To complete your CA certificate installation, see the notes
in the post-install/README file.
</pre>
%ENDTWISTY%

%NOTE% The installation log file can be found in =%UCL_CWD%/install.log=

---++%SHIFT% Update your Environment

<pre class="rootscreen">
%UCL_PROMPT_ROOT% cd %UCL_CWD%
%UCL_PROMPT_ROOT% source setup.sh
</pre>

%ENDSECTION{"Main"}%
