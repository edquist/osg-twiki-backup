%META:TOPICINFO{author="IwonaSakrejda" date="1270155222" format="1.1" version="1.7"}%
%META:TOPICPARENT{name="ValidationPageRel01"}%
<!-- This is the default OSG Integration template. 
Please modify it in the sections indicated to create your topic!
If you have any comments/complaints about this template, then please email me:
rwg@hep.uchicago.edu.  (Adapted from Atlas wiki template, Ed Moyse)
--> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->

---+!!<nop>%TOPIC%
%TOC%
%STARTINCLUDE%


---++Introduction
Accounting for OSG Trash/Deployment will initially be based on MonaLisa and ACDC. MonaLisa will be extended to provide the additional useful information from MDViewer. 


---++Current Information

A sample of current information for accounting is at http://osg.ivdgl.org/twiki/pub/Integration/ValidationPageRel01/MonaLisa-OSG-ITB.doc

Gabrielle Carcassi wrote a new module that works in conjunction with MonaLisa. This is essentially a script to do reverse lookups of accounts. This grabs information from the VOs and outputs a textfile which is input to VO modules. It is part of ITB and is running at least at BNL. The map is generated by the GUMS Server, and retrieved by the GUMS client. 
The GUMS command for this is ./bin/gums-host generateGrid3UserVoMap
Look for ./bin/gums-host-cron: that can be linked to /etc/cron.hourly/gums-host-cron, and it would run every 6 hours (the rest of the time doesn't do anything). It generates the grid-mapfile as well as the inverse map (you have to have $VDT_LOCATION set to something).
Documentation for this is available at http://grid.racf.bnl.gov/GUMS/guide_commands_gums-host.html (look for generateGrid3UserVoMap)

As part of verification process, that Monalisa Provides MDViewer capabilities, we can to the conclusion that MonaLisa cannot provide integrated CPU over time and integrated Memory over time kind of graphs that MDViewer presents. This is  because of a lack of analysis layer which needs to be implemented. The graphs on MDViewer are actually obsolete in the OSG context.

As part of validation process, for MonaLisa, I had Neha submit jobs as SDSS VO while I watched the MonaLisa charts. The information displayed on MonaLisa was infact what Neha submitted which validates monalisa for correctness. I also followed up with Craig Prescott and he confirmed that the information presented on MonaLisa is correct as well. The only issue we had was when a user submits jobs as two different VOs, he can end up on either of them, depending on the sequence order in the grid map file. The resolution was to obtain different certificates, even if it is the same user.



%STOPINCLUDE%
<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
   DEAR DOCUMENT OWNER
   ===================

   Thank you for claiming ownership for this document! Please fill in your FirstLast name here:
   * Local OWNER          = SuchandraThapa

   Please define the document area, choose one of the defined areas from the next line
   DOC_AREA = (ComputeElement|Storage|VO|Security|User|Monitoring|General|Integration|Operations|Tier3)
   * Local DOC_AREA       = Integration

   define the primary role the document serves, choose one of the defined roles from the next line
   DOC_ROLE = (EndUser|Student|Developer|SysAdmin|VOManager|Documenter)
   * Local DOC_ROLE       = Documenter

   Please define the document type, choose one of the defined types from the next line
   DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge)
   * Local DOC_TYPE       = HowTo
   
   Please define if this document in general needs to be reviewed before release ( %YES% | %NO% )
   * Local INCLUDE_REVIEW = %NO%

   Please define if this document in general needs to be tested before release ( %YES% | %NO% )
   * Local INCLUDE_TEST   = %NO%

   change to %YES% once the document is ready to be reviewed and back to %NO% if that is not the case
   * Local REVIEW_READY   = %NO%

   change to %YES% once the document is ready to be tested and back to %NO% if that is not the case
   * Local TEST_READY     = %NO%

   change to %YES% only if the document has passed the review and the test (if applicable) and is ready for release
   * Local RELEASE_READY  = %YES%


   DEAR DOCUMENT REVIEWER
   ======================

   Thank for reviewing this document! Please fill in your FirstLast name here:
   * Local REVIEWER       = 
  
   Please define the review status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local REVIEW_PASSED  = %IN_PROGRESS%


   DEAR DOCUMENT TESTER
   ====================

   Thank for testing this document! Please fill in your FirstLast name here:
   * Local TESTER         = 
  
   Please define the test status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local TEST_PASSED    = %IN_PROGRESS%
############################################################################################################
-->