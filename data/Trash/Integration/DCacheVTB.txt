%META:TOPICINFO{author="TedHesselroth" date="1286397052" format="1.1" version="1.8"}%
%META:TOPICPARENT{name="ValidationTestbed"}%
<!-- This is the default OSG Integration template. Please modify it in the sections indicated to create your topic! --> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->

---+!! %SPACEOUT{ "%TOPIC%" }%

%TOC%

%STARTINCLUDE%
%EDITTHIS%
---++ Introduction

This page is intended for maintaining our experiences installing d-cache on the Validation Test Bed.  There are 3 sites participating in this effort (shown below in the validation tables).  

   * Software: [[http://vdt.cs.wisc.edu/software/dcache/server/][ d-cache on VDT]]

---++ Site Validation Table

%TABLE{ dataalign="left" }%
| *Site Name* | *SRM Version* | *Contact* | *SRM node* | *GridFTP node* | *Storage Location*  |  *Example-URL*  |  [[https://twiki.grid.iu.edu/twiki/bin/view/ReleaseDocumentation/ValidatingDcache][Validation page]] | *Fermilab Test Suite* |
| *LBNL_VTB_* | 2.1.3 | [[Main.JeffPorter][JeffP]]  | osp3.lbl.gov | osp3.lbl.gov  | /pnfs/lbl.gov/data/$your-vo | srm://osp3.lbl.gov:8443/pnfs/lbl.gov/data/sdss/test-file |  %S%  |  %Y%  |
| *UCT_ITB* | 2.1.3 | [[Main.SuchandraThapa][SuchandraThapa]] | uct3-edge6.uchicago.edu | uct3-edge6.uchicago.edu | /pnfs/uchicago.edu/data/$your-vo | srm://osp3.lbl.gov:8443/pnfs/lbl.gov/data/osg/test-file | %S% | %S% |
| *BNL_ATLAS_SE* | 2.1.6 | [[Main.XinZhao][XinZhao]] | grid16.racf.bnl.gov | grid15.racf.bnl.gov | /pnfs/racf.bnl.gov/data/testdir | srm://grid16.racf.bnl.gov:8443/pnfs/racf.bnl.gov/data/testdir/ | %Y% | %S% |

---++  Documentation Links

   * [[https://twiki.grid.iu.edu/twiki/bin/view/ReleaseDocumentation/DCache][Release Documentation]]
   * [[http://vdt.cs.wisc.edu/extras/InstallingDcacheForOSG.html][VDT Dcache for OSG]]
   * README in tar file
   * [[http://www.dcache.org/manuals/Book][post-install customizations]] 
   * Ted's demo at SLAC: [[%ATTACHURL%/dcachedemo.ppt][dcachedemo.ppt]] 

---++  Validation Tools

   * [[https://twiki.grid.iu.edu/twiki/bin/view/ReleaseDocumentation/ValidatingDcache][Validation Documentation Page ]]
   * A set of [[http://vdt.cs.wisc.edu/software/dcache/tools//testing/][Test Tools ]]  (for latest see testtools-0.3.tar.gz)
   * Send email to Alex to request being added to nightly tests

---++  Upgrade Instructions 

   * Download the latest vdt tarball  (See [[http://vdt.cs.wisc.edu/software/dcache/server/][ d-cache server vdt url ]])
   * Untar it
   * Do a clean shutdown - Stop all currently running services, including Postgres and PNFS
   * Restart postgres on all relevant nodes
   * Restart PNFS on PNFS node
   * Run the config-node.pl and install.sh (don't need to run config-node.pl if you want to use an existing site-info.def. In this case, copy old site-info.def to new location)
   * Copy the old (I assume working) Trash.StoragePoolManager.conf file. If needed, edit it. Check settings in dCacheSetup file.
   * Start dcache-core, dcache-pool on relevant nodes



---++  specific problems encountered

   *  Installation fails on a machine with port 8443 already in use (e.g. gums server ...)
   *  Installation on a machine with gridftp already installed and configured in xinetd.d appears to work but does not. 


%STOPINCLUDE%


-- Main.JeffPorter - 21 Feb 2008
   * [[%ATTACHURL%/dcachedemo.ppt][dcachedemo.ppt]]: d-cache demo presentation




%META:FILEATTACHMENT{name="dcachedemo.ppt" attachment="dcachedemo.ppt" attr="" comment="d-cache demo presentation" date="1203554263" path="dcachedemo.ppt" size="1240064" stream="dcachedemo.ppt" user="Main.JeffPorter" version="1"}%
