%META:TOPICINFO{author="KyleGross" date="1225985948" format="1.1" version="1.5"}%
---+!! *<noop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%

Tomcat is very hungry,it likes to eat memory.  There are tomcats now in the canonical VirtualOrganizations/VOInfoMS server installation and the canonical
GUMS server installation, and in the compute node to run CEMon.  First law of Tomcat:
Throw hardware at it.  You cannot have too much RAM.

In the early days of VDT we had problems with our GUMS 1.1 server in particular running out
of memory.  We found it necessary to add the following option to the /etc/rc.d/init.d/tomcat-5 startup 
script.

=export CATALINA_OPTS="-Xms512M -Xmx2048M -XX:-OmitStackTraceInFastThrow -XX:MaxP
ermSize=256M $CATALINA_OPTS"=

This replaced the default =export JAVA_OPTS='-server -Xmx256M'=

We have done some stress testing with GUMS 1.2 as installed from the new VDT and thus 
far the above options have not been necessary for GUMS 1.2/VDT 1.8.1.

For VirtualOrganizations/VOInfoMS and VirtualOrganizations/VOInfoMRS under VDT-1.6.1 and VDT 1.8.1 no special settings for CATALINA_OPTS were necessary.  We run with the default.




%BR%
%COMPLETE3% %BR%
%RESPONSIBLE% Main.StevenTimm - 25 Oct 2007 %BR%
%REVIEW% 
