%META:TOPICINFO{author="TanyaLevshina" date="1193857847" format="1.1" version="1.18"}%
%META:TOPICPARENT{name="ComputeElementInstall"}%
---+!! *<nop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%

%STARTINCLUDE%
%BR%
---+ _%INCLUDEHEADING%  %SPACEOUT{ "%TOPIC%" }%_
%EDITTHIS%
%BR%

---++ Overview of starting services
First, make sure your host certificate is installed completely and properly.  Starting and stopping services is done via the =vdt-control= script. This is a general description of the =vdt-control= functionality.  The examples shown are for a designated VOMRS/VOMS node installation so take that into consideration.

When you do an installation, nothing will be running at the 
conclusion of the install. Source the =$VDT_LOCATION/setup.sh|csh= script. Then you have to run the following command as root to start things up:

<pre class="screen">
# vdt-control --on
</pre>

This will:
   * Copy files into /etc/init.d
   * Configure xinetd
   * Setup cron
   * Start up processes
If vdt-startup finds conflicts (perhaps from an old VDT install) it might decline to do some of the setup. For example, if you already have a voms service in xinetd from an old installation, it would be considered a conflict. You can force it to do the setup with:

<pre class="screen">
# vdt-control --on --force 
</pre>

Or, if there's one service, e.g., mysql, that fails, try:
<pre class="screen">
# vdt-control --off --force mysql
# vdt-control --on mysql
</pre>

There are several times when you might want to shut down the VDT. You should shut down (=vdt-control --off=) before doing a =pacman -update=, if you need to upgrade your system, 

<pre class="screen">
# <b>vdt-control --off </b>
</pre>

You can list all services with the =--list= option:

<pre class="screen">
# vdt-control --list 
Service            | Type   | Desired State
-------------------+--------+--------------
fetch-crl          | cron   | enable
mysql              | init   | enable
vdt-rotate-logs    | cron   | enable
apache             | init   | enable
tomcat-55          | init   | enable
tomcat-5           | init   | enable
voms               | init   | enable
vomrs              | init   | enable
</pre>

For additional information, consult the man pages for [[http://vdt.cs.wisc.edu/releases/1.8.1/man/vdt-control.html][vdt-control]] and [[http://vdt.cs.wisc.edu/releases/1.8.1/man/vdt-register-service.html][vdt-register-service]]. Note that you can view these commands from the command line using the man command:

<pre class="screen">
# man vdt-control 

VDT-CONTROL(8)                 VDT Documentation                VDT-CONTROL(8)
NAME
       vdt-control - Enable and disable VDT services
SYNOPSIS
           vdt-control [options] [service-name(s)]
                       --on
                       --off
                       --force
                       --no-start
                       --list
                       --hel
           Note: The optional service name(s) only apply to --on and --off.
...etc...
</pre>

%STOPINCLUDE%
%BR%
%COMPLETE2% %BR%
%RESPONSIBLE% Main.SuchandraThapa - 25 Oct 2007 %BR%
%REVIEW%
