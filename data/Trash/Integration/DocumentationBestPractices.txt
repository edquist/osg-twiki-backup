%META:TOPICINFO{author="KyleGross" date="1229444156" format="1.1" version="1.17"}%
%META:TOPICPARENT{name="ArchivedDocumentation.ITB.ITB050.DocumentationTable"}%
<!-- This is the default OSG Integration template. 
Please modify it in the sections indicated to create your topic!
If you have any comments/complaints about this template, then please email me:
rwg@hep.uchicago.edu.  (Adapted from Atlas wiki template, Ed Moyse)
--> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->

---+!!<nop>Documentation Best Practices
%TOC%
%STARTINCLUDE%

---++ Introduction
The purpose of this topic is to establish best practices for creating the documentation as we go through the integration process. Contributors to these practices include: Forrest Christian, Robert Gardner, Anne Heavey, David Meyers and John Weigand. 

---++Structuring Conventions
%INCLUDE{ "ArchivedDocumentation.ITB.ITB050.OsgConventions" }%

---++Versioning Conventions
   * The ITB version numbers are always in an odd number series (0.3.n, 0.5.n, ...). 
   * OSG Production version numbers are always in an even number services (0.4.n, 0.6.n, ...).

Currently the ITB series is 0.5.n. It is expected that the culmination of the ITB series 0.5.n will result in the Production release of 0.6.n.

---++Version Practice in the [[CEInstallGuide][OSG CE 0.5.n Installation Instructions]]
[[CEInstallGuide][OSG CE 0.5.n Installation Instructions]] is a large document with many sections that need to be revised repeatedly during the life cycle of software components and services. The practices recommended to maintain the CEInstallGuide are:

   1. We will have a single [[CEInstallGuide][OSG CE 0.5.n Installation Instructions]] _(CEInstallGuide)_ that shows the installation instructions for the latest subrelease. If a previous subrelease has different installation instructions, just note this in-line in this document as a =<nop>%NOTE<note>%=.
   1. A fully versioned sub-section (e.g. OSG 0.5.1) will be created for each incremental release of the "[[CEInstallGuide][OSG CE 0.5.n Installation Instructions]]" under the section titled: "What's getting installed?" This sub-section is expected to be an accurate enumeration of each VDT cache version employed (e.g. 1.4.0) and the version of each component from the VDT (e.g. Condor/Condor-G 6.7.20). Components that are installed from the OSG cache should also be enumerated here. Services managed by xinetd, init.d, and cron should be accurately described for each ITB version.

---++Modularization of the "OSG CE 0.5.n Installation Instructions"
Some of the twiki topics were getting extremely large in size and getting very difficult to edit due to the size.  The [[ArchivedDocumentation.ITB.ITB050.CEInstallGuide]["OSG CE 0.5.n Installation Instructions"]] was the initial one that caused me (Main.JohnWeigand) to take a more modularized approach.  If you go into edit mode on that topic, you will notice that a significant number of the TOC entries are actually twiki INCLUDE directives.   By breaking the various sections down into more manageable pieces, the editing became easier.

However, this created another little problem. How does one find the INCLUDE'd topic you want to change.  This got quite cumbersome as you had to go into 'edit' mode, search for an INCLUDE that looked reasonably named, then cut and paste the name in another window.  Not fun.  Well, thanks to Main.ForrestChristian, you will notice a little "Edit this section" button/link everywhere there is an INCLUDE'd section.  This little twiki trick allows you to go directly into edit mode on the INCLUDE'd topic and make your changes.  

How to use the "Edit this section" feature in an INCLUDE is documented in the [[#Edit_This_Section_Example]["Edit This Section" Example section]] below.

This was the initial motivation behind the use of INCLUDEs.  However, there are other use cases that can make our documentation  easier to maintain and provide more consistency.  Some of these are documented in the [[#User_of_INCLUDE_Directives][Use of INCLUDE Directives section]] below.


---++ Use of INCLUDE Directives
In the sub-sections that follow, some use-cases for the twiki INCLUDE directive are identified along with the rationale for using them.  As like everything else, there are pluses and minuses and we must be very careful not to get carried away as they can fragment the documentation to the point where their use defeats the original purpose of easily maintained and consistent documentation.

---+++Modularizing large TWiki topics
This was the initial motivation for using INCLUDE directives and is documented in the previous [[#Modularization_of_the_OSG_CE_0_5][Modularization of the "OSG CE 0.5.n Installation Instructions" section]].

---+++ Reuse
Modularizing text has the same effect as modularizing code: reuse. What we are doing is creating small libraries of text fragments that can be reused across the TWiki.

---+++Insuring consistency of common topic sections
There are sections in several major topics that should contain consistent content.  Some examples of these are:
   * [[ArchivedDocumentation.ITB.ITB050.InstallationAssistance][OSG Installation Assistance]]
   * [[ArchivedDocumentation.ITB.ITB050.PacmanInfo][Pacman Guide]]
   * Material that needs to appear in both the Integration and OSG Release documentation sets. 

Another use-case for the INCLUDE can be seen with the [[ArchivedDocumentation.ITB.ITB050.GumsHostCron][gums-host-cron file]] twiki that is used in two sections of the [[ArchivedDocumentation.ITB.ITB050.OsgCEAuthorization][OSG CE Authorization]] twiki: once under the Compatibilty mode section and once under the Full Privilege mode section.  In the initial documentation, the Full Privilege reference to its use was a link back to the section under Compatibility mode, but having the documentation in-line in both sections was more desireable.  The only means of accomplishing this and insuring consistency was through use of the INCLUDE feature.  Note that if you look at the bottom of the [[ArchivedDocumentation.ITB.ITB050.GumsHostCron][gums-host-cron file]] topic at the WHU section, it shows that there are two INCLUDE references in the [[ArchivedDocumentation.ITB.ITB050.OsgCEAuthorization][OSG CE Authorization]] topic
   
Without these topics being modularized and incorporated in the parent topic using the INCLUDE directive, maintaining this redundant information was very difficult.

If you click on the links to the bulleted examples above and scroll to the bottom, you will see =Twiki topics containing an "INCLUDE" of this page:= section.  This is a use of an INCLUDE directive (discussed a little later) that allows you to see where this topic is used as an INCLUDE and to go directly to those pages to see the affect of your changes.  For the purposes of  insuring consistent documentation, this should prove very useful  These were sections of the CE and VOMS install guide that were diverging.

---+++ To incorporate common TWiki directives for useful features
<verbatim>
%INCLUDE{ "WhuReferences" }%
</verbatim>

This INCLUDE identifies where a topic is used as an INCLUDE and also has a link to a cross-reference of where this page is explictly linked from. This useful cross-reference can also be found at the bottom of this topic.  It is defined in a separate topic called [[WhuReferences]] and using the INCLUDE directive can be incorporated in every topic.  You can see the results of its inclusion at the bottom of this page.  

This is useful in determining all areas of the OSG documentation being affected by any changes you may be making.

%INCLUDE{"DocBestPracticesEditThisSectionExample"}%


%INCLUDE{ "Integration.DocBestPracticesWhuReferences" }%

---++ Adding Comments to Your Readers Labeled Note, Warning or Important

%INCLUDE{ "DocBestPracticesWarningsAndNotes" }%

---++ Adding Icons to Your Text
By consistently using the same graphic, you can give a skimming user the visual cues to what is important. [[TWiki.TWikiDocGraphics][Several icons are available in TWiki]] and some have been "preset" for easy use:
   * <nop>%H<nop>% = %H% 
   * <nop>%I<nop>% = %I% 
   * <nop>%M<nop>% = %M% 
   * <nop>%N<nop>% = %N% 
   * <nop>%P<nop>% = %P% 
   * <nop>%Q<nop>% = %Q% 
   * <nop>%S<nop>% = %S% 
   * <nop>%T<nop>% = %T% 
   * <nop>%U<nop>% = %U% 
   * <nop>%X<nop>% = %X% 
   * <nop>%Y<nop>% = %Y% 

These are set site-wide in TWiki.TWikiPreferences.



<!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->

<hr/>
*Major updates*:%BR%
<!--Future editors should add their signatures beneath yours!-->
-- Main.RobGardner - 16 Oct 2006<br>
-- Main.JohnWeigand - 25 Oct 2006 - updated the INCLUDE section, Modularization and an "Edit this section" example<br>
-- Main.ForrestChristian - 26 Jan 2007 - added Icons and Notes & Warnings sections.  %BR%

%STOPINCLUDE%

<!-- This INCLUDE produces a WHU cross-reference for this topic -->
%WHU%

---++!! Major Updates
-- Main.JohnWeigand %BR%
-- Main.ForrestChristian %BR%