%META:TOPICINFO{author="AnthonyTiradani" date="1233869684" format="1.1" reprev="1.6" version="1.6"}%
---+!! *%SPACEOUT{ "%TOPIC%" }%*
%TOC%

%STARTINCLUDE%
%BR%
---+ _%INCLUDEHEADING%  %SPACEOUT{ "%TOPIC%" }%_
%EDITTHIS%
%BR%

---++ Gip Configuration Overview
Configuration of the GIP is done through the config.ini configuration file and configure-osg.py. 

---++ Gip Features

---+++ dCache Provider
 The GIP has the ability to query dCache directly for its configuration, allowing admins to avoid hardcoding info. If you need to advertise a dCache storage element (SE) in your Generic Information Provider and your dCache SE version is less than 1.9, please note that you need to follow the instructions at [[InformationServices.DcacheGip][dCache Information Provider]]

---+++ PBS Provider
By default, the GIP advertises that all PBS queues are available to all VOs. This is not correct at many sites - some queues might be VO specific, and some might be dedicated to local users. To correct this, PBS sites should add the following attributes to the [PBS] section of config.ini.

   * =&lt;queuename&gt;_blacklist= - Comma separated list of VO names to exclude from queue <queuename>; * to exclude all.
      * To generate a list of supported VOs for a queue, first the queue's blacklist is generated, then the whitelist is applied.  This way, even if the blacklist is *, some VO might be allowed in it.
   * =&lt;queuename&gt;_whitelist= - Comma separated list of VO names which are always allowed in this queue.
   * =queue_exclude= - Local-user only queues which should not be advertised to the grid.

---+++ Configuring to publish GUMS information
 GIP is now automatically configured to to publish GUMS service status information. For more details, please look at [[http://vdt.cs.wisc.edu/releases/1.10.1/notes/GUMS.html]]

If you want to overwride the default behavior (i.e. you do not want GIP to publish status of your GUMS system), then set
<verbatim>
advertise_gums=True
</verbatim> in config.ini in the [GIP] section.

---+++ Counting VMs in "Owner" State in Condor Batch system
 By default owner VMs are counted for the total CPU numbers published by GIP. According to Condor definition an Owner state implies "The machine is being used by the machine owner, and/or is not available to run Condor jobs". But technically it could be available in the future, for this purpose, GIP counts this field to determine total CPUs on the system, but it does not count this for the available CPUs or available slots. But some sites have been using this "Owner" state to create shadow pools which will be never available and should not be counted as a part of total CPUs.

In order to tell the GIP not to count the CPUs in "Owner" state for the total CPU count a site administrator should add the following line
<verbatim>
subtract_owner=True
</verbatim> to config.ini in the [CONDOR] section.
%STOPINCLUDE%
%BR%

%INCLUDE{"ConfigurationFileGIP"}%
%BR%

%COMPLETE1% %BR% 
%RESPONSIBLE% Main.AnthonyTiradani - 03 Jul 2008 %BR% 
%REVIEW%
