%META:TOPICINFO{author="KyleGross" date="1476285005" format="1.1" version="1.3"}%
%META:TOPICPARENT{name="SquidReadinessPlan"}%
<!-- This is the default OSG Trash/Integration template. 
Please modify it in the sections indicated to create your topic!
If you have any comments/complaints about this template, then please email me:
rwg@hep.uchicago.edu.  (Adapted from Atlas wiki template, Ed Moyse)
--> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->

---+!!<nop>%TOPIC%
%TOC%
%STARTINCLUDE%

---++ Introduction
The goal of this page is to layout the requirements for squid integration into the OSG software stack and the necessary validation needed to insure that it is properly functioning within the stack.  <a href="http://www.squid-cache.org/">Squid</a> is a caching web proxy for http traffic. Squid's inclusion into OSG has been requested by CDF and CMS in order to minimize the network traffic and cpu load generated by jobs and improve startup times.

---++ Use Cases
   * !FroNTier caching -- squid would cache calibration data for !FroNTier and allow jobs to avoid having to go to an outside network to obtain     this information.  Objects cached would be small but the startup is latency sensitive so squid would greatly improve job startup times.  Used by ATLAS and CMS.
   * CDF grid jobs -- jobs have tarballs of 10s to 250MB in size.  Clusters receive several hundred jobs that share the same tar file.  In this instance, squid would decrease startup times and decrease network load.  Used by CDF.
   * crl list caching ?

---++ Configuration
   * Squid is currently in VDT 1.5.2, and if enabled, is configured to use half of the memory and disk space on the server for memory and disk cache.
   * Need to modify configure-vtb.sh to enable squid and make any modifications to the configuration
   * Setup OSG_SQUID variable to allow jobs to enable http proxy use.
   * Open questions: how large should caches be?  Allow user to specify this in configure-vtb script?  Cache replacement algorithm to use?

---++ Validation and Testing
   * Verification of local installation and operation.
   * Site level validation:  using proxy download a large tarball several times and verify that the file is cached and was only downloaded once . 
   * Application test: verify CDF glideins start and run ( Need procedure or instructions on doing this.  Can this be automated?)

---++ Timeframe
    * Ideally wanted in OSG 0.6.0

   


-- Main.SuchandraThapa - 15 Dec 2006