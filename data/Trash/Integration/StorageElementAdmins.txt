%META:TOPICINFO{author="MarcoMambelli" date="1142971824" format="1.0" version="1.20"}%
%META:TOPICPARENT{name="WebHome"}%
---+!!<nop>%TOPIC%
%TOC%
%STARTINCLUDE%


---++ Introduction
This page contains how-to guides and other necessary information for setting up a Storage Element or testing a Storage Element Implementation.

*What is a Storage Element ?* 
		
		A SE on OSG is a node/cluster of nodes which

	* Provides Storage Space.
	* Is accessible to applications running on OSG through either gridftp and/or srm interface. 
	* Has GIP setup and configured properly which publishes its information.
	* Has well-defined policy for cleanup and usage.
	* Is registered with OSG.

	Graphical view available at [[http://osg.ivdgl.org/twiki/pub/Storage/WebHome/WhatisaSE.bmp][WhatisanSE.bmp]]

Please do not confuse a Storage Element (described above and independent from any CE) with CE-Storages described in Integration.LocalStorageRequirements. These last ones are part of a CE and finctional to it, these (by themself) do not provide outside access to the storage space. To be able to acces the space of a CE-Storage from outside a Computing Element, usually a Storage Element is used. They may access the same storage (physical disk or tape space) but they are two distinct resources, described in different elements of the GLUE Schema. The first one within the CE, the second one in the SE. The elements in the CE-SE binding alow to connect them together and specify which SE is accessing the same storage space (disk or tape) served by a CE-Storage.

---++ Types of Storage Elements
d56 1
---+++Gridftp-based File System 

		A GridFTP based SE is simply a directory accessible via GSI-authenticated ftp.
This provides no space management functions and limited permission management functions.
In LCG this is called also "Classic SE".
The definition is quite loose. To specify it you need an end-point: host and port of the server and base directory. The whole directory tree under it is part of the SE. There may be even overlapping SEs if one base directory is a subdirectory of another or if there links between the two trees.


All CE-Storages (e.g. $DATA) of Grid3 or earlier versions of OSG were implemented this way. 
An example of Gridftp based SE used to provide outside acces to a CE-Storage is presented in LocalStorageRequirements#OSG_DATA
		From OSG CE Install Guide: 
		"The data directory will be required to be shared from the head node (gatekeeper node) to each of the worker nodes. This will be the directory to which applications will write input and output data files for running jobs. This directory should be writable by all users. Users will be able to create sub-directories which are private, as provided by the filesystem. At least 10G byte of space should be allocated per worker node."
	  [[http://osg.ivdgl.org/twiki/bin/view/Integration/LocalStorageRequirements#DATA][Description of $DATA]]
---+++SRM/Gridftp-based File System
		A GridFTP based SE is simply a directory accessible via GSI-authenticated ftp and [[http://sdm.lbl.gov/srm-wg/][SRM]] interfaces.
SRM allows to manage and query the resource but the possibility to access files directly breaks the constraints put by SRM by allowing a backdoor.


---+++SRM/dCache

For information on dCache, see [[http://www.dcache.org/manuals/index.shtml][dCache documentation]].

---+++SRM/Drm

Documentation and manual for SRM/DRM v1.2.9 is available on http://sdm.lbl.gov/srm-dist.
Support available through srm@lbl.gov.
%ENDSECTION{ "TypesOfStorageElements" }%
---++ Setup of Storage Element (SE)
---++ Setup of Storage Element (SE)
For information about CE-Storages ($DATA, ...) and their configuration please refer to LocalStorageConfiguration and LocalStorageRequirements (for requirements and specification).

---+++ How to Setup SE based on Gridftp-based File System
This involves creating a data directory ($DATA) and mounting it on all worker nodes so the storage is accessible to applications running on that site via some environment variables.
Making a Gridftp-based File System that is also a CE-Storage (like OSG_DATA) involves creating a data directory and mounting it on all worker nodes so the storage is accessible to applications running on that site via some environment variables. The SE (host, port, path) has then to point to the same data directory.

---+++ How to Setup SE based on Srm/dCache
Srm/dCache is not directly supported by OSG please see dCache documentation at [[http://www.dcache.org/manuals/index.shtml][dCache documentation]].

---+++ How to Setup SE based on Srm/Drm
[[http://sdm.lbl.gov/srm-dist/client/][Srm/Drm Installation and Configuration]]

---+++ How to Setup Generic Information Provider (GIP)
To configure this component, see the 
<a href="http://osg.ivdgl.org/twiki/bin/view/Provisioning/GenericInformationProviders">
Generic Information Providers</a> document in this guide.

	  
 
		[[Integration.LocalStorageConfiguration][Configure "CE Storage"]]
      [[Integration.LocalStorageConfiguration][Configure "CE Storage"]]

		[[Integration.LocalStorageUse][Access Storage on OSG]]
      [[Integration.LocalStorageUse][Access Storage on OSG]]

		!SRM-TESTER is available to test SRM based storage sites as well as popular file transfer protocol such as gsiftp, http or ftp, based storage sites. SRM-TESTER is integrated into the [[http://www.ivdgl.org/gridcat/home/][GridCat]] and also available as a stand-alone tester. SRM-TESTER can be installed through VDT pacman, or downloadable from http://sdm.lbl.gov/srm-dist.
      !SRM-TESTER is available to test SRM based storage sites as well as popular file transfer protocol such as gsiftp, http or ftp, based storage sites. SRM-TESTER is integrated into the [[http://www.ivdgl.org/gridcat/home/][GridCat]] and also available as a stand-alone tester. SRM-TESTER can be installed through VDT pacman, or downloadable from http://sdm.lbl.gov/srm-dist.

The SRM Client Tools are an optional module in the OSG Cache. They are supported by the SRM-dCACHE team srm@lbl.gov.
%STARTSECTION{ "SetupOfStorageElements" }%

	* Provisioning.SrmDrm - Information about the SRM/DRM SE implementation.
	* Provisioning.GlueOSG - Glue Schema description
	* Provisioning.LocalStorageRequirements - Local storage definitions
	* Provisioning.LocalStorageConfiguration - Configuring CE Storage
	* Provisioning.LocalStorageUse - Using Storage on OSG
   * Provisioning.LocalStorageConfiguration - Configuring CE Storage
   * Provisioning.LocalStorageUse - Using Storage on OSG



 <!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->

*Major updates*:%BR%
<!--Future editors should add their signatures beneath yours!-->
-- Main.NehaSharma - 09 Nov 2005<br>
-- Main.RobGardner - 26 May 2005<br>
-- Main.BurtHolzman - 04 Jan 2006<br>
-  Main.JohnWeigand - 13 Jan 2006<br>

%META:FILEATTACHMENT{name="WhatisaSE.png" attachment="WhatisaSE.png" attr="" comment="What Is a Storage Element? graphic (PNG)" date="1159562406" path="WhatisaSE.png" size="88086" stream="WhatisaSE.png" user="Main.ForrestChristian" version="1"}%
