%META:TOPICINFO{author="JeffPorter" date="1215034853" format="1.1" version="1.6"}%
%META:TOPICPARENT{name="SiteFabricBestPractices"}%
%LINKCSS%

<!-- This is the default OSG Integration template. Please modify it in the sections indicated to create your topic! --> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->

---+!! %SPACEOUT{ "%TOPIC%" }%
%TOC%

%STARTINCLUDE%
%EDITTHIS%
Included here are some details that are needed to get an SGE batch system to run on the grid.

   * Prior to installing Globus-SGE-Setup make sure that your environment points to the appropriate SGE installation. This is usually done by sourcing the SGE setup file =/path-to-sge/common/settings.sh= . This should define the variables $SGE_ROOT and $SGE_CELL. 
   * For Gratia to work "accounting" must be turned on: <pre class=screen><b>$qconf -mconf</b> 
...snip... 
reporting_params  	accounting=true, ...
... snip ...
</pre>
   * For WS-GRAM to work "reporting" must be turned on <pre class=screen><b>$qconf -mconf</b> 
...snip... 
reporting_params  	..., reporting=true, ...
...snip...
</pre>

   * As of OSG 1.0 release, the SGE-GT4 adaptor handles rotating the =reporting= file when the rotation follows the SGE standard model of <pre class=screen>
<b>reporting</b> is current file
<b>reporting.0</b> is previous file
...snip...
<b>reporting.9</b> is oldest file
</pre>  
      * This feature is also included in upgrades to OSG 0.8 (VDT-1.8.1m)
      * WS-GRAM will not work if SGE's ARCO service is also being run on the installation as that tool deletes the =reporting= file with each read.  The effect is that jobs are submitted and pass thru the  batch system but GRAM never registers that the submission occurred. 


%STOPINCLUDE%
%BR%
%COMPLETE3% %BR%
%RESPONSIBLE% Main.StevenTimm - 23 Oct 2007 %BR%
%REVIEW% %BR%
%REVCOM% 