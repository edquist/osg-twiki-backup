%META:TOPICINFO{author="MarcoMambelli" date="1257961416" format="1.1" version="1.13"}%
---+!! %MAKETEXT{"Welcome to the [_1] web" args="<nop>%WEB%"}%
This page documents a variety of setup and configuration options that are likely to be used by US Atlas and CMS Tier3 sites and is intended to be used in support of Atlas and CMS specific site configurations that will be posted on designated Atlas and CMS wikis. When complete, the following documentation will be reviewed by the development teams to ensure that these instructions follow best practices as recommended by the developers and the VDT team. Components include:

| | Bestman |
| Compute Element | GridFTP gateway | RSV | XROOTD | Hawkeye | Quill |
| Cluster Manager (TBD) | Condor via Tarfiles | Condor via RPMs | 
| SL 5.3 or 5.4 |

---++ Documentation
More information coming soon!
This section is currently a work in progress with mainly a skeleton and links to related documents. 

This section will describe how to deply a simple Tier 3 cluster starting from the OS and building different components on top of it.
The documents are in a hands-on format and present tested examples based on specific choices. Anyway reference documents are cited to allow users to do something different.


---+++ Getting started

---++++ Site planning
SitePlanning - presents information on possible configurations  

---++++ Base systems
Hosts are supposed to have an operating system.
The chosen OS is Scientific Linux 5.4, a linux distribution based on RHEL 5.4 (version numbers match)
[[https://www.scientificlinux.org/news/sl54][Here]] you can find more information about SL and [[https://www.scientificlinux.org/download][download]] the distribution.

There are several methods to install the OS.
   * Starting from installation media
   * Using a kickstart file
   * Using a cluster management system
   * ...
Here are some examples
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/UsbKeysetup
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/BNLKickStart
   * http://hep-t3.physics.umd.edu/HowToForAdmins.html#rocks                                                                                                                                                                                    
   * http://www.rocksclusters.org/roll-documentation/base/5.2/

Links:
   * virtualized http://twiki.mwt2.org/bin/view/Admins/VMwareServerLaptop

---++++ Customization of the base system
Here are documents about the OS and cluster customization like user accounts, a shared file system, ...

Links:
   * ReleaseDocumentation.ClusterGettingStarted
   * ReleaseDocumentation.ClusterNetworkConfiguration
   * Setup SSH public key infrastructure: ReleaseDocumentation.ClusterConfigureSSH
   * Setup an NFS server: ReleaseDocumentation.ClusterNFSServer
   * Creating user accounts: ReleaseDocumentation.ClusterCreateAccounts
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/Setupnfsv4Servermachine
      * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/KickstartFilenfsv4Servermachine
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/GetHostCertificate
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/UseraccountManagement
   * 

---+++ Distributed file system 
xrootd

Links:
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/XrootdStandAlone
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/GridFTPXrootd
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/XrootdGridftpports

---+++ Quick Guide for setting up a Condor Cluster
Condor 7.4

Condor on shared FS using TAR file distribution

Condor via RPMs installed locally on the hosts (Condor RPMs or Rocks)

Adding a service job slot, e.g. for software installation 

Hawkeye monitoring 

Quill for job monitoring

Interesting notes about file staging

Links:
   * Install Condor job management system: ReleaseDocumentation.ClusterCondorInstall
   * http://hep-t3.physics.umd.edu/HowToForAdmins.html#rocks
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/CondorInstallation
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/CondorHawkeye
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/ThroughputCleanup

---+++ Cluster monitoring

Ganglia -notes. In theory distributed as RPM. The x86_64 is dated 4/2006 (Orville), the most recent RPM is 9/2008 (Wien)

Links:
   * http://ganglia.sourceforge.net/

---+++ User client

Links:
   * SiteCoordination.GridClientTutorial
   * ReleaseDocumentation.GridCertificateRequestTutorial
   * ReleaseDocumentation.RequestVOMembershipTutorial
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/SoftwareInstallation

---+++ Worker node client

Links:
   * https://twiki.grid.iu.edu/bin/view/ReleaseDocumentation/WorkerNodeClient

---+++ Grid users authentication
There are 3 options:
   * use a gridmap file
   * rely on an external GUMS server
   * install a GUMS server

Links:
   * ReleaseDocumentation.GUMSHandsOn
   * ReleaseDocumentation.InstallConfigureAndManageGUMS
   * ReleaseDocumentation.GridColombiaInstallGUMS

---+++ Installing a CE
Installing the OSG CE

Links:
   * ReleaseDocumentation.InstallCETutorial

---+++ Installing a SE
Installing GridFTP

Installing BeStMan SRM Gateway

Links:
   * ReleaseDocumentation.BestmanGateway
   * ReleaseDocumentation.InstallSETutorial
   * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/SetupSE
      * https://atlaswww.hep.anl.gov/twiki/bin/view/Tier3Setup/ThroughputCleanup

---+++ Installing RSV
 
---+++ Squid Web proxy

---+++ Network performance

Links:
   * ReleaseDocumentation.NetworkPerformanceToolkit
   * ReleaseDocumentation.NetworkPerformanceTutorial

---++ %MAKETEXT{"Available Information"}%
   * ...
   * ...
   * ...
 
---++ <nop>%WEB% Web Utilities
<form action='%SCRIPTURLPATH{"search"}%/%WEB%/'>
   * <input type="text" name="search" size="22" />&nbsp;<input type="submit" class="twikiSubmit" value="%MAKETEXT{"Search"}%" /> - [[WebSearchAdvanced][%MAKETEXT{"advanced search"}%]]
   * WebTopicList - all topics in alphabetical order
   * WebChanges - recent topic changes in this web
   * WebNotify - subscribe to an e-mail alert sent when topics change
   * WebRss, WebAtom - RSS and ATOM news feeds of topic changes
   * WebStatistics - listing popular topics and top contributors
   * WebPreferences - preferences of this web
</form>

