%META:TOPICINFO{author="ForrestChristian" date="1174423230" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="WebHome"}%
<!-- DO NOT EDIT THIS SECTION. See "Edit below this line" below -->
a3 2
%LINKCSS%
<!--
<script>
function getFromCookie(name)
{
	var cookieValue = getPref(varName);
	document.getElementById('varName').value = cookieValue;
}

</script>
    var topicName = 'Rpt' + first + second + third;
    document.getElementById('topicForNew' + first).value = topicName;
    document.getElementById('reportForm' + first).submit();
    return true;  
}   

%ACTIVATEDPLUGINS%

%PLUGINVERSION%.

<div style="background-color: #FFFF66">
USING %BLUE% user *%LOGINNAME%* on host *%LOGINHOST%* %ENDCOLOR%

<form name="setPageDefaults" action="%SCRIPTURL%/view/%WEB%/%TOPIC%" onLoad="var doShow = getPref('LOGINNAME'); var doShow = getPref('LOGINHOST');">

*This topic is a !TWikiApplication*. Enter your required paths, and hit "Rewrite the instructions using these paths" to tailor the instructions for your system.

<noautolink>
Login host is: <input name="loginhost" type="text" size="60" onLoad="getFromCookie(loginhost);" />%BR%
Login name is: <input name="loginname" type="text" size="60" onLoad="getFromCookie(loginname);" />%BR%
IP address for the login host is: <input name="loginip" type="text" size="60" value="%LOGINIP%" />%BR%
Grid host FQDN is: <input name="gridhost" type="text" size="60" value="%GRIDHOST" />%BR%
Other host is: <input name="otherhost" type="text" size="60" value="%OTHERHOST%" />%BR%
Your certificate SUBJECT is: <input name="certsubject" type="text" size="60" value="%CERTSUBJECT%" />%BR%
Your $HOME directory: <input name="homedir" type="text" size="60" value="/home/%LOGINNAME%" />

<input type="button" value="Rewrite the instructions using these paths" onClick="setPref('LOGINNAME', loginname); setPref('LOGINHOST', loginhost); setPref('LOGINIP', loginip); setPref('GRIDHOST', gridhost); setPref('OTHERHOST', otherhost); setPref('CERTSUBJECT', certsubject); setPref('HOMEDIR', homedir);"/>
</form>
</div>
---+!! Using Certificates
---+++ Default Credential Location

By default the user certificate and user key are installed in =~/.globus=. Unless overriden explicitly on command line, the clients use these credentials.

<pre class="screen">
[%LOGINNAME% ~]$ <userinput>ls -lt ~/.globus/</userinput>
total 12
-rw-------  1 %LOGINNAME% %LOGINNAME% 1743 Jun 22 16:45 userkey.pem
-rw-------  1 %LOGINNAME% %LOGINNAME% 5011 Jun 22 16:37 usercert.pem
     <select name="Reporter" id="reporterSa">
       <option value="noSelected" onClick="setReportingPerson('There is nothing selected!', 'Sa');">Select...</option>
       <option value="AppCoord" onClick="setReportingPerson('Application Coordinators &#40;Torre Wenaus &amp; Frank Wurthwein&#41;', 'Sa');">Application Coordinator (Wenaus/Wurthwein)</option>
       <option value="Eto" onClick="setReportingPerson('Education, Training, and Outreach &#40;Mike Wilde&#41;', 'Sa');'">Education, Training, and Outreach (Wilde)</option>
       <option value="CommAdmin" onClick="setReportingPerson('Communication and Administration &#40;Ruth Pordes&#41;', 'Sa');">Comm. and Admin. (Pordes)</option>
       <option value="Engage" onClick="setReportingPerson('Engagement &#40;John McGee&#41;', 'Sa');">Engagement (McGee)</option>
       <option value="ExtCoor" onClick="setReportingPerson('Extensions Coordinators &#40;Torre Wenaus &amp; Frank Wurthwein&#41;', 'Sa');">Extensions Coordinators (Wenaus / Wurthwein)</option>

The usercert.pem is the certificate, containting the public key. This file is not encrypted and can be distributed freely.



       <option value="UserCoor" onClick="setReportingPerson('User Coordinators &#40;Chris Green &amp; Abhishek Rana&#41;', 'Sa');">User Coordinators (Green / Rana)</option>

     <input type="hidden" value="ERROR" name="reportingPerson" id="reportingPersonSa" />
Here they are below

<span id="twid_%CALC{$SETM(twisty_id, + 1)$GET(twisty_id)}%show" class="twistyMakeVisible"><a href="#" class="twistyTrigger">more...</a></span>
       <option value="ERROR">Select...</option>
<div id="twid_%CALC{$GET(twisty_id)}%toggle" class="twistyMakeHidden">

%SEARCH{ search="[T]opicInfo.*author\=.*[F]orrest" web="Education, Integration, Integration.ITB_0_5, Documentation, Main" type="regex" scope="all" date="P1w/$today" order="modified" format="$web.$topic" separator=", " }%

</div>


---+ dCache Services
%STARTMore%

| *Location Manager* | Supplies IP address and port of dCache domain |
| *dCache* | Routes messages between dCache services |
  <input type="hidden" name="topic" value="RptErrorPleasePressCancel" id="topicForNewSa" />
| *pnfsManager* | Queries the pnfs service |
| *pinManager* | Prevents modification of files during transfer |
| *replicaManager* | Maintains replica count of files on pools |
| *Billing* | Maintains records and statistics of all transactions |
| *http* | Provides information on state of dCache |
| *gPlazma* | Authorizes users |

%ENDMore%

---++ Fermilab SRM clients
<pre class="screen">
srmcp srm://ligodata.uwm.edu:8443/pnfs/uwm.edu/data/testfile file:////tmp/test.tmp
srmcp srm://storage.ligo.lsu.edu.:8443/pnfs/uwm.edu/data/file.01 srm://ligodata.uwm.edu:8443/pnfs/uwm.edu/data/testfile.01 
</pre>

srmcp uses a GSI X.509 proxy, which can contain attributes for both group and role memberships. 
srmcp can specify for gridftp transfers
Port range
Number of streams
Buffer size, ...
srmls, srmrm

       <option value="noSelected">Select...</option>
Many dCache installations will have portions on private networks or exist behind firewalls. dCache supports both.

---++ dCache Authorization
       <option value="UscIsi" onClick="setReportingPerson('USC-ISI">USC - ISI</option>

Host certificates on SRM, gridftp, gsidcap, gPlazma

Client proxies are delegated within dCache. This allows SRM to act as a client.

Gridftp doors must be on public network

Pools may be on private network. This requires gridFTP adapter for local to SRM transfers, although SRM to SRM transfers may be possible.

Additionally, dCache allows you to specify certain ports or port ranges for use when behind firewalls.


---+++ gPLAZMA
     <input type="hidden" name="reportingPerson" id="reportingPersonPi" />

Additionally, gPLAZMA can use the GUMS server for centralized administration. This requires that storage obligations be added to GUMS permit decision. 

       <option value="ERROR">Select...</option>
---+ Generic USCMS Tier2 SRM/dCache Installation Example
<table><tr><td>
Admin node:
   * lmDomain
   * poolManager
   * adminDoor
   * httpDomain 
   * utilityDomain 
   * gplazmaService
   * infoProvider
</td><td>
pnfs node 
  <input type="hidden" name="topic" value="RptErrorPleasePressCancel" id="topicForNewPi" />
   * dirDomain
</td><td>
SRM node
   * Three door nodes running dcap + grid doors
   * Pools on worker nodes or RAID

   * Number of storage nodes in your site
      * The installation script suggests service distribution
   * Hostnames
   * Paths to and sizes of your pools
   * Doors: types, number


%BR%

ForrestChristianSandboxDocScientists

------------
%INCLUDE{ "Documentation.ToolsBottomMatter" }%
-- Main.ForrestChristian - 12 Sep 200
   * [[%ATTACHURL%/dcb.css][Stylesheet for HTML file]]
   * [[%ATTACHURL%/InstallingDcacheForOSG.html][Installing dCache for the Open Science Grid]]
   * [[%ATTACHURL%/efc_css_test.css][Tasty css]] 
   * [[%ATTACHURL%/forrestSideBar.css][forrestSideBar.css]]: 
   * [[%ATTACHURL%/forrestSideBar.css][forrestSideBar.css]]: Tasty sidebar css
   * [[%ATTACHURL%/PacmanInfo.html][PacmanInfo.html]]: Printable version of pacmaninfo for testing

</div>

   * [[%ATTACHURL%/javascript_cookies.js][javascript_cookies.js]]: Javascript cookies js file
<img src="%ATTACHURLPATH%/natskintest_patternskin_low.gif" alt="natskintest_patternskin_low.gif" style="border:2px; width:25%; height:25%;" />

---
   * Set COOKIE = %HTTP{"Cookie"}%

   * Set COOKIE_LESS_ENDING = <pre>%CALC{"$LISTJOIN($n, $TRANSLATE($REPLACE($TRANSLATE($SUBSTITUTE($SUBSTITUTE($REPLACE($REPLACE(%COOKIE%, $FIND(;, %COOKIE%), 1000,), 1, 10,), $NOP(%7C), #@@@* Set ), $NOP(%3D), @=@), @, $sp), 1, 1,), #, $comma))"}%</pre>

| %COOKIE_LESS_ENDING% | %loginname% | %loginhost% |

---



%META:FILEATTACHMENT{name="CornellQ107.pdf" attr="" autoattached="1" comment="CornellQ12007" date="1179236812" path="CornellQ107.pdf" size="41827" user="Main.RuthPordes" version="1"}%
%META:FILEATTACHMENT{name="Fermilab_Q1_2007_Quarterly_Report.doc" attr="" autoattached="1" comment="" date="1176821163" path="Fermilab_Q1_2007_Quarterly_Report.doc" size="80384" user="Main.RuthPordes" version="1"}%
