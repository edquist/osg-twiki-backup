%META:TOPICINFO{author="GregorySharp" date="1169562132" format="1.1" version="1.1"}%
%META:TOPICPARENT{name="GregSharp"}%
*dCache release*: 1.7

*Change Request*:

The dCache probe for Gratia searches the =billinginfo= table for records that have arrived since the last time it sent an update. It also joins the =billinginfo= and =doorinfo= tables using the =transaction= column. These tables are expected to grow to hold millions of records at each site. Adequate performance on large tables would be enhanced by an index on the =(datestamp, transaction)= fields of the =billinginfo= table and on the =transaction= field of the =doorinfo= table.

It seems likely that these changes could be made with an ALTER TABLE command for those who already have a Postgres billing database. For those new sites, the java code that generates the tables could be modified to create the indices when the tables are created.


-- Main.GregorySharp - 23 Jan 2007