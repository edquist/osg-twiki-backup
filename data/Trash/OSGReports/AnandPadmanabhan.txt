%META:TOPICINFO{author="JamesWeichel" date="1326840094" format="1.1" version="1.12"}%
%META:TOPICPARENT{name="OSGIndividualEffortReports"}%
---+!! Effort reports from Anand Padmanabhan
%TOC%

My work tends to fall under the following [[http://projects.fnal.gov/osg/WBS/changeControl/WBSFromProjectPlan.htm][OSG WBS]] entries:
 
   * 1.4: Troubleshooting
   * 1.1.4.1 Troubleshoot end-to-end problems
   * 1.1.4.1.1 Implement & test solutions to problems
   * 1.1.4.1.2 Test & deploy troubleshooting utilities

---++ Period: September 2007
   * Completed work with Jing on Discovering and Troubleshooting OSG Sites.
      * Her application (based on R) runs successfully on a large number of OSG sites.
      * GOC tickets resolved.
      * Guided Jing with best practices of using OSG storage.
      * Communicated with swift developers to resolve issues.
   * Helped resolve production issues with OSG information services.
      * Patches to GIP is planned for VDT 1.8.1
   * Helped the GOC to resolve BDII issues on their ITB environment.
      * Identified and provided solution to fix this issue.
      * The ITB BDII was publishing stale information since bdii-update was not running.
      * Worked with GOC to come up with a plan to prevent re-occurrence.
   * Attended OSG Troubleshooting, Integration, Operation and VDT office Hours 
---++ Period: August 2007
   * LIGO workflow problem: Using the intrumentation in  the jobManager code Condor team confirmed that the problem was occurring due to a race condition between Condor-G !GridManager and Globus. A patch was developed by both Globus and Condor team, for their respective code. I then proposed a test suites, that would properly evaluate the solution. The suite not only evaluated the correctness of the patches, but also evaluated the performance of the Condor-G patch individually so as to provide ligo with a temporary workaround on the submit side. We also tested both the patches together and recommended the solution to be included in OSG 0.8.0.  Details: [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/LigoMkdir]]
   * Worked with Parag, Jaime, Charles and Micheal to resolve a communication issue between Condor-G and Globus reported by D0. The problem was traced to Condor !Documentation/Release3.GridMonitor using the perl libraries (XML:Parser) from the system, rather than the OSG directory. Since Condor-G did not have a easy way of using OSG perl libraries, current we asked the sites to install XML:Parser in their system perl. Details: [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/GlobusCondorGJobStatus]]
   * Work with Jing from OSG VO  on the Discovering and Troubleshooting OSG Sites' Problems through User-Level Tests. Opened few tickets with GOC to allow access to OSG VO at various sites. Tickets 3913, 3952, 3953, and 3954 record the issues. Details: [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/TroubleshootingOSGSites]]
   * Attended OSG Troubleshooting, Integration, and VDT office Hours 

---++ Period: July 2007
   * Problems from the Campaign:
      * Firewall issue reported by user support was resolved. Details: [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/FirewallIssue]]
      * LIGO workflow problem. It appears that the stdout is getting transfered twice thereby getting a 0B output file. I prepared a site to test the problem as well as implement and test and solutions on. I also added instrumentation to the jobManager code to get detailed logs. Details: [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/LigoMkdir]]
      * Debugging issue relating to communication between Globus and CondorG. Worked with mainly Parag, Michael and Jaime on this issue. Details: [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/GlobusCondorGJobStatus]]
   * Attended the OSG user/VO and Site Admin meeting at FNAL
   * Attended OSG Troubleshooting, Integration, and VDT office Hours 
---++ Period: June 2007
   * Problems from Campaign:
      * Helped USCMS - T3 site admin at uscms1.fltech-grid3.fit.edu. He has problems with CE gatekeeper and gsiftp issues.
      * LIGO WFs failing. Problem was traced to a missing/overwritten stdout. Condor ticket #15710 opened.
      * Worked on firewall issue reported by user support group
   * Developed a userlevel troubleshooting tool, that is intended to facilitate self troubleshooting. This tool is in alpha stage and available at [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/AutomationTool]]
   * Attended OSG Troubleshooting, Integration, OSG Storage and VDT office Hours
---++ Period: May 2007
   * Continued to help DZero VO with the reprocessing runs, troubleshooting problems as and when they occur. The runs have become much more stable, with a high number of events per day being processed on OSG.  
   * Worked on a number of problems reported through the campaign.
      * LIGO user having problem running job on one sub-cluster of FNAL_FERMIGRID1
   * Wayne finally figured out that the problem was with STAR BNL as resulting due to a bug in xinit.d the comes with RedHat Enterprise 3 and 4, that potentially caused the race condition. This problem was only noticed when connections were made across a cisco firewall
   * Attended OSG Troubleshooting, Integration, and VDT office Hours
---++ Period: April 2007
   * Worked with a number of OSG sites to get Dzero reprocessing jobs. Most time spent with troubleshooting and debugging specific problems on individual sites.
      * Details of the work on any particular week can be found at
         * [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/MeetingApr2#D0_Discussions]]
         * [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/MeetingApr9#D0_reprocessing_progress]]
         * [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/MeetingApr16#D0_reprocessing_update_and_next]]
         * [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/MeetingApr23#D0_reprocessing]]
         * [[https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/MeetingApr23#D0_reprocessing]]
   * Continued follow up with Wayne from STAR. Looked at logs as well as some TCP dumps provided by Wayne. Network/Firewall experts from BNL have been consulted.
   * Attended OSG Troubleshooting, Integration, and VDT office Hours
---++ Period: March 2007
   * Attended all hands meeting at San Diego
      * Presented on the experience from STAR troubleshooting in the Effectiveness of the OSG Facility session
   * Started troubleshooting [[Troubleshooting.TroubleshootingDZero][DZero efficiency problems]]
      * At grid1.oscer.ou.edu problem resolved by SAMGrid using Condor-G 6.8.4
      * UFlorida sites (ufgrid01.phys.ufl.edu, ufgridpg.phys.ufl.edu) had mostly SAM related failures, trying to get the input file to process, network failure
      * Dcahce issues at SPARCE are under investigation 
      * OSG related failure are down, but SAM storage related failures still exist.
         * Proposed use of OSG_APP directory to stage in executable.
         * GIP already published information from grid3-locations.txt. This can be exploited by DZero to learn where application software have been installed.
         * Suggested the use of this method to DZero  to relieve some load on the storage.
   * Identified [[Troubleshooting.StorageElementBestPractices][best practices of using storage element on OSG]].
   * Prepared a draft providing a [[Troubleshooting.Efficiency][Guideline for Communicating Failure Rate and Efficiency]].
   * Participated extensively on the GIP Attributes subcommittee.
      * Produced [[Main.GIPAttributes][GIP attributes page]] and helped identify critical attributes. 
      * Meeting minutes can be found here: [[Integration.MinutesAttributesMar13][March 13]], [[Integration.MinutesAttributesMar20][March 20]].
   * Attended OSG Troubleshooting, Integration, and VDT office Hours
---++ Period: February 2007
   * Continue work with STAR VO representatives
      * Identified potential firewall issues
      * Problem moved to STAR's court
   * Met with !DZero folks to better understand problem
   * Documented possible issue with [[Troubleshooting.OfficialDownResource][site usability]]
   * Fixed bugs relating to OSG-GIP reported during the Integration activity
      * E.g. Needing to update !GlueHostNetworkAdapterOutboundIP attribute in VDT 1.6.1a
   * Attending OSG Troubleshooting, Integration, and VDT office Hours 
---++ Period: January 2007
   * Worked on troubleshooting [[Troubleshooting.TroubleshootingStar][STAR efficiency problem]]
   * Worked with representatives of STAR VO to troubleshoot this issue.
   * Proposed stress tests in order to debug the identify the source of the problem.
      * Identified that the problem is associated with file (input/output) transferring using SRM/DRM
      * The problem was not reproduced when SRM/DRM was replaced by globus-url-copy for test purpose. 
   * Coordinated with the VTB team to test the fix outlined for the troubleshooting problem (of Correctly Publishing and Mapping VO's on CE's) has been properly integrated.
   * Attending OSG Troubleshooting, Integration, Virtual ITB workshop, and VDT office Hours 
	
---++ Period: December 2006
---+++ Description:

My current work includes:
   * Addressing [[Troubleshooting.WebHome#TroubleshootingProblems][troubleshooting problems ]]
      * Publishing and Mapping VO's on CE's
      * Problem Executing Condor Standard Universe jobs via the OSG interface
      *  Jobs switch between idle/running in Condor queue holding CPUs
   * Attending OSG Troubleshooting, Integration, Monitoring meetings and VDT office Hours 


-- Main.AnandPadmanabhan - 06 Dec 2006