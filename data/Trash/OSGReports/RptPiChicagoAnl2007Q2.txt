%META:TOPICINFO{author="KyleGross" date="1225985954" format="1.1" version="1.4"}%
%META:TOPICPARENT{name="CreateNewReport"}%
<!-- Complete the template. You can either use TWiki style, copy in plain text, or put in HTML. -->
<!-- IF COPYING IN HTML: Please only include the sections between your BODY tags. -->

---+!! 2007Q2 PI Quarterly Report 

%STARTINCLUDE%

---++  <nop>University of Chicago / Argonne National Laboratory
%EDITTHIS%
<!-- EDIT BELOW THIS LINE ONLY! -->

_DRAFT 2007.0729 pending team review_

The UChicago OSG Team (C. Bacon, A. Bejan, B.Clifford, R. Gardner, T. Stef-Paruan, S. Thappa. M. Wilde) works on integration, troubleshooting and education/outreach/training activities. In this period the team worked on: operation and administration of the ITB and VTB integration and testing testbeds and the testing of OSG and VDT releases on those facilities; the development of a strategy for common information attributes across the OSG to support application portability across sites; integration of the Syslog-NG distributed logging system to support troubleshooting and auditing; and integration and troubleshooting of WS-GRAM, focusing on scalability and performance issues. The team was engaged in 10 specific troubleshooting activities. In the EOT effort we planned and conducted the second 2007 Grid School workshop, planned the third, organized the attendance of US students at the ISSGC07 international grid school in Sweden. We searched for and hired a full-time EOT Coordinator (A.Bejan) and worked on scaling the EOT infrastructure.  These activities are all detailed in the sections below.

---++++Key accomplishments

*Integration*

Work on the integration (ITB) and validation (VTB) testbeds in this period included:
   * Developed DCache upgrade procedures for tier2/tier3 sites and assisted in the upgrade
   * Upgraded DCache on t2dev.uchicago.edu  integration cluster and investigated setting up dcache on UC Tier3 edge server. 
   * Installed OSG stack on Tier2 edge server, and verified correct functioning of stack
   * Developed squid configuration improvements/fixes in OSG configuration tool
   * Prepared VTB cache for VDT 1.7.0 distribution 
   * Developed VDT distribution and syslog-ng package fixes
   * Fixed various problems in OSG configuration scripts
   * Created an ITB cache under Subversion version management.
   * Led the deployment and validation efforts for the ITB 0.5, the basis for the current OSG 0.6 production infrastructure

An OSG Interoperability effort was started in this period to:
    * Collect requests for changes from integrators
    * Analyze impact of changes
    * Test candidate changes on the ITB to determine interoperability with batch schedulers, workflow planners, workload managers, and event managers such as Condor-G/DAGMan 
    * Maintain and report on  interoperability across OSG and between the OSG and other grids (LCG, TeraGrid).

*VTB - Validation Testbed Work*

Integration work specific to the Validation Testbed in this period included:
   * Investigated PBS issues for running on on a VMware cluster 
   * Tested OSG package configuration script
   * Updated the VTB trunk cache for the VDT 1.7.0 release
   * Worked on SVN (version management) repository for troubleshooting and VTB test cycle facilitation and tracking 
   * Set up a central VTB logging service for monitoring and debugging. (syslog-ng)
   * Enhanced VTB cache packaging which scripts to generate updates to the cache from the respository

*Syslog-NG*

S. Thappa was actively involved in the integration of the logging Syslog-NG tool (from B.Tierney of LBL via the CEDPS Project) into OSG to facilitate log stream gathering, storage and access.  Working with the VDT team, Syslog-NG was integrated into the VDT/OSG stack and tested across the VDT platforms. This effort included requirements analysis, deployment of the logging daemons, configuration and testing of message forwarding, logger configuration mechanisms and documentation, testing of installation and integration in both the VTB and ITB testbeds and in the Midwest Tier2 production environment. Work involved setting up the automated startup of logging daemons, monitoring of the logging processes, and researching the handling of encrypted connections and filtering information.  A VTB central logfile collection host, vtb-log.uchicago.edu, was provisioned by the UC group.  This work was presented by Thappa at the HPDC2007 Monitoring Workshop.

*WS-GRAM Integration Work*

Work on WS-GRAM focused on integration into the VTB and ITB for testing and performance benchmarking, and extended into the resolution of specific problems in performance and functionality. This work is proceeding in close cooperation with the Globus team, from which the GRAM technology coordinator (S.Martin) and a developer (M.Feller) are involved.

The WS-GRAM Integration Subcommittee has been focused on testing out WS Gram as it appears in OSG 0.6 in terms of functionality, scalability, and stability. We have discussed a general program of testing, directly using native Globus commands or via Condor-G, of the following job types.
    * Type I: simple submit, no I/O involved.
    * Type II: data-producing job: return data to user's submit host.
    * Type III: data-producing job: transfer data to some other designated storage area.
    * Type IV: data-consuming job, transfer input data form users's submit host.
    * Type V: data-consuming job, transfer input data from some other designated storage area.
    * Type VI: data-consuming/data-producing job, to and from the submit host.
    * Type VII: data-consuming/data-producing job, from arbitrary endpoints.

As part of this effort, the UChicago team worked on ws-gram configuration scripts, benchmarking scripts, and automated gathering of configuration on local and remote hosts to provide configuration information for running benchmarks. The team worked on ws-gram benchmarking design and setup, created mixed workload benchmarks, workloads that stage significant amounts of data in and out. They performed baseline benchmarking, and then performed combined ws-gram and globusrun-ws benchmarking.  The UC group provisioned a dedicated server for these tests and uses regularly resources of the UC Tier3 cluster for submit hosts.

In addition:
   * Fixed problem with ws-gram container on Midwest Tier2 edge node
   * Worked on Condor phantom jobs on Tier3 cluster, providing a resource for scalability testing
   * Worked on several RT tickets (posted by J.Wiegand)

*Attribute Subcommittee of Integration Effort*

An Attribute Subcommittee led by R. Gardner was established as an Integration effort to resolve open issues with the OSG 0.6 information system and the maintenance of the attributes needed by user jobs to achieve site-independent operation across the OSG. The group was tasked to:

    * Ensure the currently published OSG attributes are well understood and documented.
    * Identify a subset of necessary attributes that must be advertised to ensure integrity of the OSG environment. 
    * Identify user tools and pointers to documentation sufficient to meet the needs of VOs as customers of the attribute  information.
    * Identify methods needed for publishing more complex cluster and storage configurations. 

OSG-GIP attributes were reviewed by the subcommittee and discussed in OSG integration meetings. A subset of these have been identified as critical and mandatory. Failure by a site to advertise these correctly would be considered an operational error and would result in a trouble ticket. The mandatory storage attribute settings were detailed and passed as input to the OSG 0.6 release documentation. Semantics for four storage models were discussed. Two models (Grid3 and Extended Grid3) do not employ a separate storage element, while the other two (LCG and OSG with SRM-based SE) assume an SRM based Storage Element. Details about how to configure GIP to publish this information correctly were documented in the subcommittee&#8217;s web at: https://twiki.grid.iu.edu/twiki/bin/view/Integration/AttributesSubcommittee. SE best practices from a user's perspective, and references for attribute use and management were documented as part of the troubleshooting effort:
https://twiki.grid.iu.edu/twiki/bin/view/Troubleshooting/StorageElementBestPractices

*Troubleshooting*

The following ten problems were investigated and addressed by the UChicago troubleshooting team (C. Bacon and S. Thapa) in this period:

   * Midwest Tier2 cluster is being overloaded by user submissions
   * Midwest Tier2 edge system problems with globusrun-ws 
   * VDT certification revocation list processing problems
   * Condor queue installation for phantom jobs
   * NanoHub jobs on the UC Tier2 cluster crashing/not completing
   * PBS scheduler server logs filing with corrupted entries.
   * STAR SRM/DRM failures (were resolved to be caused by a Linux xinetd bug)
   * Stale files in a Globus state file, causing the gridmanager to impose a high load on the CE. This will be resolved with gridmanager caching.
   * CE high-load problem at UCSD. An interim solution was suggested and an longer-term Globus solution was proposed and is under consideration.
   * Stage-out problem &#8211;  seems to be a race between GRAM's stage-out and Condor-G's kill/restart of the jobmanager. Results in a double stage-out that overwrites the original correct output.

The team also worked on Globus configuration information scripts and similar tools for the troubleshooting team, and reviewed and corrected OSG package configuration scripts to incorporate changes to Gratia (accounting system) probes.

*Regular Meetings for Integration and related activities*

UChicago Staff members Gardner, Bacon and Thappa regularly attended and/or chaired the following weekly meetings related to Integration and Troubleshooting:  
   * Chaired the weekly Integration meetings (covering ITB and VTB activities)
   * Chaired Information Provider Attributes subcommittee meetings
   * Chaired WS-GRAM Integration subcommittee meetings
   * Attended VDT (weekly), Storage, and Troubleshooting meetings

*Education Outreach and Training*

_Content development._ Course materials &#8211; lectures and handson labs &#8211; from the previous workshops were refined, and presented at the Rio Grande Grid School with minimal changes. The material was also used for a hands-on tutorial at GPN workshop in June 07. This reuse worked well and suggested that we now have a stable base of material which can be systematically improved and refined. Clifford worked on lab development, Stef-Praun worked on content testing.

_Grid School Workshops._ During this quarter we held one Grid School workshop at UTexas Brownsville. The workshop was held on campus, instead of at South Padre Island, which made the workshop more accessible to faculty. The workshop was hosted by the UTB CS department for the first time (pervious workshops were hosted by Physics/CGWA). The campus CIO Dr. Steve Chen also attended which helped to initiate discussions for a campus Grid facility. Three CS faculty members participated in the entire workshop (H. Lei, L. Tang, and CS department chair J. Iglesias) and many of their students attended, which is helping to initiate preliminary work and proposals for a new CS cluster for data mining in cooperation with LIGO faculty from the physics department, and for the involvement of many UTB students in follow-on projects.  The workshop was delivered by Clifford, Wilde and Stef-Praun; assistance in student certificate creation was provided in real-time by T. Silvers of the IU GOC.

_South Africa Outreach._ Plans have been made to bring 3 graduate students from UWits S.Africa to the US for the Great Plains Grid School, for interactions at Columbia with Jeremy Dodd, and for work at UChicago with the integration team to set up the OSG site in S. Africa. Clifford has established contacts with the Wits group and is providing initial assistance in Grid planning and setup. Clifford attended a Great Plains Network meeting in Oklahoma to discuss South Africa outreach: http://indico.cern.ch/conferenceDisplay.py?confId=16658

_OSG Education VO._ Small progress was made in establishing the use of the OSGEDU VO, including vetting students through local faculty sponsors. Laboratory resources for the OSG EDU VirtualOrganizations/VOInfo were set up by Stef-Praun at UChicago with a securely vetted signup procedure. M.Wilde worked with Ph.D. student A. Jamieson (Medical Physics, UChicago, also attended ISSGC07) who has been using OSG resources to train algorithms for tumor detection in mammograms using CAD techniques. An interesting aspect of this work is the execution of compiled Matlab codes, which should prove useful to many other OSG users once its generalized.

_Lab facilities._ T. STef-Praun worked on improving the laboratory infrastructure.  We now have 4 hosts that can travel to workshops and 4 that can remain in Chicago. A signup web page is available.  This is bridge and a first step towards making the lab exercises always-available. Wilde and Clifford worked with TeraGrid staff to enable easier access to TeraGrid during workshops and by participants in the education VO, based on our goals of making the Grid Schools a joint OSG-TeraGrid effort.

_I2U2._ Management support for the I2U2 science education project (&#8220;Interactions in Understanding the Universe&#8221; &#8211; a follow-on to QuarkNet). This group meets via weekly telecoms between Chicago, Fermilab, UFlorida, Notre Dame, and LIGO. The physical servers are now located in a robust server room at Argonne and are now administered by the UC Computation Institute Systems staff (under C. Stacey). The system was scaled up to use parallel servers in the cluster in response to urgent needs from the growing user community. Numerous workshops in the US and internationally have been held, which is growing the usage base and engaging new teachers and students. Significant effort was spent in April-June improving code developed in 2005-06 to make it more robust and suitable for execution on OSG. This work is expected to proceed through September.  An NSF proposal for long-term support of I2U2 has been submitted and is pending. LIGO has been engaged and is now joining the weekly telecons.

_NSF OISE-supported participation in International Grid School._ This opportunity was advertised nationally and 14 students were selected for support, 10 of which have attended previous US grid schools in 2005-2007. LSU in particular made a strong effort to engage their students in this effort, and has a large participation.  Two researchers from the IceCube project at UWisconsin (one PhD student and one postdoc) attended to help further IceCube&#8217;s use of OSG. Ben Clifford attended the ISSGC07 and presented a lecture on OSG and workflow (the later included a practical lab session). Hansheng Lei of the CS faculty at UT Brownsville attended, and students who were actively using the grid for radiology, storm forecasting, mechanical engineering of structures, and several CS researchers in workflow and data management also attended.  The school greatly enhanced their technical skills and their excitement about increasing their application of the grid to their science and CS research. A. Bejan is currently following up with the students to write reports and plan follow-oc activities.

_Staffing._ A major accomplishment this quarter was the recruiting, hiring and training of a full-time OSG staff member to manage the EOT effort. Alina Bejan, a visiting CS Faculty member of St.Cloud State University, MN, has joined the team. Alina started with OSG on June 9 and has been immersed in learning OSG technology, getting acquainted with the OSG team and with its many activities (including especially Documentation and Communication) and has been involved in the planning of the next workshop (UNL-GPN at Lincoln Nebraska Aug 8. Wilde and Bejan have been working together closely in this period to create scalable, maintainable systems and procedures for planning, advertising, budgeting, and managing grid school workshops, and for advancing the other charters of the OSG EOT effort. We selected and started deploying the infrastructure for surveys, based on the SurveyMonkey commercial service which is heavily used by educational evaluators in other NSF-sponsored research projects.

_Other Outreach._ During this period Wilde participated in the planning of the NSF-sponsored CI-Team workshop.  Wilde presented a talk at the workshop on the use of the OSG as part of CI-TEAM projects. Wilde and S.Lathrop of TeraGrid worked on joint methods to publicize workshops. Wilde and Lathrop also discussed plans to sponsor two Grid School workshops through the Supercomputing Education program and deliver a short tutorial to introduce Grid computing to high schoolteachers and undergraduate faculty at SC07.

---++++Milestones completed
<pre>
1.1.2.4 	 Coordination of Integration Testbed 	 Rob Gardner 	 10/2/06 &#8211; 10/1/07: 44%
1.1.2.4.1 	OSG release candidate 0.5.x Integration for ITB 	10/2/06 &#8211; 10/1/07: 70%
1.1.2.4.1.6 	Define GIP/BDII information attributes and document  3/1/07 &#8211; 5/1/07: 100%
1.1.2.4.2 	OSG release candidate 0.7.x Integration for ITB 	3/1/07 &#8211; 8/17/07: 6%
1.1.2.4.2.1 	System tests and validation for new services & Vos for OSG 0.8.0  3/1/07 &#8211; 8/17/07: 10%

1.1.3 	Integration 	Rob Gardner 	10/2/06 &#8211; 8/16/07: 53%
1.1.3.2 		ITB Systems 	Rob Gardner 	10/2/06 &#8211; 8/16/07: 50%
1.1.3.2.1 	ITB release candidates 0.5.x and 0.7.x 	Rob Gardner 	10/2/06 &#8211; 8/16/07: 50%

1.2 	Education, Training and Outreach 	 Mike Wilde 	 10/2/06 &#8211; 9/28/07
1.2.1 	 Workshop content preparation 	 Mike Wilde 	 10/2/06 &#8211; 9/28/07: 80%
1.2.2	Maintain workshop laboratory facilities 	Mike Wilde 	10/2/06  &#8211; /28/07: 80%
1.2.3.3 	Third training workshop 	Mike Wilde 	9/28/07  &#8211; 9/28/07: 60%
1.2.4.1 	Support for the I2U2 Project 	Mike Wilde 	10/2/06 &#8211; 9/28/07: 80%
1.2.4.2 	Student Engagement 	Mike Wilde 	10/2/06  &#8211; 6/1/07: 50%
1.2.4.3 	CS Research Support 	Mike Wilde 	10/2/06  &#8211; 9/28/07: 20%
1.2.5.1 	Operational OSG site in South Africa 	Jeremy Dodd 	2/1/07  &#8211; 9/28/07: 30%
1.2.5.2 	South American outreach 	Mike Wilde 	10/2/06  &#8211; 9/28/07: 100%
1.2.5.3 	Staffing, Metrics and Reporting 	Mike Wilde 	10/2/06  &#8211; 9/28/07: 50%
</pre> 

---++++Staffing status 

The UChicago OSG team is now fully staffed, with the hiring of Alina Bejan as OSG Education Coordinator in early June. 

---++++Concerns and Issues being Worked

EOT: Structure of email communication lists, especially for student/researcher engagement and for event announcements.  Schedule, location and participant support funding for project year 2 workshops.  Ongoing funding for, and support by OSG, for I2U2 is a concern.

%STOPINCLUDE%



%META:TOPICMOVED{by="ForrestChristian" date="1173993132" from="Sandbox.WebTopicTemplateTesting" to="OSGReports.TemplateForReports"}%
