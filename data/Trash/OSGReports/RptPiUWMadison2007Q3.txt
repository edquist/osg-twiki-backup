%META:TOPICINFO{author="KyleGross" date="1328026233" format="1.1" version="1.4"}%
%META:TOPICPARENT{name="CreateNewReport"}%
<!-- Complete the template. You can either use TWiki style, copy in plain text, or put in HTML. -->
<!-- IF COPYING IN HTML: Please only include the sections between your BODY tags. -->

---+!! 2007Q3 PI Quarterly Report 

%STARTINCLUDE%

---++  <nop>University of Wisconsin - Madison
%EDITTHIS%
<!-- EDIT BELOW THIS LINE ONLY! -->

<!-- Todd/Miron -->

---+++ Management Activities and Milestones

1. PI responsibilities - managing the administrative responsibilities of UW and work on the work plan and SOW for year 2

2. Facility Coordination - weekly calls, monitoring and guiding the Facility team, decisions re security issues

3. Technical leadership through the blueprint meetings and the gLite design team meetings

4. OSG presentations at OSG meetings, workshops, and conferences

5. OSG outreach and presentations in China

---+++ Software Activities and Milestones

<!-- Alain -->
---++++ VDT

The VDT Team's main goal during this time period was to develop a new stable release of the VDT for the OSG 0.8 release. During this time period we released three major new versions (1.7.1, 1.8.0 and 1.8.1) to prepare for this release. VDT 1.8.1 was the version used for OSG 0.8 (after this time period). In addition, we prepared several minor updates to these releases as problems were found.

These software releases included many significant changes, including the following:

   * We upgraded to a new version of Globus which integrates most of the custom changes for TeraGrid. Previously we applied these changes ourselves to develop a common version for OSG and TeraGrid.

   * We have significantly improved how we distribute CA Certificates so that they can be distributed in a timely fashion. We now have a process for automatically updating them. For sites that prefer to install with RPMs, we have an RPM/yum repository so the CA certificates can be automatically updated with RPMs.

   * We have provided a new tool--OSG RSV (Resource and Service Validation)--that allows site administrators to verify that their sites are working properly.

   * We have added syslog-ng, which is a tool that OSG will use to collect logs from many OSG sites so they can be centrally stored and examined for troubleshooting purposes.

   * We have added the Bestman software, which is SRM software that is easier for smaller sites to deploy than dCache
  - Pegasus

   * We now support RedHat Enterprise Linux 5. Support of new Linux distributions is a constant need.

   * We now support Mac OS X as a client, which has long been desired by many users.

   * We have fixed many bugs and smoothed many edges in the VDT software.

In addition to development of new versions of the VDT, the VDT Team has also been active in supporting OSG. Many of the bug fixes in the new versions were in reaction to problems experienced by OSG members. We helped to organize and run the OSG Site Administrator's Meeting in July, which was a successful attempt to bring together site administrators from across OSG to learn from each other. We provided support for users both from OSG and from outside of OSG. 

<!-- Dan -->
---++++ Middleware work to route jobs between OSG and GLOW

The following work was done on the "jobrouter" component that moves jobs between OSG and GLOW:

   * Added option to avoid duplication of the job sandbox.  This has significantly improved scalability of the JobRouter used in CMS production on OSG.  It was also a requested feature by the prospective GLOW users of this service.

   * Fixed a problem in which condor_rm of jobs managed by jobrouter didn't correctly update the user log.  This was a problem for tools that rely on the user log, such as DAGMan and prodAgent.

---++++ Created job wrappers for OSG jobs

Created job wrapper scripts to facilitate using OSG jobs with Condor to better handle aspects such as insertion of VOMS and scratch directory information into Condor ClassAds.  Here is a web page put together for a talk delivered to the OSG site administrators on this work:
   http://www.hep.wisc.edu/~dan/condor_jobmanager_hacks/ 

---++++ GT4 performance

In order to facilitate migration of OSG to WS GRAM (GT4), we addressed performance problems identified by the OSG integration testbed. Based on suggestions from
Globus and our own observations of testbed performance, we changed how Condor-G uses the WS GRAM client interface
so that job submissions can be performed using just one Web Services message
instead of three.

---+++ Trash/Troubleshooting support

At the request of the OSG Trash/Troubleshooting team, Wisconsin allocated effort to debug several OSG problems related to
Condor's Grid Monitor, a tool that improves the scalability of pre-WS
GRAM on CEs.

In one OSG trouble ticket, the grid monitor wasn't working properly at
some sites because it used the OS-provided installation of Perl instead
of the VDT-installed one. The OS's Perl was missing missing certain
modules required by the grid monitor (and gram). The VDT was changed
such that all GRAM fork jobs (including the grid monitor) would use the
VDT's Perl installation.

At another OSG site (Fermi), the grid monitor was causing excessive load
due to it repeatedly polling the status of hundreds of old GRAM jobs
which hadn't been properly cleaned up. The local batch system had purged
its knowledge of these jobs, so the grid monitor's querying produced
large numbers of error messages in the log files. To remedy this, we 
modified the grid monitor so that once it learned that a job was no
longer in the system, it stopped issuing queries on its status.

Another OSG trouble ticket involving the grid monitor is still being
investigated. 

---+++ Staffing
 
At the end of the quarter, we added Greg Thain (gthain@cs.wisc.edu) to help work on engagement activities.

%STOPINCLUDE%