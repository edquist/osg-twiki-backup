%META:TOPICINFO{author="BalamuruganDesinghu" date="1500517954" format="1.1" version="1.4"}%
%META:TOPICPARENT{name="UserSchool17Materials"}%
--+ !!Thursday Exercise 1.2: Do the OSG Connect Quickstart

For this exercise, you can also follow the online guide from the OSG Connect helpdesk that will acquaint you with submission on the OSG Connect submit server. Please use the submit host user-training.osgconnect.net instead of login.osgconnect.net for the workshop.

---++ Setup

   * SSH into =user-training.osgconnect.net= (the OSG Connect submit server for this workshop).

---++ Get the example files for the tutorial  "OSG Connect Quickstart" via =tutorial= command

We will get the example files using the =tutorial= command.

<pre class="screen">
%UCL_PROMPT_SHORT% <strong>tutorial quickstart</strong>
</pre>

This creates a directory =tutorial-quickstart=. Go inside the directory and see what is inside.

<pre class="screen">
%UCL_PROMPT_SHORT% <strong>cd tutorial-quickstart</strong>
%UCL_PROMPT_SHORT% <strong>ls -F </strong>
</pre>

You will see the following contents:

<pre class="file">
Images/  osg-template-job.submit  short.sh  tutorial02.submit log/     README.md   tutorial01.submit  tutorial03.submit
</pre>

We will focus our attention on =short.sh= (execution file) and =tutorial01.submit. We will not worry about other files in this exercise. Feel free to take a look at other files if you are interested.

---++ Job Execution File

Take a look at the job execution file =short.sh=.

<pre class="screen">
%UCL_PROMPT_SHORT% <strong>cat short.sh </strong>
</pre>

This is a shell script, quite ordinary . Run this shell script locally to see what it does.

<pre class="screen">
%UCL_PROMPT_SHORT% <strong>chmod + short.sh </strong>
%UCL_PROMPT_SHORT% <strong>./short.sh </strong>
</pre>

---++ Submitting the job on the OSG

The job description file =tutorial01.submit= executes the shell script =short.sh= as a vanilla universe job. Take a look at the job description file.

<pre class="screen">
%UCL_PROMPT_SHORT% <strong>cat tutorial01.submit </strong>
</pre>

Now run this job on the OSG.
<pre class="screen">
%UCL_PROMPT_SHORT% <strong>condor_submit tutorial01.submit </strong>
</pre>

Once your job has finished, you can look at the files that HTCondor has returned to the working directory. If everything was successful, it should have returned:

<pre class="file">
job.output (An output file for each job's output)
job.error: (An error file for each job's errors)
job.log: (A log file for each job's log)
</pre>

Read the output file.
<pre class="screen">
%UCL_PROMPT_SHORT% <strong>cat job.out </strong>
</pre>

Observe the difference between the outputs from running the job on the OSG and running locally. (Hint: Check the username, id, work directory etc.)