%META:TOPICINFO{author="ForrestChristian" date="1175870786" format="1.1" version="1.3"}%
%META:TOPICPARENT{name="UsingVirtualDataSystems"}%
%LINKCSS% 

---+!! PROBINTRO
%STARTINCLUDE%
%EDITTHIS%

This exercise introduces the physics example code, taken from <nop>QuarkNet. You will run some of the code by hand to analyse data and plot it on a graph. In later exercises, you will run the same code but in other ways, taking advantage of VDS.

The <nop>QuarkNet code is written in PERL and kept in the =/opt/<nop>QuarkCode/= directory.

<pre class="screen">
$ <span class="in">ls /opt/QuarkCode/</span>
<span class="out">Combine.pl        Flux.pl           Plot.pl           Split.pl 
CommonSubs.pl     Frequency.pl      RawAnalyze.pl     ThresholdTimes.pl 
EventChoice.pl    Getopt            ShowerArgs.pl     WireDelay.pl 
EventSearch.pl    Lifetime.pl       SingleChannel.pl  gps_data.pl 
ExtraFunctions.pl Math              Sort.pl</span>
</pre>

The data files which will be analysed have been collected from cosmic ray detectors at various sites around the US. Some of that is available in the =Data/= subdirectory.

<pre class="screen">
$ <span class="in">ls /opt/vdltut/Data/</span>
<span class="out">180
180.2004.0819.0.raw
180.2004.0819.0.raw.meta
180.2004.0819.1.raw
180.2004.0819.1.raw.meta</span>
[...]
</pre>

The commands to run are in the =/opt/vdltut/PROBINTRO/= subdirectory, in a shell script called =manual.sh=. You can run the whole analysis by executing that shell script.

<pre class="screen">
$ <span class="in">mkdir ~/PROBINTRO</span>
$ <span class="in">cd ~/PROBINTRO</span>
</pre>

<pre class="screen">
$</span> <span class="in">/opt/vdltut/PROBINTRO/manual.sh</span>
<span class="out">min max step num bin 0.01050 9.53400 0.95235 |10|10|
numbins: 10 #bins: 10||
DEBUG: 0.01050 9.53400 0.01050 9.53400
$</span> <span class="in">ls</span>
<span class="out">gnuplotFitParam943  int-lifetimes  int-thresh-3  int-wire-2  manual.sh
int-combined        int-params     int-thresh-4  int-wire-3  plot.png
int-extra           int-sorted     int-thresh-5  int-wire-4
int-extra-raw       int-thresh-1   int-thresh-6  int-wire-5
int-freqs           int-thresh-2   int-wire-1    int-wire-6</span>
</pre>

The output graph is in =plot.png=. In addition, several intermediate files have been created &emdash; each step in the analysis created intermediate files that were then used by later steps.

To view the plot, you can scp plot.png to your local machine and view it:

%IMPORTANT% Type this on your local laptop, not on one of the gridlab servers!

<pre class="screen">
$ <span class="in">scp train99@gridlab1:PROBINTRO/plot.png .</span>
$ <span class="in">open plot.png</span>
</pre>


%STOPINCLUDE%

%BOTTOMMATTER%
-- Main.ForrestChristian - 27 Feb 2007