%META:TOPICINFO{author="ForrestChristian" date="1170103565" format="1.1" version="1.1"}%
%META:TOPICPARENT{name="WorkshopTutorialModules"}%
<link rel="stylesheet" type="text/css" href="%PUBURL%/%WEB%/WorkshopTutorialModules/exercises.css">


---+!! %SPACEOUT{ "%TOPIC%" }%


%STARTINCLUDE%
%EDITTHIS%

<a name="setup"></a>
The following steps will prepare your account for completing the exercises in this tutorial. We will:
   1. Log onto gridlab1
   1. Check that Condor is working
   1. Create working directories
   1. Get a grid proxy
   1. Test this set up by trying to run on the remote machine

---+++ Log Into =gridlab1=

First, log into gridlab1. This will be our client machine for these exercises.

<pre class="screen">
$ <userinput>ssh gridlab1.phys.utb.edu</userinput>
</pre>
d30 1
---+++ Check Condor with condor_q
Condor should already be set up and running on gridlab1. You can check this by running =[[http://www.cs.wisc.edu/condor/manual/v6.7/condor_q.html][condor_q]]=:

<pre class="screen">
$ <userinput>condor_q</userinput>

-- Submitter: %LOGINHOST% : <206.76.233.104:36236> : %LOGINHOST%
-- Submitter: gk1.phys.utb.edu : <206.76.233.104:36236> : gk1.phys.utb.edu
 ID      OWNER            SUBMITTED     RUN_TIME ST PRI SIZE CMD               

0 jobs; 0 idle, 0 running, 0 held
</pre>

Everyone will be using the same Condor installation for these exercises. You will see other students' jobs in the queue alongside your own.

---+++ Create Your Working Directories

Next, we are going to create some directories for you to work in. We'll make them in your home directory.

<pre class="screen">
$ <userinput>cd ~</userinput>

$ <userinput>mkdir condor-g-dagman-tutorial</userinput>
$ <userinput>cd condor-g-dagman-tutorial</userinput>
$ <userinput>mkdir submit</userinput>
</pre>


---+++ Create a Short-Lived Proxy
You will need to createa  short-lived proxy for this tutorial. The default proxy length is 12 hours.  For a long lived task, you might create proxies with lifespans of 24 hours, several days, or even several months. 

Run =grid-proxy-info= to make sure that you don't already have a grid proxy on this machine.

<pre class="screen">
$ <userinput>grid-proxy-info -all</userinput>

ERROR: Couldn't find a valid proxy.
Use -debug for further information.
</pre>

Run =grid-proxy-init= to create a proxy with a life of four hours. The =-verify= option is not required, but can is useful for debugging. =-verify= will warn you if an expected <span class="firstterm">Certificate Authority</span> (CA) certificate is missing.

<pre class="screen">
$ <userinput>grid-proxy-init -hours 4 -verify</userinput>
Your identity: /C=US/O=Globus/O=University of Wisconsin/OU=Computer Sciences Department/CN=Alan De Smet
Enter GRID pass phrase for this identity: <userinput><em>[Your pass phrase]</em></userinput>
Creating proxy ........................................... Done
Proxy Verify OK
Your proxy is valid until Thu Jul 10 16:06:13 2003
$ <userinput>grid-proxy-info -all</userinput>
subject  : /C=US/O=Globus/O=University of Wisconsin/OU=Computer Sciences Department/CN=Alan De Smet/CN=proxy
issuer   : /C=US/O=Globus/O=University of Wisconsin/OU=Computer Sciences Department/CN=Alan De Smet
type     : full
strength : 512 bits
timeleft : 3:59:57
</pre>

---+++ Test with globus-job-run
Run =<userinput>globus-job-run <replaceable>gridlabX</replaceable> /bin/date</userinput>= on gridlabX (the gridlab host you are using for this tutorial) to test that everything is working:

<pre class="screen">
$ <userinput>globus-job-run gridlab2 /bin/date</userinput>

Wed Jun 2 17:57:49 CDT 2004
</pre>

Our basic Globus setup appears to be functioning.

<!-- ***  Comments plugin to create comments table for section   ***    -->

| To start, practice cutting text from your this page in your web browser to run a command or set of commands: cut the pwd command from the box above and paste it into your terminal window to execute it. This is a good way to avoid making typos while entering commands from the examples. | Main.MichaelWilde | 18 Apr 2007 - 12:34 |

%COMMENT{ type="tableappend" }%

%ENDMore%
<!-- ***  End Comment                                            ***    -->


%STOPINCLUDE%

<!--                                                                            
      * Set LOGINHOST = workshop1
      * Set GRIDHOST = tg-login.ncsa.teragrid.org
      * Set OTHERHOST = workshop2
-->

%BOTTOMMATTER%
-- Main.ForrestChristian (from old Lecture 5) %BR% 