%META:TOPICINFO{author="FkW" date="1171656892" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="TierThreePrerequisiteDocument"}%
---+++ Overview
We assume you got here because you do not have a wide open network configuration for your cluster.
So let's assume the worst case scenario:<br>

   * You have an institutional Firewall that you can do nothing about, except request some exceptions.
   * You want to run your cluster behind a NAT, and have a minimal set of hosts exposed to the "public"
     network.
   * You got both of the above.

Let's go from the inside out.

---+++ NAT
All your worker nodes, i.e. the complete batch cluster, can be behind a NAT.
In that case, the OSG CE host, and the gridtp host must be dual homed. All else can be inside the NAT.
You probably want to avoid installing OSG infrastructure on the same host that implements the NAT.
For CMS Tier-3, we also need the PhEDEx host on the public network.

---+++ Firewall
To avoid pain we highly recommend that you carefully read through the [[https://twiki.grid.iu.edu/twiki/bin/view/ReleaseDocumentation/CEInstallGuide#Firewalls][Firewall]]
documentation in OSG. There's no point in trying to do anything unless you have these ports open.<br>

For CMS Tier-3 sites, the PhEDEx node has to have the same Firewall exceptions as the OSG CE.<br>

---+++ DNS
Make sure you have a working DNS both forward and reverse for all nodes. Especially the node(s) you choose for the OSG installation.
This includes internal host resolution.

-- Main.FkW - 16 Feb 2007

