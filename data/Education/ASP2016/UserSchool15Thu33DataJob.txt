%META:TOPICINFO{author="BalamuruganDesinghu" date="1437668570" format="1.1" version="1.1"}%
%META:TOPICPARENT{name="UserSchool15Materials"}%
<style type="text/css">
pre em { font-style: normal; background-color: yellow; }
pre strong { font-style: normal; font-weight: bold; color: #008; }
</style>

----+  Stash-public to worker node

In the above example, we assumed you and/or your colloborator fine with shelling out project money on AWS server. However, it is likely that doing a large amount of data transfer with AWS is not good for budget reasons. So we want to utilize the public webservice on OSG connect.


The example files are located under the directory ==namd-ct-stash==.

<pre class="screen">
%UCL_PROMPT_SHORT% <strong>cd namd-condor/namd-ct-stash </strong>
%UCL_PROMPT_SHORT% <strong>ls </strong>
</pre>


<pre class="file">
namd_run.sh    # Job wrapper script to execute namd job
namd_run.submit    # Condor job description file
</pre>
We see only two files. Take a look at ==namd_run.submit== file and focus on the key word ==transfer_input_files==

<pre class="file">
Universe = vanilla
...
...
transfer_input_files = http://stash.osgconnect.net/+dbala/Storage/namd-input-files/ubq.pdb, \
                       http://stash.osgconnect.net/+dbala/Storage/namd-input-files/ubq.psf, \
                       http://stash.osgconnect.net/+dbala/Storage/namd-input-files/ubq_gbis_eq.conf, \
                       http://stash.osgconnect.net/+dbala/Storage/namd-input-files/par_all27_prot_lipid.inp
...
...
Queue 1
</pre>
the files are transfered from the stash public sever to the worker machine.

To see how it works
<pre class="screen">
%UCL_PROMPT_SHORT% <strong>condor_submit namd_run.submit </strong>
</pre>

-- Main.BalamuruganDesinghu - 23 Jul 2015