%META:TOPICINFO{author="KyleGross" date="1225985937" format="1.1" version="1.8"}%
%META:TOPICPARENT{name="WebHome"}%
---+ EOT internal To Do List     

%TOC%
---++ Prepare for SC

make a copy of the lab URL contents in a few places, including the workshopN servers, in case we loose contact with the CI web server or its down etc.

(any other content we need to replicate?  --> backup CDs with Ubuntu 7.04

SLides on mem sticks?) 

logitech cursor for talks... (buy 3)

Packing cases for the workshopN machines, and decide who is carrying them.  Get a small hardshel carryon case? (Sue May might help with this)

 - slides
 - lecture content
  - pres accessories
  - print? think not?

- lab
  - testing (who, whn, on what base?)
  - freeze and final test
  - post - move testing (at show)
  - certs
  - changes from alina
  - 123 handout for whats needed to start the lab (hostnames, pws etc)
    (if all details not known till Sat pm, then print at show)
  - Ben gotten fixed IPs and hostnames for these machines?

  - Alina to review requested fixes and see what she can do to help

  - alina to make suggestions for hands on for Tuesday and test/time these


- logistics

 - celphone / schedule / room # sheets for all staff

 - where to meet when for everything (should be in sheet above)

- staff - volunteers
 - Mike and Alina to set up these in advance  --> plan; Tue: Martin Feller


ON SITE:

saturday: each person in possession of a server-in-baggage needs to
co-ordinate delivering it to Ben in the hosting location on saturday
afternoon. this is the globus tutorial room, (next door to the room that the Swift tutorial ?)
(maybe rooms A5 and A6?)

   * on saturday evening, once the machines are up, everyone should attempt one
run through of the practical tutorial that they are going to be at on
sunday.

   * on sunday, Ben will be there early (eg 1..2h before hand) to check servers are
still working.

   *  tuesday, Benh to set the servers up, preferably on monday
evening but potentially tuesday morning. this will be in a different
location on a different network. 

---++ Forrest's 2 weeks list (Nov 5-16 2007)

   * <strike>EOT flyer</strike>
   * <strike>EOT presentation</strike>: have done little additional. I haven't gotten a template from Beth yet so just pick the colors and let me know. Do you want light colored text on a dark colored background? There was an earlier idea that this would work better. We can print them as black text on white background in PowerPoint with no problems (at least in my experience). I still have to look at the images.
   * <strike>Gridschool Glossary</strike> has to be published by Ben through his process. msut be checked it into osgedu as glossary.xml so it should go into www.ci.uchicago.edu/osgedu/glossary.html.
   * <strike>Update CSS design</strike> for the tutorials and self-paced to better match OSG ideals
   * Testing the gridlabs for SC07
   * <strike>Create the OSG EOT brochure</strike>
   * <strike>Writing new overview of Swift project for Swift brochure</strike>
   * <strike>Recreate or change all the graphics in the EOT presentation to match some stylesheet (CI?)</strike>
   * <strike>Change the EOT presentation appearances (need color names or codes)</strike>
   * <strike>Printing OSG poster</strike>
   * <strike>Printing OSG Brochure</strike>
   * <strike>Printing Swift brochure</strike>
   * Education web home redesign and rewrite -- meeting to talk about it
   * Gather the instructions from  Engagement VirtualOrganizations/VOInfo and write the procedure for "How to join the OSGEDU VO"
   * Write intros for the lunch speakers through Dec 8  (?? for EOT ?)

---++  Grid Lab updates for SC Sunday 

1) For example, this command will test the number 143 for primality.
   $ primetest 122

Inconsistency.

2) train27@workshop2:~$ globus-job-run tg-grid.uc.teragrid.org   /sw/national_grids/primetest 143
GRAM Job failed because the executable does not exist (error code 5)

What is the answer ? Better yet, where can one get the answer ?

3) Log Into workshop2.ci.uchicago.edu

   First, log into workshop2.ci.uchicago.edu

   >> remove one

4) I couldn't run the part on workshop4 because the pass I have for train27 on workshop2 does not match the one on workshop4. Shouldn't they be the same ?

5) Where do we need to do the Simple DAG exercise ? workshop2 or 4 ? in which directory ? condor-tutorial/submit ?

   ./watch_condor_q is not found (neither in the home directory nor in the submit subdir)

6) In the section following "Change watch_condor_q to use this:"

   you have included train99 in the source, but then it doesn't appear when you 'cat' it. Also, maybe should be mentioned to substitute it with their own id.

7) train27@workshop2:~/dataex$ globus-job-run tg-grid.uc.teragrid.org /bin/mkdir /home/etrain27/data
   /bin/mkdir: cannot create directory `/home/etrain27/data': File exists

   maybe these dierctories were not erased since last workshop

8) "here are various other sites that you could use - the instructors can tell you."  --> let's not forget to have a list of working sites handy (or posted)

9) "gsiftp://tg-grid.uc.teragrid.org/scratch/train99/ - a directory accessible via gsiftp on the host called tg-grid.uc.teragrid.org in directory /scratch/train99."
     a directory .... in  a directory ! -->  rephrase

10) "Now that you're tg-grid.uc.teragrid.org" --> missing 'in' or 'on' ?

11) What is the lesson we learn from using parallel streams for data transfer ? why should we use this technique ?

12) train27@workshop2:~/dataex$ cat /sw/misc/example.rft
true
16000
16000
false
1
true
1
null
null
false
10
gsiftp://workshop1.gpn.net:2811/etc/group
gsiftp://workshop1.gpn.net:2811/home/train99/copy-of-group

Probably should change the workshop1 references to workshop2 ... why port 2811 ?

"This example lists three transfers: largefile will be transfered three times, once each to workshop4.ci.uchicago.edu, once to tg-grid.uc.teragrid.org, and once to another host on the grid." -- >  I don't see it ...

13) File missing:
rain27@workshop2:~/dataex$ globus-rls-cli rls://workshop2.ci.uchicago.edu
rls> query lrc lfn example
globus_rls_client: LFN doesn't exist: example

14)  "Now copy largefile to another place (on another gridlab machine or on one of the remote sites)"  --> gridlab reference ? better to specify a concrete remote site

15)
train27@workshop2:~/dataex$ globus-rls-cli rls://workshop4.ci.uchicago.edu
rls> query lrc lfn example
globus_rls_client: DB error: Could not send Query(connection dead);
Could not send Query(connection dead)

16)  The treasure hunt .... are the treasures hunt-able ? I don't think they're in the system.

17) "Note

The identity of the certificate that you have just acquired earlier in this exercise is not in the gridmap file."  --> what does this note mean ?

18) "Use GridCat to find the APP variables."  --> GridCat ?

19) prime.c is not there


I guess that's all from me for now.

I wanted to ask as well what the lab content will be for Tue 1.5 session -- this would obviously be too much. Shall we just do it in a demo fashion ? 

---++ Grid Lab updates for self-paced 

From Oct 9 email:

?) don't understand when we compute the time Fork vs Condor ? what are the 2 cases ? there is only one (that I see) test case

?) running under a remote shell (in intro)-- why is this important ?

?) How do I change the font color in docBook ?
Give complete syntax of commands -- for example globus-url-copy : parameters ... or mention that we can use -help option to get full syntax

*) In "Optional: Multiple Globus Schedulers" section

incorrect site names: evitable.uchicago.edu --> evitable.ci.uchicago.edu (but it's down anyways)
terminable.uchicago.edu --> terminable.ci.uchicago.edu
or workshop3.ci.uchicago.edu/jobmanager-condor <-- is this a site ?
*) Transfers to a remote site SECTION in Data management

"the instructors can tell you" --> we should prepare a list here for alternative sites (and account names ?)

?) Are accounts on tp-login.ci.uchicago.edu/home/etrain99 called TeraGrid accounts ? Why ?

*) My proxy on train22 has expired. I could not accessed the etrain22 account. (and from abejan@gridlab1 I can't access tp-login, right ? since I don't have an account there) We have to keep that in mind when we create accounts for self-paced on gridlab machines as well

*) Under the RFT section there are several things that need to be changed:
$cp /sw/misc/example.rft rft.xfr

works in workshop4, but does not exist on gridlab1

the content of rft.xfr needs adjusted, specifically:
 gsiftp://workshop1.gpn.net:2811/etc/group
 gsiftp://workshop1.gpn.net:2811/home/train99/copy-of-group

Also this command:
$ rft -h workshop4.ci.uchicago.edu -f ./rft.xfr

*) In the paragraph: "The transfer file has a number of options, documented in-line. You can experiment changing them. Interesting ones to try:"

Add more URLs to transfer --> we should give examples (that would work)
Transfer between two remote sites --> give examples (same)
Use parallel streams --> give examples (same)
Increase the transfer concurrency --> give examples (same)

Also, put an 'example' file somewhere (gridlab2.ci.uchicago.edu/scratch/example probably, and not only) that they can find using queries like  $ globus-rls-cli rls://gridlab1.ci.uchicago.edu
Modify the connection to logical filename 'another-example' correspondingly.


?)  abejan@gridlab1 ~]$ create abejan-first-lfn gsiftp://gridlab1.ci.uchicago.edu/home/bejan/dataex/largefile-abejan
-bash: create: command not found

Why doesn't it find 'create' ? Also:
[abejan@gridlab1 ~]$ query
-bash: query: command not found
[abejan@gridlab1 ~]$ add
-bash: add: command not found

So I couldn't run those exercises.

*) "Get a neighbour to query the RLS for your logical filename, and see that the mappings you have made are public for everyone to see." --> can we "simulate" the neighbor ?

*) "You should see that there are some other locations from which you can get the example file." -->> provide the answer; which are these locations ? At the moment gridlab2 is not setup, but it should work soon, therefore the one below does  not work:

[abejan@gridlab1 ~]$  globus-rls-admin -p rls://gridlab2.ci.uchicago.edu

connect(rls://gridlab2.ci.uchicago.edu): globus_rls_client: Globus I/O error: globus_xio_gsi: gss_init_sec_context failed.
globus_gsi_gssapi: Unable to verify remote side's credentials
globus_gsi_gssapi: Unable to verify remote side's credentials: Couldn't verify the remote certificate
OpenSSL Error: s3_pkt.c:1052: in library: SSL routines, function SSL3_READ_BYTES: sslv3 alert bad certificate SSL alert number 42

?) [abejan@gridlab1 ~]$ globus-rls-admin -S rls://workshop4.ci.uchicago.edu

connect(rls://workshop4.ci.uchicago.edu): globus_rls_client: Globus I/O error: globus_xio_gsi: gss_init_sec_context failed.
OpenSSL Error: s3_clnt.c:842: in library: SSL routines, function SSL3_GET_SERVER_CERTIFICATE: certificate verify failed
globus_gsi_callback_module: Could not verify credential
globus_gsi_callback_module: Could not verify credential: self signed certificate in certificate chain

Should it work for 'workshop4' ? It does work for gridlab1.ci, so I think that's what we need.

*) Of course, the "Treasure Hunt" has to be properly set up and a solution has to be provided. (is there more than 1 solution ?)

*) as text editors I can specify 'nano, joe' for instance

*) in globus-url-copy gsiftp://localhost:2811/home/YOURLOGIN/tempFile      gsiftp://localhost:2811/home/YOURLOGIN/destFile
 what is the meaning of port 2811 ?

*) grid-cert-info works well without the -file parameter. Why do we need -file ?

I don't understand:  "The contents are similar to your user certificate, but there are some differences; for example, the issuer is the DN of the user certificate, rather than of the certificate authority."
Where do I see the difference ? Why is it important ?

*)  [abejan@gridlab1 ~]$ cat /etc/grid-security/grid-mapfile
# $Id: TodoList.txt,v 1.8 2008/11/06 15:38:57 KyleGross Exp $
# $Source: /u/e/d/edquist/scratch/git/twiki-backup/data/Education/ASP2016/TodoList.txt,v $
#
# Automatically generated by gx-gen-mapfile (gx-map 0.5.1)
# at Tue 2007-10-09 14:19:05 UTC on gridlab1.ci.uchicago.edu.
# DO NOT EDIT THIS FILE.  ANY CHANGES YOU MAKE WILL BE LOST ON THE NEXT UPDATE.
#
"/C=US/O=National Center for Supercomputing Applications/CN=Tiberiu Stef-Praun" tiberius
"/DC=org/DC=doegrids/OU=People/CN=Alina Bejan 780446" abejan
"/DC=org/DC=doegrids/OU=People/CN=Andrew Jamieson 345087" andrewj
"/DC=org/DC=doegrids/OU=People/CN=Benjamin Clifford 418168" benc
"/DC=org/DC=doegrids/OU=People/CN=Mihael Hategan 336881" hategan
"/DC=org/DC=doegrids/OU=People/CN=Pavel Krajcevski 898670" pavelk
"/DC=org/DC=doegrids/OU=People/CN=Tiberiu Stef-Praun 764752" tiberius
"/DC=org/DC=doegrids/OU=People/CN=Torrance Ivan Leggett 641520" leggett
"/DC=org/DC=doegrids/OU=People/CN=Torrance Ivan Leggett 708167" leggett
"/DC=org/DC=doegrids/OU=People/CN=Yong Zhao 597256" yongzh
"/O=Grid/CN=FromGridlab1ASecondTime" benc
"/O=Grid/CN=FromTerminable" benc

 Isn't it too much info for people to see ? (gridlab1 has all this) I.e., can this info be misused ?

*) "To get grid access to gridlab2 with your new credential, you have to do something similar there."  -- you said that this step would not be necessary. What is the correct statement then ? (they will share the gridmap, right ?) In that case, we must reconsider the goal of the exercise.

?) I don't understand: "The proxy lifetime cannot be greater than the certificate that issues it - you cannot make a proxy that lasts beyond the expiry date of your usercert." -- can you explain in more detail?

*) in the exercise with DOE certs to transfer files, there is the following explanation:

"The above error indicates that the authentication failed because the credential that you have just acquired is not trusted on workshop4.ci.uchicago.edu. The proxy is valid, but it is not trusted on that specific machine."

But, the proxy has just expired (previous exercise). Shouldn't we make a  note to regenerate the proxy ?

*) "This cluster has been set up to trust the DOEGrids CA. In this example workshop4.ci.uchicago.edu is local machine and workshop4.ci.uchicago.edu is remote machine."

2 points here:
  - we have not used "cluster" before -- is this the right moment/term?
People are confused by "cluster".
  - workshop4 will be substituted by gridlab1 -- in both occurences? (we transfer locally, on the same machine ? -- can we avoid the full domain name and use localhost instead ? I might be missing the goal of this exercise.)

*) "Now that the gridmap file has been updated such that your identity is authorized to submit jobs, lets try the command again." -- did something  happen in between these 2 exercises that made this happen ? I didn't catch it.

*) [YOURLOGIN@workshop4 ~]$ ssh workshop4.ci.uchicago.edu
 [YOURLOGIN@gridlab2 ~]$ ls -lt /tmp/YOURLOGINTest
-rw-r--r--  1 YOURLOGIN YOURLOGIN 43 Jun 23 12:07 /tmp/YOURLOGINTest
[YOURLOGIN@gridlab2 ~]$
 There is some inconsistency here -- does it have to do with !ENTITY (which will be changed soon) ? Or it is a typo.
Shouldn't it be ssh to gridlab2 ?

*) /sw/national_grids/prime.c has to be moved to gridlab1 machine (this worked for workshop4) and make sure it has the permissions right. I.e:

   train22@workshop4:~$ cp /sw/national_grids/prime.c .
   cp: cannot open `/sw/national_grids/prime.c' for reading: Permission denied

*) any specific reason we always need ./some_command instead of simply some_command ?
*) [YOURLOGIN@workshop4.ci.uchicago.edu ~]$ globusrun -a -r tp-login.ci.uchicago.edu/jobmanager-fork
GRAM Authentication test successful

Maybe make a note that this only tells you you can run Gram2 and not Gram4. The latter is by trial & error.
Are there any other mechanisms to find resources?

?) "Use GridCat to find the APP variables" --> GridCat ?? (actually there is a link in References, but the downlod links don't work -- not mantained ?)

?) I have scheduled the following job that uses different submission sites :

[abejan@gridlab1 submit]$ condor_submit -a "arguments = 1000 2 500" -a "output = output/1.out" -a "grid_resource = gt2 red.unl.edu/jobmanager" -a "executable = /opt/osg/app/abejan/prime" -a "arguments = 1000 551 1000" -a "output = output/2.out" -a "grid_resource = gt2 grid3.aset.psu.edu/jobmanager" -a "executable = /usr1/grid3/app/abejan/prime" example.sub
Submitting job(s)
WARNING: Log file /autonfs/home/abejan/condor-tutorial/submit/prime.log is on NFS.
This could cause log file corruption and is _not_ recommended.
.
Logging submit event(s).
1 job(s) submitted to cluster 8.

Why does it appear as only 1 job ? Shouldn't it be 2 jobs ? I got 2 answers though (both NO).

*) Download the dprime.tar.gz that contins the ./script.pl --> the intermediate steps to actually save it in the Unix account - such as FTP and un-tar - are missing and they should be useful.

*) pacman not installed on gridlab1--> do we want it ? Instead, maybe place instructions on how to download and untar pacman.

$cd [some_dir]
$wget http://physics.bu.edu/pacman/sample_cache/tarballs/pcman-3.19.tar.gz
$ tar -xzvf pacman-3.19.tar.gz
$ cd pacman-3.19

Is there anything else missing ?

*) do we want them to install VDT in these accounts ? Probably not.

*) your dprime.tar.gz package contains almost what we are trying to create by packging the prime numbers application, correct ? Since the dprime.tar.gz package untars into the 'dprime' directory, it might be confusing (also prone to overiding) when creating the application package from scratch. Would you like to give that 'dprime' directory a different name ? I am referring to this step:
[YOURLOGIN@workshop4.ci.uchicago.edu ~] mkdir dprime

Put a small Readme file on how to use the ./script.pl (even though it's quite self-explanatory). For example: does the choice order count ?

*) the Extra credit problem should have a solution -- and possibly additional to-do exercises (with hints/solutions/partial solutions etc).

 * Set ALLOWTOPICCHANGE = Main.TWikiAdminGroup, Main.GridSchoolGroup 
 * Set ALLOWTOPICVIEW = Main.TWikiAdminGroup, Main.GridSchoolGroup 

-- Main.AlinaBejan - 04 Nov 2007