%META:TOPICINFO{author="ForrestChristian" date="1171327110" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="StorageDcacheOverview"}%
---+!! dCache Pool Selection & Load Balancing with Pool Manager
%STARTINCLUDE%
%EDITTHIS%

Selecting pools and balancing loads is managed the dCache _pool manager_, which selects a set of pools which matches the following criteria: 
   * Protocol
   * Dataflow direction (put, get, restore from HSM, pool2pool)
   * Directory subtree
   * Client IP address
Out of these, the pool maanger selects the &#8220;best&#8221; target pool with lowest cost:
   * _get_ request cost = CPU load (number of movers)
   * _put_ request cost = free space + CPU load

<p style="text-align: center;"><a href="%PUBURL%/Documentation/StorageDcacheOverview/dcache_poolmanager_requestflow.jpg"><img src="%PUBURL%/Documentation/StorageDcacheOverview/dcache_poolmanager_requestflowsmall.jpg" alt="Pool Manager Request Flow (click to enlarge)" style="width: 474px; height: 303px; text-align: center; border: 2px;" />%BR% Pool Manager Request Flow (click to enlarge)</a> </p>

<p style="text-align: center;"><a href="%PUBURL%/Documentation/StorageDcacheOverview/dCachePoolManager.png"><img src="%PUBURL%/Documentation/StorageDcacheOverview/dCachePoolManager.png" alt="dCache Pool Manager" style="width: 80%; height: 80%; padding: 5px; text-align: center; caption: dCache Pool Manager;"/>%BR%dCache Pool Manager (click to enlarge)</a> %BR%<span class="font-size:70%; font-style:italic;">from Hesselroth, "Introduction to dCache SRM" </span></p>

The Pool Manager selects the appropriate pool according to the appropriate cost function.

The Pool Manager controls which pools are available to which users, based upon the authorization schema that you have created.
   
   
%STOPINCLUDE%

%STARTInsetBox%
See Documentation.StorageDcacheOverview for a complete list of references.
%ENDInsetBox%

%BOTTOMMATTER%
-- 
-- Main.ForrestChristian after Main.TedHesselroth (Fermilab) and Patrick Fuhrman (DESY)
