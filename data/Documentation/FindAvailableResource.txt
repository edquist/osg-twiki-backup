%META:TOPICINFO{author="KyleGross" date="1225985936" format="1.1" version="1.3"}%
%META:TOPICPARENT{name="UsingTheGrid"}%
%LINKCSS%

<!-- This is the default OSG documentation template. Please modify it in -->
<!-- the sections indicated to create your topic.                        --> 

<!-- By default the title is the WikiWord used to create this topic. If  -->
<!-- you want to modify it to something more meaningful, just replace    -->
<!-- %TOPIC% below with i.e "My Topic".                                  -->

---+!! Find an available resource
%TOC%

%STARTINCLUDE%
%EDITTHIS%

All OSG sites are registered with [[http://vors.grid.iu.edu/cgi-bin/index.cgi][VirtualOrganizations/VOInfoRS]]. VirtualOrganizations/VOInfoRS maintains information on every site in a DB, and verifies this information regularly. Resources that fail basic functionality tests are red, resources that pass all basic tests are green, and those undergoing initialization or maintenance are blue.  Check VirtualOrganizations/VOInfoRS to see which resources support your VO.

To get a list of contact string for sites that support your VirtualOrganizations/VOInfo from the BDII server, you could use the following LDAP query.

<pre class="screen">
$ <userinput>ldapsearch -LLL -h is.grid.iu.edu -p 2170 -x -b 'o=grid' GlueCEAccessControlBaseRule=VO:YOUR_VO_NAME  GlueCEUniqueID | grep 'GlueCEUniqueID:'</userinput>
</pre>

*NOTE:* The instructions below are not valid on most OSG sites, since most sites no longer run LDAP server, so you have to use -h is.grid.iu.edu -p 2170 to contact the OSG wide BDII

If you want to check a particular resource, you could submit an LDAP query to the resource. For example, the following =ldapsearch= checks if the CDF VirtualOrganizations/VOInfo is supported at CIT_CMS_T2.  You'd use the same directory server hostname (the argument to  =-h=) and port (=-p= argument)

<pre class="screen">
$ <userinput>ldapsearch -LLL -h cit-gatekeeper.ultralight.org -p 2135 -x -b   &#92;
   mds-vo-name=CIT_CMS_T2,o=grid "GlueCEName=cdf"</userinput>
</pre>

If supported, it will return a series of entries. If not, it returns an empty string.

In addition, you can get more detailed information through LDAP queries to the site. For example, if you want to find out if worker nodes at =CIT_CMS_T2= have outgoing connections, you can do:

<pre class="screen">
$ <userinput>ldapsearch -LLL -h cit-gatekeeper.ultralight.org -p 2135 -x -b   &#92;
   mds-vo-name=CIT_CMS_T2,o=grid "(GlueHostNetworkAdapterOutboundIP=*)"   &#92;
   GlueHostNetworkAdapterOutboundIP</userinput>
GlueHostNetworkAdapterOutboundIP: TRUE
</pre>


%STOPINCLUDE%

-- Main.AnandPadmanabhan - 20 May 2008
-- Main.AbhishekSinghRana, Main.AnneHeavey - 29 Nov 2007