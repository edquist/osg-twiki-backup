%META:TOPICINFO{author="MarcoMambelli" date="1324676830" format="1.1" reprev="1.10" version="1.10"}%
%META:TOPICPARENT{name="Documentation/DocumentationTeam.WebHome"}%
%DOC_STATUS_TABLE%

---+!! Documentation Release Process
%TOC%

---+ Key Policies Affecting the Documentation Release Process
   1 OSG releases are numbered r.n.p (e.g. 1.2.5, or 3.0.5).  
   1 Major releases are denoted by a change in "r" or "n" which is always an even number.  Odd numbers of "n" are used for integration testing but never an official release to the consortium.
   1 OSG's policy is to support the current and previous major release (e.g. 1.2.x & 3.0.x).
   1 Point releases are denoted by a change in "p" (e.g. 1.2.4 to 1.2.5).  Those can be frequent (a month apart) and often contain significant new functionality desired by OSG members.  Typically, these do not have a major affect on documentation, but it can have some affect on particular documents.
   1 For RPM releases there is a known correspondence between the OSG version and version of the RPM packages included in it

---+ Documentation Release Process
Although the following represents the standard process, judgment of the Integration Team will determine how a particular case will be handled.

---++ Major Releases
   1 For major releases: 
      1 A subweb of the Documentation web (e.g. Release3) and a migration table for all the topics in the  the release documentation tree (e.g. ) will be created 
      1 Documentation editors (migration editors) will make the call weather a document can be copied in the new release with little changes (and then copy it and keep it released) or if it needs major editing (and then mark it as in need of editing and notify the owner).
      1 The copy in the new release will have at least to: 
         * have an updated owner and reviewers, people no more available should be removed: the migration editors must assign the owner and can assign reviewer and tester or cancel them and let the owner do it
         * have no link to the old release but only links to the Documentation Web or the new release before being RELEASE_READY
         * be marked as not RELEASE_READY if they need editing
      1 When the release goes to production, this tree will become the new production tree and the old tree will remain as long as that release is supported.  
      1 Changes that are made to improve documents that are independent of the new release will have to be made in the both subwebs just as they are between the current and previous release.
   1 %BLUE% [Check with GOC if possible. Open ticket?] The "Current" subweb of Documentation will always point to the current production release. Navigation into the "Current" release documentation will always default to the current release.  A pointer on the navigation page will direct a user to the documentation tree for the previous release. %ENDCOLOR%


The process used on major releases is exemplified as follows, where Release4 is the new release, Release3 is the current production release and Release1.2 is the previos production release:
   1 The Release4 subweb is created and  and a migration table for all the topics in the Release3 documentation tree will be created (including !WebLeftBar, which will be the first document to be copied in the new Release4)
   1 After a quick call each document in Release3 will be either:
      * Discarded because no more significant
      * Copied to Release4 as released document (RELEASE_READY) if the document needed no changes or quick changes (like fixing links to Release3 to point to Release4)
      * Copied to Release4 as document requiring editing (not RELEASE_READY) if the editor or reviewer changed or the document needed some changes
   1 The owner, tester and reviewer of the copy in Release4 are the same of the original document in Release3. If a person is no more available, a new OSG member is assigned and the document is marked not RELEASE_READY
   1 The internal links between pages in the new Release4 web should be relative links and absolute links can be are changed using unix tools in a supervised manner (represented by the bottom right %RED%red%ENDCOLOR% link in the diagram below).
   1 The !Release4.WebLeftBar links can be modified by manually editing Release3 to Release4 or using unix tools in a supervised manner (represented by the bottom left %RED%red%ENDCOLOR% link in the diagram below). Again, relative links are preferred when appropriates.
   1 The Documentation Team and Software Team modifies the documents in Release4 as needed. Each editor is responsible for its own documents. Documentation Team and Software Team may change a document and notify the owner.
   1 Upon formal release, the links in the Documentation Web are changed from Release3 to Release4 using unix tools in a supervised manner (represented by the 2 vertical %RED%red%ENDCOLOR% links in the center of the diagram below). References to Release3 have to be added whenever there are references to Release1.2 supported releases different from the current production one
   1 The !Documentation.WebLeftBar is edited to modify Release3 links to Release4 and to update the previous and current release links (represented by the 2 %RED%red%ENDCOLOR% links from Doc !LeftBar box in the diagram below). References to Release3 have to be added whenever there are references to Release1.2 supported releases different from the current production one.
   1 Release1.2 (and previous releases) become unsupported. For each one, e.g Release1.2 the following steps are necessary:
      1 Release1.2 web is moved as subweb or !Documentation/Archived (!Documentation/Archived/Release1.2) 
      1 All references to Release1.2 are removed from the Documentation web. Exceptions are possible for documents about OSG history, e.g. mentioning the evolution of OSG monitoring. Links in those documents should be updated to point to the new !Documentation/Archived/Release1.2 web.
      1 Links to Release1.2 are added to topics mentioning archived releases 
      1 Release3 and Release4 webs are checked against references to Release1.2 (there should be already no reference to Release1.2). Any reference found is removed.

The following diagram illustrates the links that must be changed in %RED%red%ENDCOLOR%:%BR%
<img src="%ATTACHURLPATH%/Link_Changes_with_New_Release.jpg" alt="Link_Changes_with_New_Release.jpg" width='540' height='720' /> 

---++ Point Releases
   1 For point releases with few changes, the documentation will be modified with notes so that the documents will serve for all point releases within a major release.
   1 For point releases with more extensive changes which should always be concentrated in a particular area, the (few) documents in that area (i.e. the set of documents with the more extensive changes) will be split into a version for the previous release and a version for the new release.  The process will be:
      * The original document(s) (e.g. !DocName) will be copied with the name changed by appending a number representing the release r.n.p (e.g. 3.0.5 becomes 305 appended to the TWiki word, as in !DocName305).  Another copy will be  modified for the new point release and named by appending its release r.n.p+1 (e.g. 3.0.6 becomes !DocName306).  The original document with the original TWiki name (e.g. !DocName) will be changed to describe the two documents and releases to which they they apply.  For the next major release, the latest version r.n.p+1 (e.g. !DocName306) can be copied back to the original (e.g. !DocName) and the previous version (e.g. !DocName305) will be deleted so that there will again be only one version of the document.
      * Note that for RPM distributions the RPM version of the packages involved may need to be mentioned
<div style='margin-left:6em'>
Pictorial Representation
%TABLE{valign="middle"}%
| *Release 3.0.5* |  *Release 3.0.6*  || *Release 4.0.0* |
|  !DocName  |  !DocName >  | !DocName305 | !DocName |
| ^ | ^ | !DocName306 | ^ |
</div>

---++ Temporary procedures for the !ReleaseDocumentation web
The new Twiki structure was defined with OSG Release3. The documentation for Release1.2 resides in the !ReleaseDocumentation web outside the Documentation tree.
For the purpose of this document !ReleaseDocuemtation should be considered equivalent to a Documentation subweb, e.g. !Documentation/Release1.2.
Here some exceptions that will remain in effect until OSG Release 1.2 is supported:
   * The !ReleaseDocumentation web will remain where it is, as root web until Release 1.2 is supported
   * The !ReleaseDocuemtation.WebLeftBar will not be edited except for adding links to the main Documentaiton hub and a notification that that the release is no more the current production release
   * When it will be archived it will move to Documentation/Archived/Release1_2 and all the links will be updated


---+ Old document
---++ Key Policies Affecting the Documentation Release Process
   1 OSG releases are numbered r.n.p (e.g. 1.2.5).  
   1 Major releases are denoted by a change in "r" or "n" which is always an even number.  Odd numbers of "n" are used for integration testing but never an official release to the consortium.
   1 OSG's policy is to support the current and previous major release (e.g. 1.0.x & 1.2.x).
   1 Point releases are denoted by a change in "p" (e.g. 1.2.4 to 1.2.5).  Those can be frequent (a month apart) and often contain significant new functionality desired by OSG members.  Typically, these do not have a major affect on documentation, but it can have some affect on particular documents.



---++ Documentation Release Process
Although the following represents the standard process, judgment of the Integration Team will determine how a particular case will be handled.

---+++ Major Releases
   1 For major releases, the release documentation tree will be copied to a subweb of the Documentation web (e.g. Release3) and then modified for the new release.  When the release goes to production, this tree will become the new production tree and the old tree will remain as long as that release is supported.  Changes that are made to improve documents that are independent of the new release will have to be made in the both subwebs just as they are between the current and previous release.
   1 Navigation into release documentation will always default to the current release.  A pointer on the navigation page will direct a user to the documentation tree for the previous release.

The process used on major releases is as follows:
   1 The Release4 subweb is created and the topics in the Release3 web are copied to it (including !WebLeftBar)
   1 The internal links between pages in the new Release4 web are changed using unix tools (represented by the bottom right %RED%red%ENDCOLOR% link in the diagram below).
   1 The !Release4.WebLeftBar links can be modified by manually editing Release3 to Release4  (represented by the bottom left %RED%red%ENDCOLOR% link in the diagram below).
   1 The Documentation Team and Software Team modifies the documents in Release4 as needed.
   1 Upon formal release, the links in the Documentation Web are changed from Release3 to Release4 using unix tools (represented by the 2 vertical %RED%red%ENDCOLOR% links in the center of the diagram below).
   1 The !Documentation.WebLeftBar is edited to modify Release3 links to Release4 and to update the previous and current release links (represented by the 2 %RED%red%ENDCOLOR% links from Doc !LeftBar box in the diagram below)

The following diagram illustrates the links that must be changed in %RED%red%ENDCOLOR%:%BR%
<img src="%ATTACHURLPATH%/Link_Changes_with_New_Release.jpg" alt="Link_Changes_with_New_Release.jpg" width='540' height='720' /> 

---+++ Point Releases
   1 For point releases with few changes, the documentation will be modified with notes so that the documents will serve for all point releases within a major release.
   1 For point releases with more extensive changes which should always be concentrated in a particular area, the (few) documents in that area (i.e. the set of documents with the more extensive changes) will be split into a version for the previous release and a version for the new release.  The process will be:
      * The original document(s) (e.g. !DocName) will be copied with the name changed by appending a number representing the release r.n.p (e.g. 1.2.4 becomes 124 appended to the TWiki word, as in !DocName124).  Another copy will be  modified for the new point release and named by appending its release r.n.p+1 (e.g. 1.2.5 becomes !DocName125).  The original document with the original TWiki name (e.g. !DocName) will be changed to describe the two documents and releases to which they they apply.  For the next major release, the latest version r.n.p+1 (e.g. !DocName125) can be copied back to the original (e.g. !DocName) and the previous version (e.g. !DocName124) will be deleted so that there will again be only one version of the document.
<div style='margin-left:6em'>
Pictorial Representation
%TABLE{valign="middle"}%
| *Release 1.2.4* |  *Release 1.2.5*  || *Release 1.4.0* |
|  !DocName  |  !DocName >  | !DocName124 | !DocName |
| ^ | ^ | !DocName125 | ^ |
</div>

---+ Comments
%COMMENT{type="tableappend"}%

<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
   DEAR DOCUMENT OWNER
   ===================

   Thank you for claiming ownership for this document! Please fill in your FirstLast name here:
   * Local OWNER          = MarcoMambelli

   Please define the document area, choose one of the defined areas from the next line
   DOC_AREA = (ComputeElement|Storage|VO|Security|User|Monitoring|General|Integration|Operations|Tier3)
   * Local DOC_AREA       = General

   define the primary role the document serves, choose one of the defined roles from the next line
   DOC_ROLE = (EndUser|Student|Developer|SysAdmin|VOManager|Documenter)
   * Local DOC_ROLE       = Documenter

   Please define the document type, choose one of the defined types from the next line
   DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge)
   * Local DOC_TYPE       = Knowledge
   
   Please define if this document in general needs to be reviewed before release ( %YES% | %NO% )
   * Local INCLUDE_REVIEW = %YES%

   Please define if this document in general needs to be tested before release ( %YES% | %NO% )
   * Local INCLUDE_TEST   = %NO%

   change to %YES% once the document is ready to be reviewed and back to %NO% if that is not the case
   * Local REVIEW_READY   = %YES%

   change to %YES% once the document is ready to be tested and back to %NO% if that is not the case
   * Local TEST_READY     = %NO%

   change to %YES% only if the document has passed the review and the test (if applicable) and is ready for release
   * Local RELEASE_READY  = %NO%


   DEAR DOCUMENT REVIEWER
   ======================

   Thank for reviewing this document! Please fill in your FirstLast name here:
   * Local REVIEWER       = JamesWeichel
  
   Please define the review status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local REVIEW_PASSED  = %IN_PROGRESS%


   DEAR DOCUMENT TESTER
   ====================

   Thank for testing this document! Please fill in your FirstLast name here:
   * Local TESTER         = 
  
   Please define the test status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local TEST_PASSED    = %IN_PROGRESS%
############################################################################################################
-->

%META:FILEATTACHMENT{name="Link_Changes_with_New_Release.jpg" attachment="Link_Changes_with_New_Release.jpg" attr="" comment="" date="1324498254" path="Link Changes with New Release.jpg" size="116069" stream="Link Changes with New Release.jpg" tmpFilename="/usr/tmp/CGItemp48283" user="JamesWeichel" version="1"}%
%META:FILEATTACHMENT{name="Link_Changes_with_New_Release.pptx" attachment="Link_Changes_with_New_Release.pptx" attr="" comment="Source for Link Changes with New Release graphic" date="1324498474" path="Link Changes with New Release.pptx" size="86021" stream="Link Changes with New Release.pptx" tmpFilename="/usr/tmp/CGItemp48145" user="JamesWeichel" version="1"}%
%META:TOPICMOVED{by="JamesWeichel" date="1317849436" from="ReleaseDocumentation.DocReleaseProcess" to="Documentation.DocReleaseProcess"}%
