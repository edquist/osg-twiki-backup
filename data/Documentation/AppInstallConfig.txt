%META:TOPICINFO{author="KyleGross" date="1193760320" format="1.1" version="1.3"}%
%META:TOPICPARENT{name="AdminDocVOApp"}%
---+ Installation of VO application software on OSG sites
---++ Introduction
This page provides OSG-wide guidelines and policies. [[VO/WebHome][Your VO]] must provide specifics for installation/configuration of your VO application.

---++ Installation area and space, and installers' credentials
The location where the software is installed follows the OSG local storage policy, i.e. it uses $OSG_APP, which is visible to all the worker nodes. The concrete path to your VOs software is VO-specific. %RED%How do you establish this path? Who to contact?%ENDCOLOR% Your VO may maintain multiple releases on each OSG site. Given the size of each release, determine how many GB of space you will require on $OSG_APP.

We recommend that your VO set up a special "software" role in your VOMS server, and assign it to the software installers (and software developers). When a job comes to an OSG site gatekeeper, using the "software" role, local site GUMS is required to map it to a special VO-specific account , which is then given higher priority on the local batch job system over other user accounts for your VO. Also your VO's software installed on OSG sites should be owned by a special account, such that it can not be overritten by other users. %RED%Again, how to establish these two accounts? Who to contact?%ENDCOLOR%

---++ Installation Procedure

The installation commands must be put into a job, and sent to the remote gatekeeper fork jobmanager%RED%We should document this under end user, and point to it from here, right?  It's the same procedure to send the job?%ENDCOLOR%. The set of commands is required to:

   * query OSG information system to find where $OSG_APP is on the remote site. The information is available from several OSG components, like GridCat?, GIP/BDII and jobmanager-mis. OSG 0.4.1 simplifies this; now it's possible for the installation job to figure out $OSG_APP on the fly, directly from its runtime environment variable.
   * install and set up pacman in $OSG_APP area (which is writable by VO installers), if it's not yet installed and available
   * create all the necessary subdirectories below $OSG_APP/(your_VOs_area), and do a pacman install, e.g.,  =pacman -get GCL:JobTransforms=. The pacman installation usually takes about 2 to 5 hours to finish.

Once it's done, it will publish/update the information in the local file =$OSG_APP/etc/grid3-locations.txt=, which is read by and can be queried through the %RED%need link to MDS%ENDCOLOR% MDS information provider. A webpage %RED%WHAT webpage?%ENDCOLOR% is also updated automatically. 



-- Main.AnneHeavey - 26 Sep 2006
%META:TOPICMOVED{by="KyleGross" date="1193760320" from="Trash.DocumentationAppInstallConfig" to="Documentation.AppInstallConfig"}%
