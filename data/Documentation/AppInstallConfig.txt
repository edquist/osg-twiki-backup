%META:TOPICINFO{author="DerekWeitzel" date="1309190169" format="1.1" reprev="1.13" version="1.13"}%
%DOC_STATUS_TABLE%

---+!! Installation of VO application software on OSG sites
%TOC%


---++ About This Document
This page provides OSG-wide guidelines and policies on software installation for a %LINK_GLOSSARY_VO% (VO).  A VO may want to install software on a site if it is too large to transfer per job, or if it is too complicated to setup on each job execution.

The OSG has set aside a special area for VO's to install software, pointed to by the environment variable =$OSG_APP=.  

---++ Installation
In order to support the most grid resources, it is suggested that the application support a RHEL platform, whether [[http://www.redhat.com/rhel/][RHEL]], [[http://centos.org/][CentOS]], or [[http://www.scientificlinux.org/][Scientific Linux]].

Software installation suggestions:
   * Support RHEL5 (or equivalent)
   * Application statically compiled
      * Or bring your own libraries
   * Easy installation (tar file)

---+++ Installation Area and space
Installation is done in the directory pointed to by =$OSG_APP=.  It is good practice to install under a VO specific directory, under =$OSG_APP=, for example: =$OSG_APP/%RED%vo%ENDCOLOR%=.


   * The location where the software is installed follows the OSG local storage policy, i.e. it uses $OSG_APP, which is visible to all the worker nodes. 
   * The filesystem represented by $OSG_APP may or may not be writable from the worker nodes. The top-level $OSG_APP directory may or may not be world-writable; you may have to request the creation of a VO-owned directory under $OSG_APP into which your software is installed.
   * Your VO may maintain multiple releases on each OSG site. Given the size of each release, determine how many GB of space you will require on $OSG_APP.
   * We recommend that your VO set up a special "software" role in your VOMS server, and assign it to the software installers (and software developers).%BR%When a job comes to an OSG site gatekeeper, using the "software" role, local site GUMS if (present) may map it to a special VO-specific account, with possibly higher priority on the local batch job system over other user accounts for your VO.%BR%Note this "software" role may be distinct from any "Production" role you may wish to assign to (eg) official jobs using the software to do work. Also your VO's software installed on OSG sites should be owned by a special account, such that it can not be overwritten by "normal" users. Specific account and FQAN mapping requests should be sent to [[mailto:goc@opensciencegrid.org][the GOC]].

---++ Installation Procedure

The installation commands should be put into a script and sent to the remote gatekeeper as a fork job (via globus-job-run or !CondorG). This job should not unduly tax the CE (eg by compiling software).

<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
 DEAR DOCUMENT OWNER
 ===================

 Thank you for claiming ownership for this document! Please fill in your FirstLast name here:
   * Local OWNER = TerrenceMartin

 Please define the document area, choose one of the defined areas from the next line
 DOC_AREA = (ComputeElement|Storage|VO|Security|User|Monitoring|General|Integration|Operations|Tier3)
   * Local DOC_AREA       = VO

 define the primary role the document serves, choose one of the defined roles from the next line
 DOC_ROLE = (EndUser|Student|Developer|SysAdmin|VOManager)
   * Local DOC_ROLE       = VOManager

 Please define the document type, choose one of the defined types from the next line
 DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge)
   * Local DOC_TYPE       = Installation

  Please define if this document in general needs to be reviewed before release ( %YES% | %NO% )
   * Local INCLUDE_REVIEW = %YES%

 Please define if this document in general needs to be tested before release ( %YES% | %NO% )
   * Local INCLUDE_TEST   = %NO%

 change to %YES% once the document is ready to be reviewed and back to %NO% if that is not the case
   * Local REVIEW_READY   = %YES%


 change to %YES% only if the document has passed the review and the test (if applicable) and is ready for release
   * Local RELEASE_READY  = %NO%


 DEAR DOCUMENT REVIEWER
 ======================

 Thank for reviewing this document! Please fill in your FirstLast name here:
   * Local REVIEWER       = DerekWeitzel
 Please define the review status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local REVIEW_PASSED  = %IN_PROGRESS%


############################################################################################################
-->

-- Main.AnneHeavey - 26 Sep 2006

-- Main.ChrisGreen - 02 Nov 2007

%META:TOPICMOVED{by="KyleGross" date="1193760320" from="Trash.DocumentationAppInstallConfig" to="Documentation.AppInstallConfig"}%
