%META:TOPICINFO{author="DaveDykstra" date="1335297860" format="1.1" reprev="1.5" version="1.5"}%
%META:TOPICPARENT{name="ReleaseNotes"}%
%TOC%

---+ OSG Software release 3.0.10

*Release Date*: 10-Apr-2012

---++ Summary of Changes

   * SL6 support for the CE, VOMS, client, and SE. 
   * RSV 3.7.0 changelog
      * Core:
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-618][SOFTWARE-618]] - implemented support for using legacy Globus proxies
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-530][SOFTWARE-530]] - added metric configuration knob to skip ping check
      * Metrics:
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-600][SOFTWARE-600]] - fixed a bug in the Gratia Condor probe that could not find condor_config_val when it was installed in a non-standard location outside the PATH
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-595][SOFTWARE-595]] - changed the status of the local certificate checks to be a WARNING when the certificate's validity is 168>validity>24 hours.  The status will still be CRITICAL when it is valid for <24 hours.
         * Removed org.osg.batch.* metrics.  They did not work with OSG 3.
         * Removed some other old OSG 1.2 code from the packaging that was not used.
      * Consumers:
         * Implemented nagios-consumer for OSG 3.  Incorporated rsv2nagios.py and rsv2nsca.py in the new consumer.
         * Rewrote html-consumer and gratia-consumer to share code with the new nagios-consumer
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-519][SOFTWARE-519]] - fixed a bug where a consumer could crash if the timestamp field in a record was empty
         * osg-configure now accepts the accounting_log_directory option for PBS.
   * Updated glexec, lcmaps and associated packages to be based on the latest versions released for Europe.
      * Biggest changes:
         * Syslog interface is much more consistent.  The number of default messages are reduced, and the levels match those defined by syslog.  The syslog facility can be changed so they can be redirected to a separate file by /etc/syslog.conf.
         * Glexec, upgraded from version 0.8.10 to version 0.9.6, has major new optional functionality in epilog scripts, although there's currently no plans in OSG to use them.  Signal handling was implemented, and many bugs were fixed.  [[http://ndpfsvn.nikhef.nl/cgi-bin/viewvc.cgi/mwsec/trunk/glexec/NEWS?revision=16281][Detailed NEWS]].
         * lcas-lcmaps-gt4-interface, the globus callout, upgraded from version 0.1.4 to 0.2.4, adds some configuration options, fixes memory leaks, and fixes a bug in parsing /etc/lcmaps.db that the OSG distribution was accidentally benefitting by.  The OSG distribution eliminates lcas as a dependency of this so lcas is no longer installed at all.  [[http://ndpfsvn.nikhef.nl/cgi-bin/viewvc.cgi/mwsec/trunk/lcas-lcmaps-gt4-interface/NEWS?revision=16151][Detailed NEWS]].
         * lcmaps, upgraded from 1.4.28 to 1.5.4, fixed segmentation faults and other bugs in addition to the major logging rework.  The OSG distribution made lcmaps.db more clean and made the VOMS credential check possible to be enabled though off by default.  [[http://ndpfsvn.nikhef.nl/cgi-bin/viewvc.cgi/mwsec/trunk/lcmaps/NEWS?revision=16233][Detailed NEWS]].
         * lcmaps-plugins-basic, upgraded from 1.4.5 to 1.5.0.  [[http://ndpfsvn.nikhef.nl/cgi-bin/viewvc.cgi/mwsec/trunk/lcmaps-plugins-basic/NEWS?revision=15547][Detailed NEWS]].
         * lcmaps-plugins-scas-client, upgraded from 0.2.22 to 0.3.4, eliminates need for several OSG-specific patches, enables TCP keepalives on sockets, and adds new protocol messages for SAZ.  [[http://ndpfsvn.nikhef.nl/cgi-bin/viewvc.cgi/mwsec/trunk/lcmaps-plugins-scas-client/NEWS?revision=16103]][Detailed NEWS]].
         * lcmaps-plugins-verify-proxy, upgraded from 1.4.9 to 1.5.2, improves certificate checking, adds some options including --require-limited-proxy.  [[http://ndpfsvn.nikhef.nl/cgi-bin/viewvc.cgi/mwsec/trunk/lcmaps-plugins-verify-proxy/NEWS?revision=16087][Detailed NEWS]].
         * lcmaps-plugins-glexec-tracking (an OSG-exclusive package), upgraded from 0.1.1 to 0.1.4, matches logging changes, adds -log-facility and -loglevel options, and fixed a bug that prevented soft-killing processes that survive the main payload. [[http://cdcvs.fnal.gov/cgi-bin/public-cvs/cvsweb-public.cgi/privilege/lcmaps-plugins-glexec-tracking/RELEASE_NOTES.diff?r1=1.8&r2=1.11][Details]].
         * xacml, replaces saml2-xacml2-c-lib, now only includes the xacml library and gets gsoap from EPEL.  [http://ndpfsvn.nikhef.nl/cgi-bin/viewvc.cgi/mwsec/trunk/saml2-xacml2-c-lib/xacml/NEWS?revision=15810][Detailed NEWS]].
      * Resolved tickets:
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-441][SOFTWARE-441]] - lcmaps-plugins-gums-client missing man page, and module needs to move to libdir/lcmaps
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-284][SOFTWARE-284]] - The lcas-lcmaps-gt4-interface globus callout should avoid lcas
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-315][SOFTWARE-315]] - Enhance osg-configure to assist with authorization configuration (including lcmaps.db)
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-419][SOFTWARE-419]] - Make lcmaps-plugins-saz-client a subpackage of lcmaps-plugins-scas-client
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-416][SOFTWARE-416]] - Reduce syslog output for globus-gatekeeper
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-566][SOFTWARE-566]] - Reduce syslog output for globus-gridftp-server
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-231][SOFTWARE-231]] - Default log levels in lcas-lcmaps-gt4-interface are too high
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-629][SOFTWARE-629]] - i386 lcmaps upgrade failure
         * [[http://jira.opensciencegrid.org/browse/SOFTWARE-635][SOFTWARE-635]] - lcmaps VOMS certificate check disabling at the app level is a support problem

All of the documentation can be found in [[Documentation.Release3][the "Release3"]] area of the Twiki. 

---++ Updating to the new release

If you have an existing installation, you can update to this new release with:

<pre class="rootscreen">
%UCL_PROMPT_ROOT% yum update
</pre>

%NOTE% Please be aware that running =yum update= may also update other RPMs. You can exclude packages from being updated using the =--exclude&#61;[package-name or regex]= option for the =yum= command.

%NOTE% Watch the yum update carefully for any messages about a =.rpmnew= file being created.  That means that a configuration file had been editted, and a new default version was to be installed.  In that case, rpm does not overwrite the editted configuration file but instead installs the new version with a =.rpmnew= extension. You will need to merge any edits that have made into the =.rpmnew= file and then move the merged version into place (that is, without the =.rpmnew= extension).  Watch especially for =/etc/lcmaps.db=, which every site is expected to edit.

---++ Need help?

Do you need help with this release? [[HelpProcedure][Contact us for help]].

---++ Detailed Changes 

---+++ Packages

We added or updated the following packages to the production OSG yum repository. Note that in some cases, there are multiple RPMs for each 'package': you can click on any given package to see the set of RPMs or see the complete list below.


---++++ Enterprise Linux 5


---++++ Enterprise Linux 6



---+++ RPMs

If you wish to only update the RPMs that changed, the set of RPMs is:

---++++ Enterprise Linux 5

<pre class="file">
</pre>

---++++ Enterprise Linux 6

<pre class="file">

</pre>

<!-- vim:ft=twiki
-->
