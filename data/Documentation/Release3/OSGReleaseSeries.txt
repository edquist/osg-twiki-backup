%META:TOPICINFO{author="BrianLin" date="1426105159" format="1.1" reprev="1.10" version="1.10"}%
---+!! *OSG Release Series*
%DOC_STATUS_TABLE%
%TOC%

---+ About This Document

This document introduces the different OSG release series and how to update from one to a newer one.

---+ Introduction to OSG Series

An OSG release series is what it sounds like! That is, each series is a sequence of OSG software releases. For example, the 3.1 release series contains OSG software 3.1.0, 3.1.1, &hellip;, 3.1.26, etc. Further, a release series corresponds to a set of Yum software repositories, including ones for development, testing, and production use. The Yum repositories for one release series are completely distinct from the repositories for a different release series, even though they may share some packages in common. A particular release within a series is really just a snapshot of packages and their exact versions at one point in time. Generally, when you install software from a release series, say 3.1, you get the most current versions of software packages within that series, regardless of the current release version.

When a new OSG Series is released, it is an opportunity for the OSG Technology area to add major new software packages, make substantial updates to existing packages, and remove obsolete packages. When a new series is initially released, most packages are identical to the previous release, but two adjacent series will diverge over time.

---+ OSG Release Series

Since the start of the RPM-based OSG software stack, we have offered the following release series:

   * *OSG 3.1* started in April 2012, and is still available today. Historically, there were 3.0.x releases as well, but there was no separate release series for 3.0 and 3.1; we simply went from 3.0.10 to 3.1.0 in the same repositories.

   * *OSG 3.2* started in November 2013, and is still available today. The main differences between it and 3.1 were the introduction of glideinWMS 3.2, HTCondor 8.0, and Hadoop/HDFS 2.0; also the !gLite CE Monitor system was dropped in favor of osg-info-services.

---+ OSG Upcoming

There is one more OSG Series called "upcoming" which contains major updates planned for a future release series.  The yum repositories for upcoming (eg, osg-upcoming, osg-upcoming-testing) are available from both OSG 3.1 and 3.2, and individual packages can be installed from Upcoming without needing to update entirely to a new series.

---+ Installing an OSG Release Series

See YumRepositories (under "Install OSG Repositories") for instructions on installing the OSG repositories.

---+ Updating from OSG 3.1 to 3.2

<ol>
   <li>
      <p>If you have an existing installation based on OSG 3.1 and want to upgrade to 3.2, we recommend first removing the 3.1 yum repositories:</p> \
<pre class="rootscreen">
%UCL_PROMPT_ROOT% rpm -e osg-release</pre>
      <p>This step ensures that any local modifications to =*.repo= files will not prevent installing the new 3.2 repos.  Any modified =*.repo= files should appear under =/etc/yum.repos.d/= with the =*.rpmsave= extension.  After installing the new OSG repositories (the next step) you may want to apply any changes made in the =*.rpmsave= files to the new =*.repo= files.</p>
   </li>
   <li>
      <p>Install the OSG repositories:</p>\
      <pre class="rootscreen">%UCL_PROMPT_ROOT% rpm -Uvh %RED%URL%ENDCOLOR%</pre>\
      <p>Where =%RED%URL%ENDCOLOR%= is one of the following:</p>
| *Series* | *EL5 URL (for RHEL5, !CentOS5, or SL5)* | *EL6 URL (for RHEL6, !CentOS6, or SL6)* |
| *OSG 3.1* | =http://repo.grid.iu.edu/osg/3.1/osg-3.1-el5-release-latest.rpm= | =http://repo.grid.iu.edu/osg/3.1/osg-3.1-el6-release-latest.rpm= |
| *OSG 3.2* | =http://repo.grid.iu.edu/osg/3.2/osg-3.2-el5-release-latest.rpm= | =http://repo.grid.iu.edu/osg/3.2/osg-3.2-el6-release-latest.rpm= |
%STARTSECTION{"Update"}%
    <li>
      <p>Clean yum cache:</p>
      <pre class="rootscreen">%UCL_PROMPT_ROOT% yum clean all --enablerepo=*</pre>
    </li>
    <li>
      <p>Update software:</p>
      <pre class="rootscreen">%UCL_PROMPT_ROOT% yum update</pre>
      <p>This command will update *all* packages on your system.</p>
    </li>
%ENDSECTION{"Update"}%
  </ol>

*Troubleshooting* If you are not having the expected result or having problems with Yum please see [[YumRpmBasics#Troubleshooting][Yum Troubleshooting]]

---++ Migrating from CEMon to OSG Info Services on the Compute Element

The program CEMon (found in the package =glite-ce-monitor=) is no longer available in OSG 3.2. OSG Info Services (package =osg-info-services=) now provides the same functionality. To migrate CEMon configuration to OSG Info Services, perform the following procedure (after following the above update instructions):
   1. Ensure =osg-info-services= and =osg-configure-infoservices= are installed:\
      <pre class="rootscreen">[root@ce ~]# rpm -q osg-info-services osg-configure-infoservices</pre>
   1. <p>If there is a CEMon configuration file at =/etc/osg/config.d/30-cemon.ini=, copy its settings to the OSG Info Services configuration file at <code>/etc/osg/config.d/30-infoservices.ini</code></p>
   1. Run osg-configure to configure OSG Info Services:\
      <pre class="rootscreen">[root@ce ~]# osg-configure -c -m infoservices</pre>
   1. Enable and start the osg-info-services service:<pre class="rootscreen">
[root@ce ~]# chkconfig osg-info-services on
[root@ce ~]# service osg-info-services start</pre>
   1. Remove CEMon and related packages:<pre class="rootscreen">
[root@ce ~]# yum erase glite-ce-monitor glite-ce-osg-ce-plugin osg-configure-cemon</pre>\
     %NOTE% In the output from this command, yum should *not* list other packages than those three. If it lists other packages, cancel the erase operation, make sure the other packages are updated to their OSG 3.2 versions (they should have ".osg32" in their versions), and try again.

---+ References
   * [[YumRepositories][YUM Repositories]]
   * [[YumRpmBasics][Basic use of Yum]]
   * [[InstallBestPractices][Best practices in using Yum]]

---+ Comments
%COMMENT{type="tableappend"}%

<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
 DEAR DOCUMENT OWNER
 ===================

 Thank you for claiming ownership for this document! Please fill in your FirstLast name here:
   * Local OWNER = CarlEdquist

 Please define the document area, choose one of the defined areas from the next line
 DOC_AREA = (ComputeElement|Storage|VO|Security|User|Monitoring|General|Integration|Operations|Tier3)
   * Local DOC_AREA       = General

 define the primary role the document serves, choose one of the defined roles from the next line
 DOC_ROLE = (EndUser|Student|Developer|SysAdmin|VOManager)
   * Local DOC_ROLE       = SysAdmin

 Please define the document type, choose one of the defined types from the next line
 DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge)
   * Local DOC_TYPE       = Installation
  Please define if this document in general needs to be reviewed before release ( %YES% | %NO% )
   * Local INCLUDE_REVIEW = %YES%

 Please define if this document in general needs to be tested before release ( %YES% | %NO% )
   * Local INCLUDE_TEST   = %YES%

 change to %YES% once the document is ready to be reviewed and back to %NO% if that is not the case
   * Local REVIEW_READY   = %NO%

 change to %YES% once the document is ready to be tested and back to %NO% if that is not the case
   * Local TEST_READY     = %NO%

 change to %YES% only if the document has passed the review and the test (if applicable) and is ready for release
   * Local RELEASE_READY  = %NO%


DOCUMENT REVIEWER
======================

   Thank for reviewing this document! Please fill in your FirstLast name here:
   * Local REVIEWER       = 
  
   Please define the review status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local REVIEW_PASSED  = %IN_PROGRESS%


DOCUMENT TESTER
====================

   Thank for testing this document! Please fill in your FirstLast name here:
   * Local TESTER         = 
  
   Please define the test status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local TEST_PASSED    = %IN_PROGRESS%


############################################################################################################
-->

%META:TOPICMOVED{by="CarlEdquist" date="1384294010" from="Documentation/Release3.NewOSGSeries" to="Documentation/Release3.OSGReleaseSeries"}%
