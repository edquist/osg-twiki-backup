%META:TOPICINFO{author="AlainRoy" date="1320336290" format="1.1" version="1.14"}%
%META:TOPICPARENT{name="WebHome"}%
%LINKCSS%

---+ Known problems in the OSG RPM installation
%TOC%

#SetWNPath
---++ Mixing Pacman-based CE with RPM-based worker nodes

If you have a Pacman-based CE with RPM-based worker nodes, you need to tweak your CE, particularly if you use Condor. In particular, you want to ensure that the PATH is set so that the jobs can find the standard tools. With the old worker node, the jobs relied on =setup.sh=, which no longer exists. (Actually, it exists but is empty.) The new CE sets the PATH, but the default PATH for Condor is empty. You can edit =$VDT_LOCATION/etc/config.ini" to add a line to your local settings:

<pre class="file">
[Local Settings]
%RED%PATH=/bin:/usr/bin%ENDCOLOR%
</pre>

You do not need to do this if you have an RPM-based CE because it will be done automatically.

---++ Problems with EPEL and/or yum-priorities

When you install, you might see errors like this:
<pre class="screen">
Error: Missing Dependency: libglobus_gss_assist.so.3()(64bit) is needed by package CGSI-gSOAP-1.3.4.2-2.el5.x86_64 (epel-x86_64)
Error: Missing Dependency: libglobus_gsi_credential.so.1()(64bit) is needed by package lcgdm-1.8.1.2-1.el5.x86_64 (epel-x86_64)
Error: Missing Dependency: libglobus_gsi_callback.so.0()(64bit) is needed by package lcgdm-1.8.1.2-1.el5.x86_64 (epel-x86_64)
Error: Missing Dependency: libglobus_gssapi_gsi.so.4()(64bit) is needed by package lcgdm-1.8.1.2-1.el5.x86_64 (epel-x86_64)
...
</pre>

There are two possible reasons for this:

   1. You didn't install =yum-priorities=. Our instructions include this step, and it's essential in order to avoid this problem.
   1. For some reason, you pre-installed portions of Globus from the EPEL repository. Because we have a significantly newer (and better!) version of Globus in our repository, there are hard-to-resolve conflicts. You have to remove the old version of Globus before you proceed with the install. (And install =yum-priorities=.) To be clear, if you have pre-installed any of the following package from the EPEL repository, they should be removed:
      * Packages beginning with =globus=
      * CGSI-gSOAP
      * lcgdm
      * voms
      * Maybe others we aren't yet aware of.

You can remove them with a command such as:
<pre class="rootscreen">
%UCL_PROMPT_ROOT% rpm -e --nodeps %RED%packagename%ENDCOLOR%
</pre>

---++ Uninstall old version of osg-ca-certs

If you've previously installed osg-ca-certs from the older software.grid.iu.repository, please remove it before starting your installation to avoid conflicts.

We hope to have a smoother transition that doesn't requires you do to this, but for now you need to remove the old RPM. 

---++ Old versions of Condor

Several of the RPMs in our repository depend on Condor. These include:

   * The Gratia Condor probes
   * The Condor job managers
   * glexec (just depends on the _condor_procd=, _not_ all of Condor)
   * RSV

If you don't have Condor installed, these will install Condor from our software repository. If you've installed Condor 7.6.0 or later from RPMs, your version will be used. However, if you've installed Condor 7.4.x or earlier from RPMs, it will appear not to satisfy the dependencies and our version of Condor will be installed. For now there is no good way around this--you must install Condor 7.6.0 or later if you need Condor. 

In the case of glexec, it's not just RPM dependencies that are not resolved--it reuqires a =condor_procd= from Condor 7.6.0 or later to work. Condor 7.4.x will _not_ work.

---++ No LSF support

There is not yet a Globus GRAM job manager for LSF. We expect one, but it might be a while.

---++ Java upgrade

You may see the following set of error messages while upgrading the =jdk= package:
<pre>
Unpacking JAR files...
rt.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/rt.pack
jsse.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/jsse.pack
charsets.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/charsets.pack
tools.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/lib/tools.pack
localedata.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/ext/localedata.pack
plugin.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/plugin.pack
javaws.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/javaws.pack
deploy.jar...
Error: Could not open input file: /usr/java/jdk1.6.0_26/jre/lib/deploy.pack
</pre>
These are completely harmless and can be ignored.


%META:TOPICMOVED{by="JamesWeichel" date="1317238177" from="Documentation.KnownProblems" to="Documentation/Release3.KnownProblems"}%
