%META:TOPICINFO{author="ScotKronenfeld" date="1319053296" format="1.1" version="1.1"}%
%META:TOPICPARENT{name="NavTechRSV"}%
---+ !RSV Troubleshooting Guide

%TOC%

---++ !RSV v3 (OSG 3.0)

---+++ Debugging errors from specific metrics

| *Metrics* | *Debugging help* |
| org.osg.gratia.condor %BR% org.osg.gratia.gridftp-transfer %BR% org.osg.gratia.hadoop-transfer %BR% org.osg.gratia.lsf %BR% org.osg.gratia.metric %BR% org.osg.gratia.pbs %BR% org.osg.gratia.sge | [[Accounting/GratiaRSVMonitoringProbe][gratia-config-probe]] |
| org.osg.gip.consistency %BR% org.osg.gip.lastrun %BR% org.osg.gip.freshness | [[GratiaInfoServicesProbe][info-services-probe]] |
| org.osg.ress.ress-classad-exists | [[ReSSClassadExistsProbe][ress-classad-exists-probe]] |
| org.osg.ress.cemon-containerkeyfile-CE-permissions | [[CEMonContainerKeyFilePermissionsProbe][cemon-containerkeyfile-ce-permissions-probe]] |

   * [[ProbeTroubleshootingTemplate][Template for creating a new probe troubleshooting page]]

---+++ Resending failed Gratia records
<p>If RSV fails to send Gratia records, it will save a copy of the output into <tt>/var/spool/rsv/failed-gratia-scripts</tt>.  You will be notified if files are in this directory on your HTML status page.

<p>If files appear here, you can attempt to determine why by looking at this log file: <tt>/var/log/rsv/consumers/gratia-consumer.output</tt>.  This file is rotated, so the error message may no longer be present.

<p>Usually this error is spurious - there may have been a problem with the central collector being unavailable, or there may have been a network problem.  The first step to fix this problem is to try to resend these files.  To do so, move them back into the <tt>gratia</tt> directory and they will be resent the next time the gratia-script-consumer runs (about every 5 minutes):

<pre class="screen">
mv /var/spool/rsv/failed-gratia-records/* /var/spool/rsv/gratia-consumer/
</pre>

<p>If you continue to have problems, please contact the GOC.