%META:TOPICINFO{author="KyleGross" date="1328026215" format="1.1" version="1.7"}%
%META:TOPICPARENT{name="NavAdminCompute"}%
---+!! *Understanding the Compute Element*
%TOC{depth="2"}%

<!-- useful variable definions
   * Local UCL_HOST = ce
   * Local UCL_USER = root
-->
%DOC_STATUS_TABLE%

---+ About this Document

%ICON{hand}% This document is for system administrators and users. It provides information about the software installed on a %LINK_GLOSSARY_CE% and the services provided.

%NOTE% Instructions for installing a Compute Element can be found [[ReleaseDocumentation/ComputeElementInstall][here]].


<!-- ---+!! Compute Element: Software and Services -->



---+ Installation paths

The OSG !RPMs install software in filesystem locations following the [[http://www.pathname.com/fhs/][FHS]] guidelines.  Accordingly most binaries are located in =/usr/bin/= or =/usr/sbin/= .  Unlike with previous OSG Pacman releases, you will not need to source a =setup.sh= script before working with OSG.    The configuration files are all in =/etc/= or its subdirectories, with =osg-configure= and GIP using configuration files in =/etc/osg/config.d= .  Log files are all located in =/var/log= or its subdirectories. Other OSG output files, such as =osg-attributes.conf= and other auto-generated files, are located in =/var/lib/osg=.  



---+ Services

The CE services installed by !RPMs by default place cron or startup scripts in the appropriate locations (e.g. =/etc/init.d=) but do not enable or start these services.  Admins can enable, start, and stop services using the =chkconfig= or =service= commands.  E.g. use =chkconfig fetch-crl-cron on= or =service fetch-crl-cron start= or =service fetch-crl-cron stop= to enable, start, and stop the fetch-crl-cron service respectively.

The CE needs to run the =globus-gatekeeper=, =tomcat5=, =globus-gridftp-server=, and the appropriate gratia job manager probe in order to provide the minimal services required of a gatekeeper.  In addition, the =edg-mkgridmap= or the =gums-client-cron= services will need to be enabled and running depending on whether your resource is using gridmap or gums for authorization. Finally, if your gatekeeper is using any of the !RPMs that provides CA certificates and !CRLs, the =fetch-crl-cron= and =fetch-crl-boot= services should be enabled so that !CRLs are up to date.

The services that are installed on a CE are as follows:

---++ Cron Services
%INCLUDE{"Documentation/Release3/OSGServices" section="CECronServices"}%

---++ Init.d Services
%INCLUDE{"Documentation/Release3/OSGServices" section="CEInitServices"}%

---++ Inetd Services
%INCLUDE{"Documentation/Release3/OSGServices" section="CEInetdServices"}%

---++ Log file rotation
Log files are now located in =/var/log= or subdirectories within that directory.  Threrefore, you can use the standard logrotate script or it's equivalents to rotate log files, the logrotation configurations for the log files generated by OSG services are located in =/etc/logrotate.d=.  The logrotate configuration files provided handle all of the log files generated by the OSG provided services.


%BR%



---+ Comments
%COMMENT{type="tableappend"}%


<!-- CONTENT MANAGEMENT PROJECT

   DEAR DOCUMENT OWNER
   ===================

   Thank you for claiming ownership for this document! Please fill in your FirstLast name here:
   * Local OWNER          = SuchandraThapa

   Please define the document area, choose one of the defined areas from the next line
   DOC_AREA = (ComputeElement|Storage|VO|Security|User|Monitoring|General|Integration|Operations|Tier3)
   * Local DOC_AREA       = ComputeElement

   define the primary role the document serves, choose one of the defined roles from the next line
   DOC_ROLE = (Scientist|Student|Developer|SysAdmin|VOManager)
   * Local DOC_ROLE       = SysAdmin

   Please define the document type, choose one of the defined types from the next line
   DOC_TYPE = (Trash/Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge)
   * Local DOC_TYPE       = Installation
   
   Please define if this document in general needs to be reviewed before release ( %YES% | %NO% )
   * Local INCLUDE_REVIEW = %YES%

   Please define if this document in general needs to be tested before release ( %YES% | %NO% )
   * Local INCLUDE_TEST   = %NO%

   change to %YES% once the document is ready to be reviewed and back to %NO% if that is not the case
   * Local REVIEW_READY   = %YES%

   change to %YES% once the document is ready to be tested and back to %NO% if that is not the case
   * Local TEST_READY     = %NO%

   change to %YES% only if the document has passed the review and the test (if applicable) and is ready for release
   * Local RELEASE_READY  = %YES%


   DEAR DOCUMENT REVIEWER
   ======================

   Thank for reviewing this document! Please fill in your FirstLast name here:
   * Local REVIEWER       = MarcoMambelli
  
   Please define the review status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local REVIEW_PASSED  = %YES%


   DEAR DOCUMENT TESTER
   ====================

   Thank for testing this document! Please fill in your FirstLast name here:
   * Local TESTER         = SuchandraThapa
  
   Please define the test status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local TEST_PASSED    = %IN_PROGRESS%
 
-->