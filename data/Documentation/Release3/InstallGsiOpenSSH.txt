%META:TOPICINFO{author="SuchandraThapa" date="1347577672" format="1.1" version="1.1"}%
%META:TOPICPARENT{name="WebHome"}%

---+!! Installing GSI !OpenSSH
%DOC_STATUS_TABLE%
%TOC{depth="3"}%

---+ About This Document

This document gives instructions on installing and using the GSI !OpenSSH server available in the 
 

---+ Engineering Considerations


---+ Requirements
---++ Host and OS

#NetworkingReq
---++ Networking
%STARTSECTION{"Firewalls"}%
%INCLUDE{"FirewallInformation" section="FirewallTable" lines="condorcollector,condor"}%

=LOWPORT= and =HIGHPORT= are two values set in the %LINK_GLOSSARY_CONDOR% configuration file, e.g. <pre class="file">
LOWPORT = &lt;low port&gt;
HIGHPORT = &lt;high port&gt;</pre>
The %LINK_GLOSSARY_CONDOR% collector port can be changed in the configuration file.
For more information please check the [[http://research.cs.wisc.edu/condor/manual/v7.6/3_7Networking_includes.html][Networking section of the Condor manual]].

%ENDSECTION{"Firewalls"}%

You'll find more client specific details also in the [[#Firewall_Considerations][Firewall section]] of this document.

---+ Installation procedure
%INCLUDE{"YumRepositories" section="OSGRepoBrief" TOC_SHIFT="+"}%

%STARTSECTION{"InstallGSIOpenSSHRPMs"}%
---++ Condor Installation
*On each node* Start with installing GSI !OpenSSH from the repository
<pre  class="rootscreen">
%UCL_PROMPT_ROOT% yum install condor
</pre>



---+ Services
The condor master on each node taked care to start and monitor the correct services as selected in the configuration file.

---++ Starting and Enabling Services
To start the services:
   1. To start Condor you can use the service command, e.g.: <pre class="rootscreen">
%UCL_PROMPT_ROOT% /sbin/service condor start
</pre>

You should also enable the appropriate services so that they are automatically started when your system is powered on: 
   * To enable Condor by default on the node: <pre class="rootscreen">
%UCL_PROMPT_ROOT% /sbin/chkconfig condor on
</pre>

---++ Stopping and Disabling Services
To stop the services:
   1. To stop Condor you can use: <pre class="rootscreen">
%UCL_PROMPT_ROOT% /sbin/service condor stop
</pre>

In addition, you can disable services by running the following commands.  However, you don't need to do this normally.
   * Optionally, to disable Condor: <pre class="rootscreen">
%UCL_PROMPT_ROOT% /sbin/chkconfig condor off
</pre>

---+ Troubleshooting

#ImportantFiles
---++ Useful configuration and log files

Configuration Files
| *Service or Process* | *Configuration File* | *Description* |
| condor | =/etc/condor/condor_config= | Configuration file |
| | =/etc/condor/condor_config.cluster= | Configuration file |

Log files
| *Service or Process* | *Log File* | *Description* |
| condor | =/var/log/condor/= | All log files |

---++ Test Condor

After starting Condor you can check if it is running correctly<pre  class="screen">
%UCL_PROMPT% condor_config_val log   # (should be /var/log/condor/)
%UCL_PROMPT% cd /var/log/condor/
#check master log file
%UCL_PROMPT% less MasterLog
# verify the status of the negotiator
%UCL_PROMPT% condor_status -negotiator</pre>

You can see the resources in your Condor cluster using =condor_status= and submit test jobs with =condor_submit=. 
Check CondorTest for more.



---+ How to get Help?
To get assistance please use this [[HelpProcedure][Help Procedure]].


---+ References

---+ Comments
%COMMENT{type="tableappend"}%

<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################ 
   DEAR DOCUMENT OWNER
   ===================

   Thank you for claiming ownership for this document! Please fill in your FirstLast name here:
   * Local OWNER          = MarcoMambelli

   Please define the document area, choose one of the defined areas from the next line
   DOC_AREA = (ComputeElement|Storage|VO|Security|User|Monitoring|General|Integration|Operations|Tier3)
   * Local DOC_AREA       =  ComputeElement

   define the primary role the document serves, choose one of the defined roles from the next line
   DOC_ROLE = (EndUser|Student|Developer|SysAdmin|VOManager|Documenter)
   * Local DOC_ROLE       = SysAdmin

   Please define the document type, choose one of the defined types from the next line
   DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge)
   * Local DOC_TYPE       = Installation
   
   Please define if this document in general needs to be reviewed before release ( %YES% | %NO% )
   * Local INCLUDE_REVIEW = %YES%

   Please define if this document in general needs to be tested before release ( %YES% | %NO% )
   * Local INCLUDE_TEST   = %YES%

   change to %YES% once the document is ready to be reviewed and back to %NO% if that is not the case
   * Local REVIEW_READY   = %YES%

   change to %YES% once the document is ready to be tested and back to %NO% if that is not the case
   * Local TEST_READY     = %YES%

   change to %YES% only if the document has passed the review and the test (if applicable) and is ready for release
   reviewed during the DOC workshop
   * Local RELEASE_READY  = %NO%


   DEAR DOCUMENT REVIEWER
   ======================

   Thank for reviewing this document! Please fill in your FirstLast name here:
   * Local REVIEWER       = AlainRoy
  
   Please define the review status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local REVIEW_PASSED  = %IN_PROGRESS%


   DEAR DOCUMENT TESTER
   ====================

   Thank for testing this document! Please fill in your FirstLast name here:
   * Local TESTER         = AlainRoy
  
   Please define the test status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local TEST_PASSED    = %IN_PROGRESS%
############################################################################################################ 
-->



-- Main.SuchandraThapa - 13 Sep 2012