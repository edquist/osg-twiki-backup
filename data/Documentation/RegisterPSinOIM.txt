%META:TOPICINFO{author="ShawnMcKee" date="1355771671" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="PerfSONARToolKit"}%
%LINKCSS%

<!-- This is the default OSG documentation template. Please modify it in -->
<!-- the sections indicated to create your topic.                        --> 

<!-- By default the title is the WikiWord used to create this topic. If  -->
<!-- you want to modify it to something more meaningful, just replace    -->
<!-- %TOPIC% below with i.e "My Topic".                                  -->

---+!! %SPACEOUT{ "Register perfSONAR-PS in OIM" }%
%TOC%

%STARTINCLUDE%

---++ Registering perfSONAR-PS in OIM

This section describes how to register your perfSONAR-PS instances in OIM.  Each OSG site should have two perfSONAR-PS instances (one for Latency and one for Bandwidth) installed to enable network monitoring.   These instances should be located as "close" (in a network-sense) as possible to the site's storage.  If a logical site is comprised of more than one physical site, each physical site should be instrumented with perfSONAR-PS instances.

The example below uses AGLT2 (primarily an ATLAS Tier-2 center) which has two physical sites located at the University of Michigan in Ann Arbor and at Michigan State University in East Lansing.

To begin registration, make sure you have your X509 certificate loaded in your browser and go to https://oim.grid.iu.edu/oim/home

   * The web page should be similar to this one with your site details.  See notes on this screen capture: <br />
     <img src="%ATTACHURLPATH%/OIM_perfSONAR_reg_1.png" alt="OIM_perfSONAR_reg_1.png" width='991' height='500' />    

   * You need to create a name for the new resource: <br />  
     <img src="%ATTACHURLPATH%/OIM_perfSONAR_reg_2a.png" alt="OIM_perfSONAR_reg_2a.png" width='999' height='677' />

   * Make sure to add both your bandwidth and latency instances (order doesn't matter): <br />
     <img src="%ATTACHURLPATH%/OIM_perfSONAR_reg_2b.png" alt="OIM_perfSONAR_reg_2b.png" width='999' height='654' />    

   * More details about registering the site.  You need to include relevant contact details.  These instructions will apply to each set of perfSONAR-PS instances you register: <br />
     <img src="%ATTACHURLPATH%/OIM_perfSONAR_reg_4b.png" alt="OIM_perfSONAR_reg_4b.png" width='993' height='651' />    

   * You need to agree to the OSG AUPs before submitting.  These instructions will apply to each set of perfSONAR-PS instances you register: <br />
     <img src="%ATTACHURLPATH%/OIM_perfSONAR_reg_4c.png" alt="OIM_perfSONAR_reg_4c.png" width='999' height='660' />    

   * This is similar what your "topology" should look like after adding your first physical sites's perfSONAR-PS instances: <br />
     <img src="%ATTACHURLPATH%/OIM_perfSONAR_reg_3.png" alt="OIM_perfSONAR_reg_3.png" width='970' height='383' />    

   * If you have another site to enter you should add another resource and create a new name (similar to above).  For this example we use *perfSONAR_MSU*.  For details about what to fill out see the first set of examples above if you have questions: <br />
     <img src="%ATTACHURLPATH%/OIM_perfSONAR_reg_4.png" alt="OIM_perfSONAR_reg_4.png" width='996' height='666' />    

   * Final topology for this AGLT2 example  with both physical sites showing: <br />
     <img src="%ATTACHURLPATH%/OIM_perfSONAR_reg_5.png" alt="OIM_perfSONAR_reg_5.png" width='969' height='450' />    

After you have submitted each site you should get an email confirming the requested registration.  We still need to work out the details for how these are handled.

If you have problems or questions please send email to Shawn McKee smckee at umich dot edu.

---++ FAQ

None yet but I'm sure we will fill this out as we get some feedback from sites trying to register their perfSONAR-PS instances.






%STOPINCLUDE%

%BOTTOMMATTER%

-- Main.ShawnMcKee - 17 Dec 2012

%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_1.png" attachment="OIM_perfSONAR_reg_1.png" attr="h" comment="Edit version of first page" date="1355769608" path="OIM_perfSONAR_reg_1.png" size="101206" stream="OIM_perfSONAR_reg_1.png" tmpFilename="/usr/tmp/CGItemp23239" user="ShawnMcKee" version="2"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_2a.png" attachment="OIM_perfSONAR_reg_2a.png" attr="h" comment="Details for UM site 1" date="1355770328" path="OIM_perfSONAR_reg_2a.png" size="79584" stream="OIM_perfSONAR_reg_2a.png" tmpFilename="/usr/tmp/CGItemp23155" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_2b.png" attachment="OIM_perfSONAR_reg_2b.png" attr="h" comment="Details for UM site 2" date="1355770373" path="OIM_perfSONAR_reg_2b.png" size="71763" stream="OIM_perfSONAR_reg_2b.png" tmpFilename="/usr/tmp/CGItemp23244" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_3.png" attachment="OIM_perfSONAR_reg_3.png" attr="h" comment="Example UM site added to topology" date="1355770411" path="OIM_perfSONAR_reg_3.png" size="23982" stream="OIM_perfSONAR_reg_3.png" tmpFilename="/usr/tmp/CGItemp23438" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_4.png" attachment="OIM_perfSONAR_reg_4.png" attr="h" comment="Similar example for MSU site" date="1355770439" path="OIM_perfSONAR_reg_4.png" size="67232" stream="OIM_perfSONAR_reg_4.png" tmpFilename="/usr/tmp/CGItemp23354" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_4b.png" attachment="OIM_perfSONAR_reg_4b.png" attr="h" comment="Further MSU site details 1" date="1355770460" path="OIM_perfSONAR_reg_4b.png" size="87599" stream="OIM_perfSONAR_reg_4b.png" tmpFilename="/usr/tmp/CGItemp23368" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_4c.png" attachment="OIM_perfSONAR_reg_4c.png" attr="h" comment="Further MSU site details 2" date="1355770481" path="OIM_perfSONAR_reg_4c.png" size="58343" stream="OIM_perfSONAR_reg_4c.png" tmpFilename="/usr/tmp/CGItemp23230" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_5.png" attachment="OIM_perfSONAR_reg_5.png" attr="h" comment="Final topology for AGLT2 with both sites" date="1355770506" path="OIM_perfSONAR_reg_5.png" size="27263" stream="OIM_perfSONAR_reg_5.png" tmpFilename="/usr/tmp/CGItemp23302" user="ShawnMcKee" version="1"}%
