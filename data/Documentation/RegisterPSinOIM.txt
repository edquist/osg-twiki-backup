%META:TOPICINFO{author="ShawnMcKee" date="1380665018" format="1.1" reprev="1.5" version="1.5"}%
%META:TOPICPARENT{name="PerfSONARToolKit"}%
%LINKCSS%

<!-- This is the default OSG documentation template. Please modify it in -->
<!-- the sections indicated to create your topic.                        --> 

<!-- By default the title is the WikiWord used to create this topic. If  -->
<!-- you want to modify it to something more meaningful, just replace    -->
<!-- %TOPIC% below with i.e "My Topic".                                  -->

---+!! %SPACEOUT{ "Register perfSONAR-PS in OIM" }%
%TOC%

%STARTINCLUDE%

---++ Registering perfSONAR-PS in OIM

----
----
%ICON{"warning"}% *NOTE: These instructions were revised on October 1, 2013.*  If you registered your perfSONAR-PS instances in OIM following instructions prior to this date please update them using the following instructions.  The summary of the change:  Instead of registering one resource per "Site" and then having two services (latency and bandwidth) for that resource, the new instructions are to register each site/service combination as one resource.   For example a Tier-2 with two sites (A,B) will now need to register 4 resources:  *latency_A*, *latency_B*, *bandwidth_A* and *bandwidth_B*.
----
----
<br>
This section describes how to register your perfSONAR-PS instances in OIM.  For general information about registering items in OIM see  https://twiki.grid.iu.edu/bin/view/Operations/OIMRegistrationInstructions 

Each OSG site should have two perfSONAR-PS instances (one for Latency and one for Bandwidth) installed to enable network monitoring.   These instances should be located as "close" (in a network-sense) as possible to the site's storage.  If a logical site is comprised of more than one physical site, each physical site should be instrumented with perfSONAR-PS instances.

The example below uses AGLT2 (primarily an ATLAS Tier-2 center) which has two physical sites located at the University of Michigan in Ann Arbor and at Michigan State University in East Lansing.

To begin registration, make sure you have your X509 certificate loaded in your browser and go to 
   * https://oim.grid.iu.edu (for registered users)
   * http://oim.grid.iu.edu (for guest)

   * The web page should be similar to this one with your site details.  See notes on this screen capture: <br />
     <img src="%ATTACHURLPATH%/OIM_perfSONAR_reg_1.png" alt="OIM_perfSONAR_reg_1.png" width='991' height='500' />    

   * You need to create a name for the new resource.  This example is the latency instance at the AGLT2 UM site: <br />  
     <img src="%ATTACHURLPATH%/OSG-ps-register-latency.png" alt="OSG-ps-register-latency.png" width='1024' height='694' /> 

   * Please select the right service for the instance you are registering (either latency or bandwidth): <br />
     <img src="%ATTACHURLPATH%/OSG-ps-register-latency-service.png" alt="OSG-ps-register-latency-service.png" width='1016' height='692' />    

   * More details about registering the site.  You need to include relevant contact details.  These instructions will apply to all perfSONAR-PS instances you register: <br />
     <img src="%ATTACHURLPATH%/OIM_perfSONAR_reg_4b.png" alt="OIM_perfSONAR_reg_4b.png" width='993' height='651' />    

   * You need to agree to the OSG AUPs before submitting.  These instructions will apply to each set of perfSONAR-PS instances you register: <br />
     <img src="%ATTACHURLPATH%/OIM_perfSONAR_reg_4c.png" alt="OIM_perfSONAR_reg_4c.png" width='999' height='660' />    

   * If you have another site/service to enter you should add another resource and create a new name (similar to above).  For this example we also need to register *perfSONAR_UM_bandwidth* which is the perfSONAR-PS bandwidth instance for the University of Michigan AGLT2 site.   Since AGLT2 also has a site at Michigan State University we will also need to create two more resources/services:  *perfSONAR_MSU_latency*  and *perfSONAR_MSU_bandwidth*. <br />

   * This is similar what your "topology" should look like after *updating* to the new way of registering perfSONAR-PS instances.  Shown are both old and new entries.  If you haven't registered before you won't see the old entries of course. <br />
     <img src="%ATTACHURLPATH%/OSG-ps-register-topology.png" alt="OSG-ps-register-topology.png" width='731' height='619' />   


After you have submitted each resource you should get an email confirming the requested registration with some details.  *For sites that already have been running and registered in OIM there won't be much that you need to do.*  In such a case you can choose to attend the next Monday meeting if you have questions or concerns.  Details will be in the email that is sent.  Also you should note that tickets will be created to track your new perfSONAR-PS registrations.  You don't have to take any action on them.

If you have problems or questions please send email to Shawn McKee smckee at umich dot edu.

---++ FAQ

*I got an email after registering with lots of information in it...what do I do?*   This is part of the process.  If you are a new site you will need to attend the next OSG operations meeting.   If you are an existing site and have just registered perfSONAR-PS instances you don't have to do anything but feel free to attend the next operations meeting if you have questions or concerns.

*Once I registered, new tickets were opened concerning perfSONAR-PS.  What do  I do?*   This is standard operating procedure and the tickets are to ensure that OSG operations properly gets your new perfSONAR-PS instances registered.  You don't have to do anything and the tickets will be closed by OSG operations staff.






%STOPINCLUDE%

%BOTTOMMATTER%

-- Main.ShawnMcKee - 17 Dec 2012

         

%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_1.png" attachment="OIM_perfSONAR_reg_1.png" attr="h" comment="Edit version of first page" date="1355769608" path="OIM_perfSONAR_reg_1.png" size="101206" stream="OIM_perfSONAR_reg_1.png" tmpFilename="/usr/tmp/CGItemp23239" user="ShawnMcKee" version="2"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_2a.png" attachment="OIM_perfSONAR_reg_2a.png" attr="h" comment="Details for UM site 1" date="1355770328" path="OIM_perfSONAR_reg_2a.png" size="79584" stream="OIM_perfSONAR_reg_2a.png" tmpFilename="/usr/tmp/CGItemp23155" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_2b.png" attachment="OIM_perfSONAR_reg_2b.png" attr="h" comment="Details for UM site 2" date="1355770373" path="OIM_perfSONAR_reg_2b.png" size="71763" stream="OIM_perfSONAR_reg_2b.png" tmpFilename="/usr/tmp/CGItemp23244" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_3.png" attachment="OIM_perfSONAR_reg_3.png" attr="h" comment="Example UM site added to topology" date="1355770411" path="OIM_perfSONAR_reg_3.png" size="23982" stream="OIM_perfSONAR_reg_3.png" tmpFilename="/usr/tmp/CGItemp23438" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_4.png" attachment="OIM_perfSONAR_reg_4.png" attr="h" comment="Similar example for MSU site" date="1355770439" path="OIM_perfSONAR_reg_4.png" size="67232" stream="OIM_perfSONAR_reg_4.png" tmpFilename="/usr/tmp/CGItemp23354" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_4b.png" attachment="OIM_perfSONAR_reg_4b.png" attr="h" comment="Further MSU site details 1" date="1355770460" path="OIM_perfSONAR_reg_4b.png" size="87599" stream="OIM_perfSONAR_reg_4b.png" tmpFilename="/usr/tmp/CGItemp23368" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_4c.png" attachment="OIM_perfSONAR_reg_4c.png" attr="h" comment="Further MSU site details 2" date="1355770481" path="OIM_perfSONAR_reg_4c.png" size="58343" stream="OIM_perfSONAR_reg_4c.png" tmpFilename="/usr/tmp/CGItemp23230" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OIM_perfSONAR_reg_5.png" attachment="OIM_perfSONAR_reg_5.png" attr="h" comment="Final topology for AGLT2 with both sites" date="1355770506" path="OIM_perfSONAR_reg_5.png" size="27263" stream="OIM_perfSONAR_reg_5.png" tmpFilename="/usr/tmp/CGItemp23302" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OSG-ps-register-latency.png" attachment="OSG-ps-register-latency.png" attr="h" comment="Page capture showing registering new resource instance" date="1380654348" path="OSG-ps-register-latency.png" size="92378" stream="OSG-ps-register-latency.png" tmpFilename="/usr/tmp/CGItemp63402" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OSG-ps-register-latency-service.png" attachment="OSG-ps-register-latency-service.png" attr="h" comment="Registering the service for the perfSONAR-PS resource" date="1380663208" path="OSG-ps-register-latency-service.png" size="82537" stream="OSG-ps-register-latency-service.png" tmpFilename="/usr/tmp/CGItemp63382" user="ShawnMcKee" version="1"}%
%META:FILEATTACHMENT{name="OSG-ps-register-topology.png" attachment="OSG-ps-register-topology.png" attr="h" comment="Topology of register PS instances" date="1380664870" path="OSG-=ps-register-topology.png" size="57993" stream="OSG-=ps-register-topology.png" tmpFilename="/usr/tmp/CGItemp63243" user="ShawnMcKee" version="1"}%
