%META:TOPICINFO{author="TedHesselroth" date="1266521365" format="1.1" version="1.3"}%
%META:TOPICPARENT{name="WebHome"}%
---+!! *<noop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%

---++ Storage for the End User
---+++Client Side Patterns
[[ReleaseDocumentation.LocalStorageConfiguration]]
---+++Client gridftp Tools
[[Documentation/StorageDcacheCopying]]
---++++globus-url-copy
---+++Client SRM Tools
---++++Fermliab SRM Clients

---++ Installation of Clients

---+++ Fermi SRM Clients
This set of srmclient commands (developed and maintained at Fermilab), can be used to access/validate a Storage Element.
The location of this package in an ITB CE install (based on VDT 1.10.0) is $VDT_LOCATION/srm-v1-client. Once you source 
the $VDT_LOCATION/setup.s(c)sh file, all these commands should be available in your PATH.

*Note* - Even though the name suggests that Fermi srmclients only support SRM protocol version 1.1, this is not true. The 
Fermi srmclients infact support both SRM Protocol versions 1.1 and 2.2. This name will be changed in VDT 1.10.1

*Note* - If you are interested in getting the latest Fermi srmclient package and can not wait for a new VDT release, you can 
download the rpm from the main [[http://www.dcache.org/downloads/1.8.0/index.shtml][dCache website]]. After you have installed the rpm, by default, the
commands will be available in the /opt/d-cache/srm/bin directory.

---+++ LBNL SRM Clients

A set of SRM client commands, developed at LBNL as generic SRM v2.2 clients, are available to access any SRM v2.2 based storage components. They have been tested for all current SRM v2.2 implementations such as BeStMan, CASTOR, dCache, DPM, SRM/SRB and StoRM. They are continuously being tested for compatibility and interoperability. This can be installed from the VDT distribution or from the tar file download from [[http://datagrid.lbl.gov/bestman][SDM group at LBNL]].  Sample command line examples for [[Storage.BeStMan][BeStMan]] at NERSC and for dCache at FNAL are available on [[Storage.SRMv2Client][this link]].


---+++ LCG Utils

LCG Utils is a suite of client tools for data movement written for the LHC Computing Grid. The tools are based on the Grid File Access Library, which is also included. Commands with access SRM servers are conformant to the SRM v2.2 specification. However, some commands require a connection to a BDII-based catalog. File copies and deletions based on the SRM URL alone are possible. Examples are written below.

LCG-Utils in VDT is built starting with version 1.10.0. LCG Utils can be installed via the pacman command

<verbatim>
pacman -get http://vdt.cs.wisc.edu/vdt_1101_cache:LCG-Utils
</verbatim>

Choose the "install locally" option for the CA certificates to avoid conflict with existing GSI infrastructure.

After running ". setup.sh", basic commands can be executed as follows. For a copy command, after creating a user proxy, run
<verbatim>
lcg-cp -v -b -D srmv2 file:/testdata/test1 <SRM URL>
</verbatim>

Here the SRM URL is to an SRM v2.2 web service endpoint. Copies between storage elements are also allowed.

To delete a file, use the VO from the proxy and execute
<verbatim>
lcg-del -b -v -l --vo <VO> -D srmv2 <SRM URL>
</verbatim>

A [[%ATTACHURL%/test_lcg_utils_vdt.sh][lcg-utils test script]] may be used. The script writes to a SRM v2.2 storage element, obtains TURLS for the written files, and deletes the. Change the definitions at the beginning of the script to match your site and VO.

Documentation for LCG-Utils may be found the the [[https://edms.cern.ch/file/454439//LCG-2-UserGuide.html#SECTION00097000000000000000][LCG User Guide]]. Note that the requirement of setting LCG_GFAL_INFOSYS applies only when using a BDII server.


[[ReleaseDocumentation.FermiSrmClientCommands]]

[[Storage/SpaceResClientCommands]]

---++++LBL SRM Clients
[[Storage.SRMv2Client]]
---++++lcg-utils Clients
---+++Other Client Tools
---++++dccp
---++++xrootd clients

-- Main.TedHesselroth - 13 Jan 2010