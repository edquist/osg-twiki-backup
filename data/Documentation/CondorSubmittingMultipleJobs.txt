%META:TOPICINFO{author="BrianBockelman" date="1266616892" format="1.1" reprev="1.8" version="1.8"}%
%META:TOPICPARENT{name="GridUsersGuide"}%
%LINKCSS%
---+ %SPACEOUT{ "%TOPIC%" }%

---+ Submitting Multiple Jobs with Condor-G

In this section, we will demonstrate how to submit multiple jobs to the OSG using Condor-G.

You will need to know the endpoint you are submitting to, as was covered in the [[FindAvailableResource][finding available resources]] section.

%STARTINCLUDE%
%EDITTHIS%

Let's see how we would submit four jobs at once, all slightly different.  Use the following script:

<pre class="programlisting">
#!/bin/sh
echo "Hello World!"
echo "I am Condor job $1"

hostname
printenv
voms-proxy-info -all
</pre>
Name it =mytest2.sh= and set it executable.

<pre class="programlisting">
  universe=globus
  GlobusScheduler=osg-gw-2.t2.ucsd.edu:/jobmanager-condor
  executable=mytest2.sh
  arguments=$CLUSTER.$PROCESS
  output = test.$CLUSTER.$PROCESS.out
  error  = test.$CLUSTER.$PROCESS.err
  log    = test.log
  queue 4

  arguments="Alternate $CLUSTER.$PROCESS"
  queue 2
</pre>

We'll discuss the new portions below after we submit the job.
<ol>
   <li> _(If you haven't already)_ Source the environment for the OSG client and obtain a proxy from your VOMS, here assuming the uscms VO:
<pre class="screen">
<userinput>source $VDT_LOCATION/setup.sh</userinput>   <em># or setup.csh in C-shell</em>
<userinput>voms-proxy-init --voms cms:/cms</userinput>
</pre>
As before, replace =cms:/cms= with the proper name/group of your VO.
   <li>Submit the =test.cmd= job just as you did with the single job:
<pre class="screen">
<userinput>condor_submit condorg_test2.submit</userinput>
</pre>
  </li>
   <li>Use =condor_q= to display information about your jobs:
      <pre class="screen"><userinput>condor_q</userinput> </pre></li>
</ol>

---++ Changes to the Condor submit file.

Let's walk through the new things in the Condor submit file:
<pre class="programlisting">
  arguments=$CLUSTER.$PROCESS
</pre>
Condor has an extremely flexible description language called ClassAds.  This illustrates a simple expansion for the job.

%STOPINCLUDE%
