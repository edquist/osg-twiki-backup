%META:TOPICINFO{author="KyleGross" date="1225985992" format="1.1" version="1.2"}%
<!-- This is the default OSG Integration template. 
Please modify it in the sections indicated to create your topic!
If you have any comments/complaints about this template, then please email me:
rwg@hep.uchicago.edu.  (Adapted from Atlas wiki template, Ed Moyse)
--> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->

---+!!<nop>edg-mkgridmap Troubleshooting Guide
%TOC%
%STARTINCLUDE%


---++Introduction
This document is intended to provide some assistance in troubleshooting problems  related to use of the edg-mkgridmap script and edg-makegridmap-upgrade daemon used to maintain  the CE/gatekeerper node grid-mapfile based members pulled from the various VirtualOrganizations/VOInfoMS servers.

This does not address retrieval of members from LDAP servers.

This is not an all inclusive list of conditions that can cause errors.  Please add to the list as other conditions are identified and provide your <b>name</b> and <b>date entered</b> as an aid if questions arise.

---++Internal Server Error
This type of error generally occurs when the VirtualOrganizations/VOInfoMS server cannot find the requested group or subgroup requested.

The example below is attempting to access all members of  the uscms VirtualOrganizations/VOInfo belonging to the /root/production group.

Configuration file entry:<br>
   * group vomss://voms_host:8443/edg-voms-admin/uscms?uscms/production   user01

Command run on CE node:
   * [root sbin] ./edg-mkgridmap<br>
       voms search(https://voms_host:8443/edg-voms-admin/MyVO/services/VirtualOrganizations/VOInfoMSAdmin?<br>
           method=listMembers&groupname=%2Fuscms%2Fproduction): Internal Server Error<br>

On the VirtualOrganizations/VOInfoMS host you are attempting to access, the following error can be seen in the TOMCAT_LOCATION/logs/voms-admin.VirtualOrganizations/VOInfo_NAME.log
  <verbatim>
  2005-05-26 15:51:04,003 INFO  [Ajp13Processor[8892][1]]  Connection from "131.225.82.73" by 
        /DC=org/DC=doegrids/OU=Services/CN=ce_host (serial 4511) -  service.InitSecurityContext
  2005-05-26 15:51:04,004 INFO  [Ajp13Processor[8892][1]]  listMembers ("/uscms/production") -  admin.VOMSAdminSoapBindingImpl
  2005-05-26 15:51:04,013 ERROR [Ajp13Processor[8892][1]]  org.edg.security.voms.service.NotInDatabase: 
       Not in database: group "/uscms/production" -  connection.Database
  </verbatim>
-- Main.JohnWeigand - 26 May 2005

---++Host certificate problems
%RED%
This item is incomplete.... had to leave for the day... will continue tomorrow.
%ENDCOLOR%

 Set the X509_USER_CERT and
  X509_USER_KEY variables to %RED%(to what?)%ENDCOLOR% to test using a different, valid, certificate
  and key.


-- Main.JohnWeigand - 26 May 2005





<!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->

*Major updates*:%BR%
<!--Future editors should add their signatures beneath yours!-->
-- Main.JohnWeigand - 26 May 2005

%STOPINCLUDE%

