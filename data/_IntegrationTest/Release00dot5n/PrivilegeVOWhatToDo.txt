%META:TOPICINFO{author="KyleGross" date="1225985991" format="1.1" version="1.9"}%
%META:TOPICPARENT{name="SiteAdmins"}%
<!-- This is the default OSG Integration template. 
Please modify it in the sections indicated to create your topic!
If you have any comments/complaints about this template, then please email me:
rwg@hep.uchicago.edu.  (Adapted from Atlas wiki template, Ed Moyse)
--> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->

---+!!<nop>%TOPIC%
%TOC%
%STARTINCLUDE%


---++Figure out what to do

<verbatim>
             |
             |
  --------------------------                  ----------------------
  | Do you have VOMS-Admin |         NO!      | Install VOMS-Admin |
  | v0.7.6?                |----------------->| from the VDT       |
  --------------------------                  ----------------------
         YES |                                           |
             |--------------------------------------------
             |
  -----------------------------               -----------------------
  | Is your VO interested in  |     YES!      | Install VOMS-Server |
  | role based authorization? |-------------->| from the VDT        |
  -----------------------------               -----------------------
          NO |                                           |
             |--------------------------------------------
             |
  -----------------------
  | Give Leigh the VO   |
  | server information  |
  -----------------------
</verbatim>


---++Do it!

---+++Install VirtualOrganizations/VOInfoMS-Admin

VoAdmins#Install_VOMS_Admin

---++++Global ACL for list access to each Group

Make sure that you allow any valid certificate to query the server:
   * Go to the web UI (with a browser with the certificate you use as admin)
   * Select "Global ACL" from the left panel
   * Press "Edit this ACL"
   * Select "Allow" "list" "Anyone who presents a certificate issued by a known CA"
   * Press "Add new entry"

---++++Add groups, users, and roles to your specification

   As needed.

---+++Give the VirtualOrganizations/VOInfo information to the Operations for deployment to Sites

Go to https://[voms.server.host]:8443/edg-voms-admin/[vo]/siblings/

You'll see something like:

<verbatim>
/opt/edg/etc/vomses/atlas-vo.racf.bnl.gov contents and ~/.edg/vomses entry:

"atlas" "vo.racf.bnl.gov" "15003" "/DC=org/DC=doegrids/OU=Services/CN=vo.racf.bnl.gov" "atlas"

Example configuration line for /opt/edg/etc/edg-mkgridmap.conf:

     group vomss://vo.racf.bnl.gov:8443/edg-voms-admin/atlas  .atlas
</verbatim>

Forward that to Operations.

---++ Further information
Refer to the PrivilegeOSG page.

<!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->

*Major updates*:%BR%
<!--Future editors should add their signatures beneath yours!-->
-- Main.GabrieleCarcassi - 25 Mar 2005
-- Main.LeighGrund = 05 Apr 2005

%STOPINCLUDE%