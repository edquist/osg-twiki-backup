%META:TOPICINFO{author="MarcoMambelli" date="1123201798" format="1.0" version="1.2"}%
<!-- This is the default OSG Integration template. 
Please modify it in the sections indicated to create your topic!
If you have any comments/complaints about this template, then please email me:
rwg@hep.uchicago.edu.  (Adapted from Atlas wiki template, Ed Moyse)
--> 
---+ Local Storage Requirements
%TOC%
%STARTINCLUDE%


---++ $APP

This area is intended for VO-wide software installations.

It is required that relative paths resolve consistently between gatekeeper and worker nodes even if the $APP variable differs between the two.  It is strongly recommended that the variable and paths are the same as well, or most legacy software will not function properly.  This area may be read-only for a subset of users: there is no guarantee that every user will have write access.  $APP must point to a POSIX-compliant filesystem for software installation. 

---++ $DATA

This area is intended to hold readable datasets for jobs executing on the worker nodes.

It is required that relative paths resolve consistently between gatekeeper and worker nodes.  
This area may be read-only for a subset of users: there is no guarantee that every user will have write access.
$DATA may point to a filesystem or gsiftp URL.


---+++Marco:

This area is intended to hold data shared among different applications running on different worker nodes and/or data that has to outlive the execution of the jobs on the worker nodes.
Examples are: datasets for jobs executing on the worker nodes, datasets produced by the jobs executing on the worker nodes, shared daata for MPI applications. Data staged in or waiting to be staged out.

$DATA has to be POSIX accessible (open/read/write) by regular programs (NFS, dcap, drm are OK)
It may be as well accessible through a gsiftp URL (but not exclusively using GSIftp, else it would be a SE)

---++ $TMP

This area is intended as a temporary work area, and cache location for staging files in and out.

It is required that relative paths resolve consistently between gatekeeper and worker nodes.  This area must be read-write for all users.  $TMP may point to a filesystem or gsiftp URL.  Files placed here are guaranteed not to be purged for at least 24 hours barring extraordinary cirucmstances; the precise purge policy is determined by site administrators.

---+++Marco:

This area has functionalities similar to $DATA, but it is a temporary work area, meaning that there is no guarantee that the data will be preserved once the jobs working on it are terminated (e.g. if there are some files in $TMP belonging to ATLAS users and no ATLAS job running, all those files can for sure be removed) 

$TMP has to be POSIX accessible (open/read/write) by regular programs (NFS, dcap, drm are OK). No gsiftp access is required. Files currently open in a running process will not be removed. File not touched for at least 24 hours may be purged but a system purging only files not used by running programs would be better (e.g. checking the scheduler id of the job that created a file and if that is running - I don't know how feasible this is).

---++ $WN_TMP

This area is a temporary work area that may be purged when the job completes.

It is required that $WN_TMP points to a POSIX-compliant filesystem.

---+++Marco:
A temporary directory created empty for the job, with a well defined quota and removed after the job completes would be ideal.

$WN_TMP has to be local to the worker node where the job is executing or have similar performances.

<!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->

*Major updates*:%BR%
<!--Future editors should add their signatures beneath yours!-->
-- Main.BurtHolzman - 04 Aug 2005

%STOPINCLUDE%

