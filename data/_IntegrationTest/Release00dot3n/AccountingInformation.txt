%META:TOPICINFO{author="KyleGross" date="1225985983" format="1.1" version="1.4"}%
%META:TOPICPARENT{name="ValidationPageRel01"}%
<!-- This is the default OSG Integration template. 
Please modify it in the sections indicated to create your topic!
If you have any comments/complaints about this template, then please email me:
rwg@hep.uchicago.edu.  (Adapted from Atlas wiki template, Ed Moyse)
--> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->

---+!!<nop>%TOPIC%
%TOC%
%STARTINCLUDE%


---++Introduction
Accounting for OSG Deployment will initially be based on MonaLisa and ACDC. MonaLisa will be extended to provide the additional useful information from MDViewer. 


---++Current Information

A sample of current information for accounting is at http://osg.ivdgl.org/twiki/pub/Integration/ValidationPageRel01/MonaLisa-OSG-ITB.doc

Gabrielle Carcassi wrote a new module that works in conjunction with MonaLisa. This is essentially a script to do reverse lookups of accounts. This grabs information from the VOs and outputs a textfile which is input to VirtualOrganizations/VOInfo modules. It is part of ITB and is running at least at BNL. The map is generated by the GUMS Server, and retrieved by the GUMS client. 
The GUMS command for this is ./bin/gums-host generateGrid3UserVoMap
Look for ./bin/gums-host-cron: that can be linked to /etc/cron.hourly/gums-host-cron, and it would run every 6 hours (the rest of the time doesn't do anything). It generates the grid-mapfile as well as the inverse map (you have to have $VDT_LOCATION set to something).
Documentation for this is available at http://grid.racf.bnl.gov/GUMS/guide_commands_gums-host.html (look for generateGrid3UserVoMap)

As part of verification process, that Monalisa Provides MDViewer capabilities, we can to the conclusion that MonaLisa cannot provide integrated CPU over time and integrated Memory over time kind of graphs that MDViewer presents. This is  because of a lack of analysis layer which needs to be implemented. The graphs on MDViewer are actually obsolete in the OSG context.

As part of validation process, for MonaLisa, I had Neha submit jobs as SDSS VirtualOrganizations/VOInfo while I watched the MonaLisa charts. The information displayed on MonaLisa was infact what Neha submitted which validates monalisa for correctness. I also followed up with Craig Prescott and he confirmed that the information presented on MonaLisa is correct as well. The only issue we had was when a user submits jobs as two different VOs, he can end up on either of them, depending on the sequence order in the grid map file. The resolution was to obtain different certificates, even if it is the same user.







<!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->

*Major updates*:%BR%
<!--Future editors should add their signatures beneath yours!-->
-- Main.RuthPordes - 29 Apr 2005
-- Main.SudhirBorra - 20 May 2005

%STOPINCLUDE%