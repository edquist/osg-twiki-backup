%META:TOPICINFO{author="TedHesselroth" date="1133196289" format="1.0" version="1.2"}%
%META:TOPICPARENT{name="StorageElementAdmins"}%
There is no official list of supported platforms for dCache. Java 1.4 or 1.5 must be present. A <nop>PostgreSQL installion is needed. Version 8.0 is the "required" version. Though the latest dCache will run with 7.4, future versions may not. <nop>PostgreSQL 7.3 is known to not work. If you need to install Postgres, see PostgresInstallRPMS.

The software installation of pnfs and dCache only takes about 40 MB, but the database for a very large number of files can consume several gigabytes.

Check that `hostname` and `hostname -d` give the correct values on your system. If `hostname -d` returns an empty string, it will suffice either to enter your *domain* in the SERVER_ID field of the file /opt/d-cache/etc/node_config during the dCache installation, or to have a "search" line in /etc/resolv.conf with your domain as the value.

You will need a host certificate from DOEGrid to run SRM, the preferred client for file transfers. If you do not have a host certificate, follow the instructions for installing a Compute Element in the [[http://www.opensciencegrid.org/index.php?option=com_content&task=view&id=115][OSG CE Install Guide]], up through "Request and Install Host Certificate". If you only want to use the node as a Storage Element, when the installation asks about enabling Globus jobmanager for Condor or Condor batch system, reply with "n". Choose option 2 when running vdt/setup/setup-cert-request, and accept the default DN. If you are not planning to use the node as a Compute Element, it is not necesary to complete the CE installation beyond the "Request and Install Host Certificate" section.

When you are notified by email and directed to a web page to receive your certificate, be sure not to copy into /etc/grid-security/hostcert.pem the certificate labeled "Base 64 encoded certificate with CA certificate chain in pkcs7 format". Otherwise, you will get the error:

<verbatim>
SRMClientV1 : org.globus.common.ChainedIOException: Authentication failed [Caused by: Failure unspecified at GSS-API level [Caused by: Bad certificate (Invalid certificate chain at 'DC=org,DC=doegrids,OU=Services,CN=fledgling09.fnal.gov' certificate. Subject and issuer names do not match)]]
</verbatim>

Instead, copy the certificate labeled "Base 64 encoded certificate".

-- Main.TedHesselroth - 23 Nov 2005


