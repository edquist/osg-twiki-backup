%META:TOPICINFO{author="KyleGross" date="1225985974" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="DocumentationTable050"}%
<!-- This is the default OSG Integration template. 
Please modify it in the sections indicated to create your topic!
If you have any comments/complaints about this template, then please email me:
rwg@hep.uchicago.edu.  (Adapted from Atlas wiki template, Ed Moyse)
--> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->

---+!!<nop>edg-mkgridmap Troubleshooting Guide
%TOC%
%STARTINCLUDE%


---++Introduction
This document is intended to provide some assistance in troubleshooting problems  related to use of the edg-mkgridmap script and edg-makegridmap-upgrade daemon used to maintain  the CE/gatekeerper node grid-mapfile based members pulled from the various VirtualOrganizations/VOInfoMS servers.

This does not address retrieval of members from LDAP servers.


---++ Error code 64
This type of error generally occurs when the VirtualOrganizations/VOInfoMS server cannot find the requested group or subgroup.  Contact with the VirtualOrganizations/VOInfoMS server was made and it is really a 'not found' type error.  It is caused by a bad entry in the <i>edg-mkgridmap.conf</i> file.

The example below is attempting to access all members of  the uscms VirtualOrganizations/VOInfo belonging to the /uscms/production group.

Configuration file (VDT_LOCATION/edg/etc/edg-mkgridmap.conf) entry:<br>
<pre>
   group vomss://voms.fnal.gov:8443/voms/uscms/production uscms01
</pre>
Command run on CE node:
<pre>
  &gt;  source $VDT_LOCATION/setup.(c)sh
  &gt;  cd $VDT_LOCATION/edg/sbin
  &gt;  ./edg-mkgridmap
   <i>... output....
   voms search(https://voms.fnal.gov:8443/voms/uscms/production/services/VOMSAdmin?method=listMembers): /voms/uscms/production/services/VOMSAdmin

   Exit with error(s) (code=64)</i>
</pre>
On the VirtualOrganizations/VOInfoMS host you are attempting to access, the following error can be seen in the TOMCAT_LOCATION/logs/voms-admin.VirtualOrganizations/VOInfo_NAME.log
  <pre>
  2005-05-26 15:51:04,003 INFO  [Ajp13Processor[8892][1]]  Connection from "131.225.82.73" by 
        /DC=org/DC=doegrids/OU=Services/CN=ce_host (serial 4511) -  service.InitSecurityContext
  2005-05-26 15:51:04,004 INFO  [Ajp13Processor[8892][1]]  listMembers ("/uscms/production") -  admin.VOMSAdminSoapBindingImpl
  2005-05-26 15:51:04,013 ERROR [Ajp13Processor[8892][1]]  org.edg.security.voms.service.NotInDatabase: 
       Not in database: group "/uscms/production" -  connection.Database
  </pre>

<!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->

*Major updates*:%BR%
<!--Future editors should add their signatures beneath yours!-->
-- Main.JohnWeigand - 26 May 2005<br>
-- Main.JohnWeigand - 13 Jan 2006

%STOPINCLUDE%


-- Main.RobQ - 01 May 2006