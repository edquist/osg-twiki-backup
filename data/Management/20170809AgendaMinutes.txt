%META:TOPICINFO{author="TimCartwright" date="1502381062" format="1.1" version="1.6"}%
%META:TOPICPARENT{name="AreaCoordinator"}%
---+ OSG Area Coordinators Meeting &mdash; 9 August 2017


---++ Meeting Coordinates

%TABLE{}%
| When: | Wednesday, 2:00 p.m. Central Time |
| Online: | https://IU.zoom.us/j/320940886 |
| Phone (toll): | +1 (408) 638-0968 &nbsp;<em>or</em>&nbsp; +1 (646) 558-8656 &nbsp; &rarr; &nbsp; PIN 320-940-886 |


---++ Top of Meeting Business
   1. Review the [[https://indico.fnal.gov/categoryDisplay.py?categId=86][OSG calendar]]
   1. Talk about [[NewsletterList][upcoming research highlights]]

*Note for presenters:* Please report on updates to the area goals we had established at the staff retreat; these goals are available at https://osg-docdb.opensciencegrid.org:440/cgi-bin/ShowDocument?docid=1232. Remember that the next OSG annual report for each area will explicitly state the goals and the results.


---++ Software, by Brian Lin

Since May 24, 2017.

---+++ Software updates
Development for June, July, and August releases:
   * Updated to HTCondor 8.4.12, 8.6.5, 8.7.2
   * Updated to HTCondor-CE 3.0.1 and 2.2.2
   * VOMS Admin server updates to address struts2 vulnerabilities
   * osg-configure and osg-build changes to support OSG 3.4
   * Improved BLAHP support for PBS Pro
   * gridftp-dsi-posix for ATLAS
   * LCMAPS VOMS plugin bug fixes
   * Removed software.grid.iu.edu references from osg-ca-scripts

---+++ OSG 3.4
   * Released 3.4.0 in the June release with plenty of testing effort from CMS and ATLAS
   * Wrote and distributed !BeStMan, GUMS, and VOMS Admin retirement policies
   * Remaining tasks: Singularity and new release series documentation

---+++ HTCondor-CE and Friends
   * Added pilot payload auditing - depends on HTCondor 8.6.x so we are maintaining two different versions for 3.3 and 3.4
   * Ongoing support for CTSC for the security review of HTCondor-CE and the BLAHP
   * Concern: blahp unification has been in a holding pattern 

---+++ LCMAPS VOMS plugin
   * The recommended OSG authentication method moving forward
   * Required separation of osg-configure modules to allow auth configuration for !GridFTP hosts
   * Transitioned all of the hosted CEs and some edg-mkgridmap/GUMS sites
   * Notified other edg-mkgridmap sites of the need to transition
   * Completed installation and edg-mkgridmap transition instructions

---+++ Documentation Transition
   * Initial set of documents (~130) prioritized for the migration
   * Migration instructions available for team members (and external contributors) with the goal of each team member converting 2 documents per week

---+++ Automated Testing
   * Caught HTCondor and GUMS SELinux incompatibilities in Red Hat 7.4
   * Added LCMAPS VOMS plugin, GSI OpenSSH, and gfal tests
   * Cleaned out BDII, osg-info-services, lcg-utils, and lfc_multilib tests. GRAM tests targeted next.

---+++ Madison ITB
Infrastructure prepared to test pre-release versions of HTCondor while maintaining a set of hosts running a stable version of HTCondor

---+++ Support
The Software team typically handles 1-2 active site support issues every week, in additional to other random GOC tickets that come our way. Since the last report, we have helped:
   * Clemson - Issues with PBS Pro/blahp integration and LCMAPS proxy verification
   * CTSC/IU - Ongoing HTCondor-CE and blahp installation and configuration
   * FIT - Transitioned from GRAM to HTCondor-CE
   * Nebraska - Debugged missing hours in WLCG
   * IIT - Discovered bug with LCMAPS proxy verification
   * Purdue - Helped with OSG_WN_TMP configuration
   * Syracuse - Implemented GPU submission on their CE
   * TAMU - Troubleshot held jobs
   * UConn - Discovered various authentication issues, ongoing
   * UCSD - Assisted with GPU job router configuration
   * UFL - Assisted with Slurm timeout issues
   * Utah - Discovered bug in proxy delegation
   * UWash - Helped troubleshoot held jobs
   * UW Madison - Assisted with RHEL6 vs RHEL7 job router configuration
   * Vanderbilt - HTCondor-CE + Slurm issues

---+++ Software Goals for Year 6

<!--
   * Set SWNO = <span style="color: white; background-color: #00D; padding-left: 3px; padding-right: 3px;">abandoned</span>
   * Set SWIP = <span style="color: white; background-color: #F90; padding-left: 3px; padding-right: 3px;">in&nbsp;progress</span>
   * Set SWDN = <span style="color: white; background-color: #0A0; padding-left: 3px; padding-right: 3px;">done</span>
   * Set SWNS = <span style="color: white; background-color: #D00; padding-left: 3px; padding-right: 3px;">not started</span>
-->

   1. Ongoing
      a. Routine updates to software packages
      a. Bug fixes to software and packaging
      a. Routine documentation updates
      a. Support installation and configuration of new OSG sites and HTCondor CE transitions
      a. Support ongoing use of OSG Software
   1. Globus Support
      a. Identify list of affected packages [Mat, Q1] - %SWNS%
      a. Obtain EPEL maintainer status [BrianL, Q2] - %SWNS%
      a. Develop maintenance strategy in tandem with EGI and WLCG [BrianL, Q1] - %SWIP%
   1. Documentation Migration
      a. Document migration procedure and prioritize TWiki documents [Brian L., Jul 2017] - %SWDN%
      a. Implement documentation ITB pages [Brian L., Aug 2017] - %SWNS%
      a. Migrate internal documents [Brian L., Sep 2017] - %SWIP%
      a. Migrate high-priority Release3 documents [Brian L., Sep 2017] - %SWIP%
      a. Complete full migration [Brian L., Dec 2017] - %SWNS%
   1. HTCondor-CE and Friends
      a. Unify BLAHP source code with CHTC version and take from HTCondor SRPM [Derek, Q1] - %SWIP%
      a. Separate out the HTCondor-CE OSG-specific configuration into an HTCondor configuration template - %SWIP%
      a. Hosted-CE
         1. Support multiple CEs on a single host - %SWNS%
         1. Improve dynamic OSG worker node temporary directory and BOSCO integration - %SWNS%
   1. Automated Testing
      a. Expand coverage of components and test cases
         1. Verify Gratia probe correctness and record upload logic to GRACC [Carl] - %SWNS%
         1. Add GridFTP-HDFS and XRootD-HDFS plugin tests with HDFS client in POSIX mode [Edgar; Brian L. will advise/monitor on osg-test side; Brian B. is the subject matter expert] - %SWNS%
      a. Improve expressiveness of tests
         1. Execute and report on multiple instances of a test within a run [Brian L.] - %SWIP%
   1. Increase utility of Madison ITB
      a. Add the capability to install and test HTCondor pre-releases in an OSG-like environment [Tim C., Q1] - %SWIP%
      a. Create a tool to maintain steady job pressure on the Madison ITB site [Brian L., Q2] - %SWNS%
      a. Add newer OSG technologies to ITB (as WBS tasks); e.g., StashCache, HTCondor-CE-Bosco [Brian L., Q4] - %SWNS%
   1. Smaller Year 6 Projects
      a. Consolidate public software download repositories to a single GOC host (aka, turn-down software.grid.iu.edu). [Mat, Q2] - %SWIP%
      a. Determine list of LHC-only packages [Brian L., Q2] - %SWNS%
      a. Identify software package candidates to drop and share upstream [BrianL, Mat, Q2] - %SWNS%
      a. Manage new stakeholder and internal projects that involve the OSG Software team [Brian L.] - %SWIP%
   1. Year 6 Maintenance
      a. Update Koji version [Mat, Q2] - %SWNS%
      a. Work on very simple effort reporting system [Brian L.] - %SWDN%

---+++ Metrics

JIRA tickets for Software (orange) and Software+Release (grey):


%ATTACHURL%/sw-jira-2017-08-09.take2.png

---++ Release, by Tim Theisen
---+++ Recent Accomplishments

   * Since May 24th
   * Software Releases
      * June Releases (2017-06-15)
         * Release date slipped two days due to large testing effort and lack of resources
         * [[Documentation.Release3.Release3325][3.3.25]]
         * [[Documentation.Release3.Release340][3.4.0]]
      * July Releases (2017-07-12)
         * Release date slipped one due to critical bug found in LCMAPS VOMS plugin
         * [[Documentation.Release3.Release3326][3.3.26]]
         * [[Documentation.Release3.Release341][3.4.1]]
      * August Releases (2017-08-08)
         * [[Documentation.Release3.Release3327][3.3.27]]
         * [[Documentation.Release3.Release342][3.4.2]]

   * Defects found in testing
      * 1 of 43 tickets in June
         * HTCondor non-functional python collector plugins (External defect, not an OSG Software Team defect)
      * 0 of 27 tickets in July
      * 1 of 29 tickets in August
         * HTCondor non-functional on Red Hat 7.4 with SELinux (External defect, not an OSG Software Team defect)

   * Data Releases
      * 2017-07-14: [[Documentation.Release3.Release3412][3.4.1-2]]: IGTF 1.84
      * 2017-06-15: [[Documentation.Release3.Release3402][3.4.0-2]]: IGTF 1.83, VO Package v74

   * Special Releases: None -> Pure Luck

   * Continue Beta Testing HTCondor Releases (VM Universe)

---+++ Concerns
   * Permanent loss of effort from BNL (Xin)
   * Temporary loss of effort from UCSD
      * Need to hire a replacement

---+++ Goals
   * Ongoing
      * Collect metrics on effectiveness
      * Collect new testing recipes
   * Madison ITB
      * Start Beta Testing HTCondor Releases in ITB environment [IN PROGRESS]
      * Waiting on Software Team to implement ITB site
   * Streamline releases
      * Initial planning - just started
         * Will involve more community/stake holder testing
         * Perhaps move to a rolling release model
         * Retain a release manager for quality assurance


---++ Minutes

*Attendees:* Bala Desinghu, Brian Lin, Ken Herner, Kyle Gross, Rob Quick, Scott Teige, Tim Cartwright, Tim Theisen, Zalak Shah

---+++ Calendar
No updates.

---+++ Research Highlights (Kyle Gross)
The last Research Highlight written by Greg was sent to the Executive Team for review. In the future, Kyle will add a due date for review comments, giving people 2&ndash;3 days to do so.

---+++ Software (Brian Lin)
   * Notable software updates (since 24 May): HTCondor (3 versions), HTCondor-CE (2 versions), VOMS Admin, LCMAPS VOMS plugin, OSG tools.

   * OSG 3.4 shipped in June, starting the new release series. Also, retirement plans were written and announced for !BeStMan, GUMS, and VOMS Admin. Still working on documentation for Singularity and how we make a new release series.

   * HTCondor-CE development news: They are adding pilot payload auditing. There was some discussion about Miron&rsquo;s (and others&rsquo;) long-standing requests to make payload information accessible to site administrators; Brian Lin will look into the current state of this and see whether some simple methods work today and can be documented. The Software team is still helping the Security team with their review of HTCondor-CE software using the SWAMP. Also, Brian is figuring out when to work on some other new features within Year 6.

   * The LCMAPS VOMS plugin works, shipped, and is now the recommended authorization method for sites. There were some changes to osg-configure to better support the ATLAS configuration of !GridFTP sites. At this time, all Hosted-CEs have transitioned to the new system, as have some edg-mkgridmap and a few GUMS sites. The installation and migration documentation is complete.

   * For the documentation transition, the Software team (and friends) are moving an initial 130 documents to !GitHub, with effort distributed among the team. Brian&rsquo;s initial estimate for completing all of the Software internal documentation and site admin documentation was as high as 0.25 FTE for the year, so we discussed ways to streamline the processing and trim it down to a more reasonable number. Brian will report back with a project plan and revised effort estimate.

   * Automated testing caught SELinux issues with HTCondor, GUMS, and the old Gratia collector (used only for internal testing of Gratia probes) on RHEL 7.4. HTCondor was fixed right away. For GUMS, Brian will put together an announcement about not upgrading to EL 7.4 yet, and then the team will try to fix GUMS. The Gratia collector doesn&rsquo;t matter and the problem there can probably be fixed within the tests themselves. In other news, they added tests for the new LCMAPS VOMS plugin, !GSI-OpenSSH, and gfal.

   * The Madison ITB now has a separate CE host for testing HTCondor prereleases, and the next step is to figure out how to integrate its use into the overall release process.

   * Site support has been fairly steady at 1&ndash;2 issues per week, mostly HTCondor-CE and the LCMAPS VOMS plugin.

   * For the Globus Toolkit transition, Brian&nbsp;L. (with EGI and WLCG) is building a list of the Globus packages that are needed.

   * As another Year 6 task, Brian is starting to build a list of LHC-specific packages.

---+++ Release (Tim Theisen)
   * There have been 3 software releases since 24 May, including 3.4.0 in June. The June release was 2 days late, due to large amount of testing for 3.4.0, and the July release was 1 day late, due to a late-breaking LCMAPS VOMS plugin bug (which got fixed). The Release team found 2 defects in upstream software (not due to the Software team) as a result of their testing. There were no special releases, although that reflects a bit of luck in the timing of defect discoveries.

   * There were 2 data releases in the same time period, and the Release team is working to streamline process to further shrink the time from an announcement of new data (e.g., CA certificates from IGTF) to release.

   * They will continue pre-release testing of HTCondor.

   * This week, Release and Software team members will start to plan a streamlined release process.

---+++ Concerns
   * Software: The BLAHP unification process is stalled, and Derek may have no time to work on it soon; the Brians will discuss whether to transition this project to someone else.

   * Release: Reduced effort for testing.

---+++ Action items
   * [Brian L./Kyle] Send an announcement about GUMS, SELinux, and RHEL 7.4.
   * [Brian L.] Prepare a project plan and effort estimate for a streamlined documentation conversion.

%META:FILEATTACHMENT{name="sw-jira-2017-08-09.png" attachment="sw-jira-2017-08-09.png" attr="h" comment="" date="1502304009" path="sw-jira-2017-08-09.take2.png" size="112520" stream="sw-jira-2017-08-09.take2.png" tmpFilename="/usr/tmp/CGItemp2325" user="BrianLin" version="2"}%
%META:FILEATTACHMENT{name="sw-jira-2017-08-09.take2.png" attachment="sw-jira-2017-08-09.take2.png" attr="h" comment="" date="1502304051" path="sw-jira-2017-08-09.take2.png" size="112520" stream="sw-jira-2017-08-09.take2.png" tmpFilename="/usr/tmp/CGItemp64376" user="BrianLin" version="1"}%
