%META:TOPICINFO{author="KyleGross" date="1225985922" format="1.1" version="1.6"}%
%META:TOPICPARENT{name="MeetingMinutes"}%
---+!!<nop>%TOPIC%
%TOC%

---++Introduction

Minutes of Gratia meeting
   * Last meeting: [[MinutesMar19][March 19]]
   * Previous meetings: MeetingMinutes
   * Coordinates: Monday at 3:30pm CST/CDT, 1-510-665-5437 and use the meeting ID: 2966. 

---++Attending
   * Main.PenelopeConstanta, Main.ChrisGreen, Steve Timm, John Urish, Main.JohnWeigand.
   * Apologies: Main.PhilippeCanal, Jeff Mack

---++Collector/Report development
   * Penelope
      * The code is now available to download a CSV file: collectors need to be updated.
      * I am investigating how to eliminate iframes, but it's looking really complicated and I'm running into technical problems; I need to do some more investigations.
      * I'm also looking into our own viewer code: one of our main problems is that our viewer code is often tailored to individual reports -- would like to separate this out if possible, as it is causing us many problems producing new reports and making general changes to all reports.
   * Chris
      * Stored procedure additions for Jeff have been checked in but require further testing; they necessitated a column addition to the VirtualOrganizations/VOInfoProbeSummary table.
      * There was an email on the list recently suggesting the use of views in place of summary tables and triggers.
         * John W: you'd still be searching across the whole table -- views save SQL, not time.
      * There was another email on the list talking about "forcing" a particular index to be used as the MySQL parser often makes a non-optimal choice of index to use if it has several from which to choose.
         * Penelope: I'd like to see a test with one query forced, and then again with MySQL left to make the choice.
   * Penelope: memory resident tables for access speed?
      * Chris: doesn't sound scalable, even with table surgery (splitting off XML columns to a different table).
   * John W: do we need reports to be timely at all? Can we not just update summary tables once per day?

---++Probes
   * Chris: problems reported with SGE probe: updates from authors in repository and awaiting testing of Gratia.py before 
---++Storage Probe
   * No news this week.
---++Any Other Business
<UL>
<LI /> Gratia production machines

    Steve mailed an updated upgrade procedure document to Chris and Philippe. Basically, on 2007/04/10, The following actions will be taken:

<OL>
<LI /> Aliases moved effective morning of April 10:
<OL style="list-style-type: lower-alpha">
<LI /> gratia-fermi (currently points to cd-psg2) will point to gratia08;
<LI /> gratia-fermi-itb will point to gratia08;
<LI /> gratia-psacct will point to gratia08;
<LI /> gratia-osg.fnal.gov (currently points to cd-psg2) will point to gratia09;
<LI /> gratia.opensciencegrid.org (currently points to cd-psg8) will point to gratia09;
<LI /> gratia-osg-itb.fnal.gov will point to gratia09.
</OL>
<LI /> cd-psg6 will be changed to gratia06 and new disks will be installed. Data will be destroyed but the database should have been moved to gratia07 by this time.
</OL>

Other actions are planned for the development machines, but they are not germane to this discussion.

Prerequisites:
<OL>
<LI /> Latest tomcat and gratia collectors must be installed on gratia08, gratia09;
<LI /> Latest mysql must be installed on gratia07;
<LI /> Mechanism to sync existing data from cd-psg6 to gratia07 developed and repeatedly tested -- mysqlhotcopy should work but needs testing.
</OL>
</UL>

Action items based on prerequisites:
<DL>
<DT /> Chris
<DD />
<UL>
<LI /> Produce a well tested procedure for obtaining a good version of tomcat and loading a known release of the Gratia collector software;
<LI /> Try to ascertain if anyone is still trying to access the collectors by their non-generic names.
</UL>
<DT />Steve
<DD />
<UL>
<LI /> Install mysql on gratia07;
<LI /> Investigate mysqlhotcopy and come up with a data migration plan from cd-psg6 to gratia07 and back to gratia06;
<LI /> Test and OK and implement Chris' procedure for tomcat and collector load on gratia08 and gratia09.
</UL>
</DL>


-- Main.ChrisGreen - 03 Apr 2007