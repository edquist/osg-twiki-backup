%META:TOPICINFO{author="ChrisGreen" date="1233968932" format="1.1" reprev="1.10" version="1.10"}%
%META:TOPICPARENT{name="WebHome"}%
---+ List of Gratia Collectors Operated by !FermiGrid
---

%STARTINCLUDE%

---+++ OSG services

   * All services run on their own VM;
   * All services listen on ports 80 (HTTP) and 443 (HTTPS);
   * All services run out of =/data/tomcat-gratia=;
   * All init.d service scripts are named =tomcat-gratia=;   
   * Legacy connections are forwarded to the correct collector by gr8x5.fnal.gov which manages legacy aliases as service IPs.

%TABLE{ tableborder="1" cellpadding="1" cellspacing="2" headerbg="#99CCCC" databg="#FFFFCC, #FFFFFF" headeralign="center, center, center, center, center, center, center, center, left" dataalign="left, left, left, left, left, left, center, center, left"}% 
%EDITTABLE{ format="| text, 30 | text, 20 | text, 20 | text, 15 | text, 15 | text, 5 | text, 10 | text, 10 | text, 30 |"  changerows="on" quietsave="on" editbutton="Edit table" headerislabel="on"}%
| *SOAPHost configuration* | *Tomcat node* | *Legacy Connections* | *Config name* | *Database* | *Size* | *Status* | *Reports* | *Notes* |
| gratia-osg-prod.opensciencegrid.org:80 | gr5x0.fnal.gov | 8880, 8845 | osg-prod | gratia | | [[http://gratia-osg-prod.opensciencegrid.org/gratia-administration/][Status]] | [[http://gratia-osg-prod.opensciencegrid.org/gratia-reporting/][Reports]] | |
| gratia-osg-daily.opensciencegrid.org:80 | gr5x1.fnal.gov | 8884, 8860 | osg-daily | gratia_osg_daily | | [[http://gratia-osg-daily.opensciencegrid.org/gratia-administration/][Status]] | [[http://gratia-osg-daily.opensciencegrid.org/gratia-reporting/][Reports]] | |
| gratia-osg-transfer.opensciencegrid.org:80 | gr5x2.fnal.gov | 8886, 8840 | osg-transfer | gratia_osg_transfer | | [[http://gratia-osg-transfer.opensciencegrid.org/gratia-administration/][Status]] | [[http://gratia-osg-transfer.opensciencegrid.org/gratia-reporting/][Reports]] | |
| gratia-osg-itb.opensciencegrid.org:80 | gr5x3.fnal.gov | 8881, 8850 | osg-itb | gratia_itb | | [[http://gratia-osg-itb.opensciencegrid.org/gratia-administration/][Status]] | [[http://gratia-osg-itb.opensciencegrid.org/gratia-reporting/][Reports]] | Selected "permanent ITB" probes replicate to gratia-osg-daily |
| gratia-osg-integration.opensciencegrid.org:80 | gr5x4.fnal.gov | 8885, 8870 | osg-integration | gratia_osg_integration | | [[http://gratia-osg-integration.opensciencegrid.org/gratia-administration/][Status]] | [[http://gratia-osg-integration.opensciencegrid.org/gratia-reporting/][Reports]] | |

---+++ Legacy OSG services.

   * These services run only to catch old connections which use the name gratia09 instead of one of its aliases.
   * All collectors are configured to replicate to their corresponding "official" collector.

%TABLE{ tableborder="1" cellpadding="0" cellspacing="1" headerbg="#99CCCC" databg="#FFFFCC, #FFFFFF" headeralign="center, center, center, center, center, center, left"}% 
%EDITTABLE{  format="| text, 10 | text, 20 | text, 15 | text, 20 | text, 10 | text, 10 | text, 20 |"  changerows="on" quietsave="on" editbutton="Edit table" }%
| *Database* | *Tomcat node* | *init.d service* | *tomcat location* | *Status* | *Reports* | *Replicated to* |
| gratia | gratia09.fnal.gov:8880 | tomcat-gratia | /data/tomcat-gratia | [[http://gratia09.fnal.gov:8880/gratia-administration/][Status]] | [[http://gratia09.fnal.gov:8880/gratia-reporting/][Reports]] | gratia-osg-prod |
| gratia_itb | gratia09.fnal.gov:8881 | tomcat-itb | /data/tomcat-itb | [[http://gratia09.fnal.gov:8881/gratia-administration/][Status]] | [[http://gratia09.fnal.gov:8881/gratia-reporting/][Reports]] | gratia-osg-itb |
| gratia_osg_daily | gratia09.fnal.gov:8884 | tomcat-osg_daily | /data/tomcat-osg_daily | [[http://gratia09.fnal.gov:8884/gratia-administration/][Status]] | [[http://gratia09.fnal.gov:8884/gratia-reporting/][Reports]] | gratia-osg-daily |
| gratia_osg_integration | gratia09.fnal.gov:8885 | tomcat-osg_integration | /data/tomcat-osg_integration | [[http://gratia09.fnal.gov:8885/gratia-administration/][Status]] | [[http://gratia09.fnal.gov:8885/gratia-reporting/][Reports]] | N/A |
| gratia_osg_transfer | gratia09.fnal.gov:8886 | tomcat-osg_transfer | /data/tomcat-osg_transfer | [[http://gratia09.fnal.gov:8886/gratia-administration/][Status]] | [[http://gratia09.fnal.gov:8886/gratia-reporting/][Reports]] | gratia-osg-transfer |

---+++ Fermi-local services

   * All services run on their own VM;
   * All services listen on ports 80 (HTTP) and 443 (HTTPS);
   * All services run out of =/data/tomcat-gratia=;
   * All init.d service scripts are named =tomcat-gratia=;   
   * Legacy connections are forwarded to the correct collector by gr5x5.fnal.gov which manages the gratia-fermi.fnal.gov service IP.

%TABLE{ tableborder="1" cellpadding="1" cellspacing="2" headerbg="#99CCCC" databg="#FFFFCC, #FFFFFF" headeralign="center, center, center, center, center, center, center, center, left" dataalign="left, left, left, left, left, left, center, center, left"}% 
%EDITTABLE{ format="| text, 30 | text, 20 | text, 20 | text, 15 | text, 15 | text, 5 | text, 10 | text, 10 | text, 30 |"  changerows="on" quietsave="on" editbutton="Edit table" headerislabel="on"}%
| *SOAPHost configuration| *Tomcat node* | *Legacy Connections* | *Config name* | *Database* | *Size* | *Status* | *Reports* | *Notes* |
| gratia-fermi-osg.fnal.gov:80 | gr5x0.fnal.gov | 8880, 8845 | fermi-osg | fermi_osg | 48G | [[http://gratia-fermi-osg.fnal.gov/gratia-administration/][Status]] | [[http://gratia-fermi-osg.fnal.gov/gratia-reporting/][Reports]] | Should replicate to gratia-osg-prod on a per-probe basis (non-glexec only at this time) |
| gratia-fermi-psacct.fnal.gov:80 | gr5x1.fnal.gov | 8882, 8855 | fermi-psacct | gratia_psacct | 21G | [[http://gratia-fermi-psacct.fnal.gov/gratia-administration/][Status]] | [[http://gratia-fermi-psacct.fnal.gov/gratia-reporting/][Reports]] | |
| gratia-fermi-qcd.fnal.gov:80 | gr5x2.fnal.gov | 8883, 8865 | fermi-qcd | gratia_qcd | 5.5G | [[http://gratia-fermi-qcd.fnal.gov/gratia-administration/][Status]] | [[http://gratia-fermi-qcd.fnal.gov/gratia-reporting/][Reports]] | |
| gratia-fermi-transfer.fnal.gov:80 | gr5x3.fnal.gov | 8886, 8840 | fermi-transfer | fermi_transfer | 5.9M | [[http://gratia-fermi-transfer.fnal.gov/gratia-administration/][Status]] | [[http://gratia-fermi-transfer.fnal.gov/gratia-reporting/][Reports]] | Should replicate to gratia-osg-transfer |
| gratia-fermi-itb.fnal.gov:80 | gr5x4.fnal.gov | 8881, 8850 | fermi-itb | fermi_itb | 1.1G | [[http://gratia-fermi-itb.fnal.gov/gratia-administration/][Status]] | [[http://gratia-fermi-itb.fnal.gov/gratia-reporting/][Reports]] | Should replicate to gratia-osg-itb |

%STOPINCLUDE%
