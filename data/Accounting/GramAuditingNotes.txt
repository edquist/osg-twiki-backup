%META:TOPICINFO{author="JohnWeigand" date="1200588616" format="1.1" reprev="1.1" version="1.1"}%
---+!! GRAM Auditing Notes

<!--
   * Set BUG5712 = [[http://bugzilla.globus.org/globus/show_bug.cgi?id=5712][Bug 5712]] - Local_job_id format variations
   * Set BUG5713 = [[http://bugzilla.globus.org/globus/show_bug.cgi?id=5713][Bug 5713]] - Failed database connection loses audit records
   * Set BUG5714 = [[http://bugzilla.globus.org/globus/show_bug.cgi?id=5714][Bug 5714]] - Additional data in audit records
   * Set BUG5725 = [[http://bugzilla.globus.org/globus/show_bug.cgi?id=5725][Bug 5725]] - housekeeping for the auditRecords database
   * Set BUG5776 = [[http://bugzilla.globus.org/globus/show_bug.cgi?id=5776][Bug 5776]] - Need for one INFO log message. Currently none.
   * Set BUG5777 = [[http://bugzilla.globus.org/globus/show_bug.cgi?id=5777][Bug 5777]] - Database connection times out
   * Set BUG5778 = [[http://bugzilla.globus.org/globus/show_bug.cgi?id=5778][Bug 5778]] - No error message on db update failure



-->

%TOC%

%STARTINCLUDE%

---++ Description
Gratia has a requirement to be able to report grid usage data for:
   * VOs 
   * VO subgroups
   * Individual grid users (DN)
   * Roles

Currently (1/17/2008), the only reliable data available to Gratia is the DN of the grid user.




---++ GRAM proposal (1/11/2008)
Had a long conference call with Rachana and Stu on Friday 1/11. They propose creating a 2nd audit table which would be joined to the current one (_gram_audit_table_). The _job_grid_id_ would be the joining column and essentially make this 2nd table similar in  nature to the <nop> _JobUsageRecord_Meta_ in Gratia where it is an  just an extension of  the <nop> _JobUsageRecord_ .

---++ GRAM Auditing Log Bugzilla Items
   * %BUG5712%
   * %BUG5713%
   * %BUG5714%
   * %BUG5725%
   * %BUG5776%
   * %BUG5777%
   * %BUG5778%




---++ Configuring GRAM Auditing



%STOPINCLUDE%




<!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->
---++!! Major updates
<!--Future editors should add their signatures beneath yours!-->
-- Main.JohnWeigand - 17 Jan 2008%BR%
