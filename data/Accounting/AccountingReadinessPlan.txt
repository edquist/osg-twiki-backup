%META:TOPICINFO{author="ChrisGreen" date="1157049423" format="1.1" version="1.3"}%
%META:TOPICPARENT{name="WebHome"}%
<!-- This is the default OSG Integration template. 
Please modify it in the sections indicated to create your topic!
If you have any comments/complaints about this template, then please email me:
rwg@hep.uchicago.edu.  (Adapted from Atlas wiki template, Ed Moyse)
--> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->

---+!!<nop>%TOPIC% (major update pending 2006/08/31)
%TOC%
%STARTINCLUDE%

---++Introduction

The implementation of the OSG Accounting System is named Gratia and follows the requirements
and design described in these [[http://osg-docdb.opensciencegrid.org/cgi-bin/ShowDocument?docid=205&version=1][documents]].

See also the [[http://osg.ivdgl.org/twiki/pub/Accounting/WebHome/AccountingProjectDefinition1.doc][Full Project Definition]]

For v0.0, we plan on deploying meters for Condor, LSF, PBS and disk storage.  We plan to deploy the first version
of the collector and of the interface between meters and collector.   We also deploy a local or global database to
store the accounting record.  We will also provide text reports.

The target release date in the end of November 2005 and to be included in OSG's release v0.4

---++Readiness and Integration Plan

We describe a service readiness and integration plan for the OSG Accounting System
(named GRATIA) v0.0 following guidelines set forth in
[[http://osg.ivdgl.org/twiki/bin/view/Integration/NewOSGServices][New OSG Services]]

SLAC, the US CMS Tier-1 ITB site and Fermi-Grid ITB sites will be the first alpha testers.
We are looking for more alpha testing especially for site running PBS.

---+++ Description of Service

See the [[http://osg.ivdgl.org/twiki/pub/Accounting/WebHome/AccountingProjectDefinition1.doc][Full Project Definition]]
and [[http://osg-docdb.opensciencegrid.org/cgi-bin/ShowDocument?docid=205&version=1][requirement and design documents]].

---+++ Dependencies and interactions with other services

GRATIA will depend on Clarens and JClarens running in a Tomcat container and on VDT 1.3.7 or later.

---+++ Resources required

The local administrator will need to install and list the meters appropriate to it site.
Documentation will be available on how to install and configure each of the meter.

---+++ Installation Procedure

The collectors will be deployed as Clarens 'plugin' as part of the VDT.

---+++ Open Issues


---+++ Migration Guide and Backwards Compatibility Issues

N/A

---+++ Known Issues and Problems

---+++ Server requirements

The data server will initially be located at Fermilab.
Locally an Appropriately configured Clarens/Tomcat/Apache server is required.

---+++ Packaging

TBA

---+++ Installation and Configuration

---+++ Testing and Validation

Scripts will be provided to schedule and run jobs with known characteristic
and then to check that the accounting record stored correspond to the expect
result.

---+++ Scalability and Metrics

---+++ Known Problems and Pending Issues

---++ Links to Documentation 

See the current documentation at http://osg.ivdgl.org/twiki/bin/view/Accounting/WebHome

---++ Links to Test Results
d114 1
---++ Contact Information

Send comments and questions to osg-accounting@opensciencegrid.org.
Send comments and questions to osg-accounting@opensciencegrid.org


<!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->

*Major updates*:%BR%
<!--Future editors should add their signatures beneath yours!-->
-- Main.PhilippeCanal - 14 Oct 2005

%STOPINCLUDE%