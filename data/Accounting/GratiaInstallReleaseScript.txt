%META:TOPICINFO{author="ChrisGreen" date="1256771127" format="1.1" version="1.1"}%
%META:TOPICPARENT{name="GratiaDevAndTestEnviron"}%
---+!! <nop>The Gratia install-release script.

<!--
   * Set VIEWTHISTOPIC = <div class="twikiSmall"><a href="%TOPIC%">View this section</a></div>
--> 
%TOC% 
%STARTINCLUDE%

---++ The Gratia install-release script.

%VIEWTHISTOPIC%

This script is a wrapper around gratia-upgrade.sh, as an attempt to reduce the options and arguments required in the most common cases.

Usage information follows below:

<verbatim>
install-release [<opt>] <release>
install-release [<opt>] -B <official-build>
install-release [<opt>] -L <full-release-path>
install-release [-h]

Build Types:
   Default
      Official release (found as ~gratia/gratia-releases/gratia-<release>.
   -B
      Official build (found as ~gratia/gratia-builds/gratia-<official-build>.
   -L
      Local build (found as <full-release-path>).

Help:
   -h
      This help.

Options:
   -a
      Auto-start collector (default no start).

   -c <config>
      Instance name is tomcat-<config> (except see -p).

   -p
      Production: instance name is tomcat-gratia, config-name=<config>

   -v
      Verbose: mention a little more about what we're doing.

Default config name is current user name (XXX), unless -p is
specified (in which case there is no default and -c is required).

Examples

   Install and start a development collector tomcat-greenc as root on
   the machine in question:

      install-release -a -c greenc -L ~greenc/gratia-test

   Install and start a development collector tomcat-greenc remotely
   (assuming user is greenc):

      install-release -a -L ~greenc/gratia-test

   Install an integration collector with the latest build (manual
   start):

      install-release -c itb_gratia_itb -B latest

NOTES

   Any specified instance (either explicitly with -c or implicitly as
   <user>) must correspond to a configuration cluse in a collector-*.dat
   file. See gratia/common/configuration/collector*.dat for examples.

</verbatim>

-- Main.ChrisGreen - 28 Oct 2009