%META:TOPICINFO{author="KyleGross" date="1229021505" format="1.1" version="1.5"}%
%META:TOPICPARENT{name="MeetingMinutes"}%
---+!!<nop>%TOPIC%
%TOC%

---++Introduction

Minutes of Gratia meeting
   * Last meeting: [[MinutesFeb19][February 19]]
   * Previous meetings: MeetingMinutes
   * Coordinates: Monday at 3:30pm CST, 1-510-665-5437 and use the meeting ID: 2966. 

---++Attending
   * Jeff Mack, Main.PenelopeConstanta, Main.JohnWeigand, Main.ChrisGreen, Jon Urish.
   * Apologies: Main.PhilippeCanal.

---++Collector/Report development
<UL>
  <LI />Jeff: I was out for a few days sick last week. Performance testing for select on EndTime field. Indexing appears to not be helping. Queries are taking several minutes of wall time. The index is defined for that field, but it's having no effect. More investigation is warranted. This is not a BIRT problem: this happening with raw SELECTS.
  <UL>
    <LI />Penelope: is the INDEXing broken; do they need to be rebuilt?
    <LI />Chris: I'll try to look into that
    <LI />John: there are several ways of storing the date in MySQL: which one is it, and does it matter?
    <LI />Jeff: !DateTime, and I don't know.
  </UL>
  <LI />Penelope: Ruth has tested the Safari changes; they seem to be fine. Will check in to CVS and update reporting sites
  <LI />Penelope: investigating java report problems with picking up multiple arguments; no progress so far
  <LI />Jon: I was looking at the SQL generated to produce some reports, and some UsageRecord fields (eg VOName, NJobs), are not documented.
  <UL>
    <LI />Chris: yes, some fields are extensions to the GGF spec. We should make sure they are documented by us.
  </UL>
  <LI />Chris: I've been working on the upgrades to the stored procedures and associated mechanisms. Stored procedures are now auto-generated by Perl, so adding a stored procedure is relatively simple, and all routines will have the same boilerplate. There are some remaining questions on some inconsistencies with the boiler plate in some of the routines:
  <OL>
    <LI />Local variables made from argument variables seemingly redundantly;
    <LI />Seemingly unnecessary use of =?= parameters in prepared SQL when direct use of (eg) procedure arguments would do;
    <LI />Apparently inconsistent formatting of date and time used in =where= and =group by= clauses.
  </OL>
A note from Greg suggested there were bugs in the MySQL parser that made this necessary, but this requires further testing. Is it possible that the specification for the =EndTime= is causing internal conversion and inefficiency with respect to INDEXed searches?
  <UL>
    <LI />John: I'll try to take a look at the table structure, etc.
    <LI />Chris: I'll get you an account on cd-psg2.
  </UL>
  <LI />Chris: I have also been working on reports for the weekly operations meeting and for the monthly newsletter. There were some problems making the apparatus that produces the daily emails cope with weekly (actually, arbitrary was no harder) ranges, and it still requires some work to combine the information from Panda without double-counting. It would be very desirable to have the ATLAS sites install Gratia across the board and remove the need for combining the Panda data at all.
</UL>

---++Psacct reports.
---++Probes
---++Storage Probe
<UL>
  <LI>Chris: there have been some issues this week with strange upload failures and subsequent reprocessing problems using the latest =Gratia.py= that have been hard to pin down; more testing is required.
</UL>

---++Any Other Business
   * Jon: I've been talking to Gabriele about GIPs. There are issues with GIPs being properly configured, and it's not clear how this is going to be solved.

-- Main.PhilippeCanal - 19 Feb 2007

-- Main.ChrisGreen - 26 Feb 2007