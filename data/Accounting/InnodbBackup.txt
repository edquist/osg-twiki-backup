%META:TOPICINFO{author="PhilippeCanal" date="1204153905" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="WebHome"}%
---+ Database Backups

---++ Stragegy

To backup and restore the MySQL database when using Innodb we have 3 possible levels depending on the uptime and recovery time requirement.

---+++ Simpliest

The database are backed up locally using mysqldump.  To simply the backup maintenance scheduling and recovery are done via Zamanda

---+++ Higher availability.

The database is replicated to a secondary node.  The replicated database is backed up via mysql dump which can be used to recover both
the main and replicated database.

---+++ Lowest recovery time.

The database is replicated to a secondary node.  The replicated database is backed up by shutting down the DB server and doing a cold
copy of the file system.

---++ Performance

ITB Innodb schema with 3.3 millions rows (7G) on disk, backup in 13 minutes.  Resulting file is also 7G.

---++ Zamanda cheat-sheet

See Documentation at http://mysqlbackup.zmanda.com/

Performance info: mysql-zrm-reporter --show backup-performance-info --destination /test/zrm/

-- Main.PhilippeCanal - 27 Feb 2008