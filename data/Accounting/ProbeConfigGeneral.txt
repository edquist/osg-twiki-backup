%META:TOPICINFO{author="PhilippeCanal" date="1299103817" format="1.1" reprev="1.5" version="1.5"}%
%META:TOPICPARENT{name="ProbeInstallation"}%
---+OSG Gratia probe configuration: general notes

<OL>
<LI>[[ProbeInstallation#DownloadTable][Install]] the software
<LI>Install a specific probe such as [[ProbeInstallation#ProbeDownloadCondor][gratia-probe-condor]] or
[[ProbeInstallation#ProbeDownloadPsacct][gratia-probe-psacct]]; or write your own based on samplemeter.pl or
samplemeter.py.
<LI>Customize the gratia =ProbeConfig= files for each probe, initializing
from =ProbeTemplate= if necessary. The following variables (at least)
should have appropriate values:

| *Gratia Configuration Variable=&quot;Default&quot;* | *Set value information* |
| !MeterName = &quot;generic&quot; | This value will be entered in the database to indicate where the record came from.<br />We recommend a =batchsystem:FQDN= such as "condor:fermigrid1.fnal.gov". |
| !SiteName = &quot;Generic Site&quot; | This value is used in the report to refer to the site/farm/cluster to which the head node gives access. |
| !VDTSetupFile = &quot;<tt>MAGIC_VDT_LOCATION</tt>/setup.sh&quot; |Path to the VDT =setup.sh= file. Please expand =MAGIC_VDT_LOCATION=. |

<LI>For official Gratia-packaged probe RPMS, the !CollectorHost is configured
appropriately; for your own probe, please contact
osg-accounting@opensciencegrid.org.

<LI>Please note: if you are installing over or upgrading an existing Gratia probe package:
   * Your old configuration may be in a different place and settings may need to be transferred manually.
   * If there exists a  =ProbeConfig=  file in the right place already, the new configuration will be created as =ProbeConfig.rpmnew.= Please review and incorporate changes as appropriate.
</OL>

-- Main.ChrisGreen - 11 Sep 2006
