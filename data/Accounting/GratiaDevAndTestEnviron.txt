%META:TOPICINFO{author="JohnWeigand" date="1197305933" format="1.1" reprev="1.6" version="1.6"}%
%META:TOPICPARENT{name="WebHome"}%
---+!!<nop>Gratia Development and Test Environment
%TOC%
%STARTINCLUDE%

---++ Description
The document attempts to describe the development and test environment for the Gratia accounting services.

---++ Hardware
This section identifies the hardware and software in place for development and testing.

---+++ General Development
%TABLE{ tableborder="1" cellpadding="0" cellspacing="1" headerbg="#99CCCC" databg="#FFFFCC, #FFFFFF"}%
%EDITTABLE{  header="|*Real Node*|*Xen Node*|*Type*|*Version*|*Purpose*|" format="| text, 15 | text, 15 | textarea, 3x25 | textarea, 4x100 |"  changerows="on" quietsave="on" editbutton="Edit table" }%
|*Real Node*|*Xen Node*|*Type / Version*|*Other*|
| gratia01 | gratiax11 |  |  |
|                | gratiax12 |  | Main.JohnUrish |
|                | gratiax13 |  |  |
|                | gratiax14 |  |  |
|                | gratiax15 |  |  |

---+++ Reports and Services (Collectors)
%TABLE{ tableborder="1" cellpadding="0" cellspacing="1" headerbg="#99CCCC" databg="#FFFFCC, #FFFFFF"}%
%EDITTABLE{  header="|*Real Node*|*Xen Node*|*Type*|*Version*|*Purpose*|" format="| text, 15 | text, 15 | textarea, 3x25 | textarea, 4x100 |"  changerows="on" quietsave="on" editbutton="Edit table" }%
|*Real Node*|*Xen Node*|*Type / Version*|*Other*|
| gratia02 | gratiax21 gratia-vm01 |  |  |
|                | gratiax22 |  |  |
|                | gratiax23 |  |  |
|                | gratiax24 |  |  |
|                | gratiax25 |  |  |

---+++ Test Site Grid
In order to provide a predictable and controlled test environment, a _test_ grid site has been established.  It will contain all the necessary components of an OSG grid site:
   * a VOMS service that can contain a number of VOs in order that all testers  belong to multiple VOs

   * a GUMS service that will derive their VO membership lists from the Gratia test VOMS service above.

   * several Compute Elements (CE) nodes running the various job batch queue managers (condor and pbs at this time).  The authorization modes for these CE's can be established to use all three of the OSG modes: grid3, compatibility  and full privilege.  All will derive their membership lists for authorizations from the Gratia VOMS and GUMS servers mentioned above.  For a more complete description of the OSG authorization modes, refer to the   [[ReleaseDocumentation.ComputeElementAuthorization][OSG CE Authorization document]].

   * at least one Worker Node (WN) with glExec.

At the current, some of the above services have been installed.  However, populating the VOMS/GUMS services with a full set of test data is not in place.

%TABLE{ tableborder="1" cellpadding="0" cellspacing="1" headerbg="#99CCCC" databg="#FFFFCC, #FFFFFF"}%
%EDITTABLE{  header="|*Real Node*|*Xen Node*|*Type*|*Version*|*Purpose*|" format="| text, 15 | text, 15 | textarea, 3x25 | textarea, 4x100 |"  changerows="on" quietsave="on" editbutton="Edit table" }%
|*Real Node*|*Xen Node*|*Type / Version*|*Other*|
| gratia03 | gratiax31 | CE / OSG 0.8.0 - VDT 1.8.1e<br />Condor/Condor-G 6.8.6 | Condor probe reporting to gratiax33<br />Authorization mode: PRIMA using GUMS services on gratiax35 |
|                | gratiax32 | CE / OSG 0.6.0 - VDT 1.6.1m<br />Condor/Condor-G 6.8.3 | Condor probe reporting to gratiax33<br />Authorization mode: PRIMA using GUMS services on gratiax35<br />Intent is for this to use a PBS probe. |
|                | gratiax33 | VDT 1.8.1e<br />Gratia Reporting 0.28<br />Gratia Services 0.28 | Replicating <nop>JobUsageRecords to gratia-vm02:8882<br />Access: <br />   * gratiax33.fnal.gov:8880 - [[http://gratiax33.fnal.gov:8880/gratia-administration/administration.html][Administration]]  / [[http://gratiax33.fnal.gov:8880/gratia-reporting/][Reporting]]<br />   * gratia-vm02.fnal.gov:8882 - [[http://gratia-vm02.fnal.gov:8882/gratia-administration/administration.html][Administration]]  / [[http://gratia-vm02.fnal.gov:8882/gratia-reporting/][Reporting]]<br />Intent is for this to be a WN (Worker Node). |
|  | gratiax34 | VOMS / OSG 0.8.0 - VDT 1.8.1e<br />VOMS 1.7.20.1<br />VOMS Admin 1.2.19-3-0<br />  - client 1.2.16-1<br />  - interface 1.0.5-1<br />  - server 1.2.19-3  | VOs: VDT,  oiv_test1, oiv_test2<br />Access: [[https://gratiax34.fnal.gov:8443/vomses/][VOMS]] |
|  | gratiax35 | GUMS / OSG-0.8.0 - VDT 1.8.1e<br />GUMS 1.2.10<br /> | Currently populated with the full OSG _gums.config_ template.<br />Access: [[https://gratiax35.fnal.gov:8443/gums/][GUMS]] |

%P%
*NOTE*: The installation of the Gratia-Service/Reports on gratiax33 is only temporary.


---+++ Databases
%TABLE{ tableborder="1" cellpadding="0" cellspacing="1" headerbg="#99CCCC" databg="#FFFFCC, #FFFFFF"}%
%EDITTABLE{  header="|*Real Node*|*Xen Node*|*Type*|*Version*|*Purpose*|" format="| text, 15 | text, 15 | textarea, 3x25 | textarea, 4x100 |"  changerows="on" quietsave="on" editbutton="Edit table" }%
|*Real Node*|*Xen Node*|*Type / Version*|*Other*|
| gratia05 | gratiax51 / gratia-vm02 |  |  |
|  | gratiax52 |  |  |
|  | gratiax53 |  |  |
|  | gratiax54 |  |  |
|  | gratiax55 |  |  |



%STOPINCLUDE%
<!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->
*Major updates*:%BR%
<!--Future editors should add their signatures beneath yours!-->
-- Main.JohnWeigand - 29 Jun 2007%BR%

%META:TOPICMOVED{by="JohnWeigand" date="1183128317" from="Accounting.DevAndTestEnviron" to="Accounting.GratiaDevAndTestEnviron"}%
