%META:TOPICINFO{author="JohnWeigand" date="1208891571" format="1.1" reprev="1.12" version="1.12"}%
%META:TOPICPARENT{name="WebHome"}%
---+!!<nop>Gratia Development and Test Environment
<!--
   * Set EDITTHISTEXT = <div class="twikiSmall"><a href="%TOPIC%">edit this section</a></div>
-->
%TOC%
%STARTINCLUDE%

---++ Description
The document attempts to describe the development and test environment for the Gratia accounting services.



---++ General Development
%TABLE{ tableborder="1" cellpadding="0" cellspacing="1" headerbg="#99CCCC" databg="#FFFFCC, #FFFFFF"}%
%EDITTABLE{  header="|*Real Node*|*Xen Node*|*Type*|*Version*|*Purpose*|" format="| text, 15 | text, 15 | textarea, 3x50 | textarea, 4x100 |"  changerows="on" quietsave="on" editbutton="Edit table" }%
|*Real Node*|*Xen Node*|*Type / Version*|*Other*|
| gratia01 | gratiax11 |  |  |
|                | gratiax12 |  | Main.JohnUrish |
|                | gratiax13 | This is ready to go at any time but is not normally on. contact fermigrid grp. if necessary.<br /> |  |
|                | gratiax14 | This is ready to go at any time but is not normally on. contact fermigrid grp. if necessary.<br /> |  |
|                | gratiax15 | This is ready to go at any time but is not normally on. contact fermigrid grp. if necessary.<br /> |  |

---++ Reports and Services (Collectors)
%TABLE{ tableborder="1" cellpadding="0" cellspacing="1" headerbg="#99CCCC" databg="#FFFFCC, #FFFFFF"}%
%EDITTABLE{  header="|*Real Node*|*Xen Node*|*Type*|*Version*|*Purpose*|" format="| text, 15 | text, 15 | textarea, 3x50 | textarea, 4x100 |"  changerows="on" quietsave="on" editbutton="Edit table" }%
|*Real Node*|*Xen Node*|*Type / Version*|*Other*|
| gratia02 | gratiax21 |  | PenelopeConstanta  |
|                | gratiax22 | CE ITB 0.9.0 reporting to gratiax33 collector<br /> | Main.JohnWeigand |
|                | gratiax23 | Gratia v0.32 Collector<br />VDT installation | JohnUrish  DianaBonham<br />For !MySql Replication testing |
|                | gratiax24 | Not implemented yet |  |
|                | gratiax25 | Not implemented yet |  |

---++ Test Site Grid
In order to provide a predictable and controlled test environment, a =test= grid site has been established.  It will contain all the necessary components of an OSG grid site:
   * The VOMS service (=gratiax34=) has been populated with several VOs identified here: https://gratiax34.fnal.gov:8443/vomses %BR%If you are a member of the Gratia development team, you should have administrative privileges to view any data.

   * The GUMS service (=gratiax35=) uses the OSG =gums.config= template at this time.  So it contains all OSG VOs and memberships as defined by the OSG GOC. At some point, it will be changed to use a =gums.config= file using the =gratiax34= VOMS service.

   * several Compute Elements (CE) nodes running the various job batch queue managers (condor and pbs at this time).  The authorization modes for these CE's can be established to use all three of the OSG modes: grid3, compatibility  and full privilege.  All will derive their membership lists for authorizations from the Gratia VOMS and GUMS servers mentioned above.  For a more complete description of the OSG authorization modes, refer to the   [[ReleaseDocumentation.ComputeElementAuthorization][OSG CE Authorization document]].

   * at least one Worker Node (WN) with glExec.


%TABLE{ tableborder="1" cellpadding="0" cellspacing="1" headerbg="#99CCCC" databg="#FFFFCC, #FFFFFF"}%
%EDITTABLE{  header="|*Real Node*|*Xen Node*|*Type*|*Version*|*Purpose*|" format="| text, 15 | text, 15 | textarea, 3x50 | textarea, 4x100 |"  changerows="on" quietsave="on" editbutton="Edit table" }%
|*Real Node*|*Xen Node*|*Type / Version*|*Other*|
| gratia03 | gratiax31 | CE / OSG 0.8.0 - VDT 1.8.1f<br />Condor/Condor-G 6.8.6 | Condor probe reporting to gratiax33<br />Authorization mode: PRIMA using GUMS services on gratiax35 |
|                | gratiax32 | CE / OSG 0.6.0 - VDT 1.6.1m<br />Condor/Condor-G 6.8.3 | Condor probe reporting to gratiax33<br />Authorization mode: PRIMA using GUMS services on gratiax35<br />Intent is for this to use a PBS probe. |
|                | gratiax33 | VDT 1.8.1e<br />Gratia Reporting 0.32<br />Gratia Services 0.32 | Access: <br />   * http://gratiax33.fnal.gov:8880/gratia-administration<br />   * http://gratiax33.fnal.gov:8880/gratia-reporting<br /> |
|  | gratiax34 | VOMS / OSG 0.8.0 - VDT 1.8.1j<br />VOMS 1.7.20.1<br />VOMS Admin 1.2.19-3-0<br />  - client 1.2.16-1<br />  - interface 1.0.5-1<br />  - server 1.2.19-3  | VOs: https://gratiax34.fnal.gov:8443/vomses |
|  | gratiax35 | GUMS / OSG-0.8.0 - VDT 1.8.1h<br />GUMS 1.2.15<br /> | Currently populated with the full OSG =gums.config= template.<br />Access: https://gratiax35.fnal.gov:8443/gums |
| gratia02 | gratiax22 | CE / ITB 0.8.0 - VDT 1.10.0<br />Condor/Condor-G 7.0.1 | Condor probe reporting to gratiax33<br />Authorization mode: PRIMA using GUMS services on gratiax35 |

%P%
%INCLUDE{GratiaVomsTestdata}%


---++ Databases
%TABLE{ tableborder="1" cellpadding="0" cellspacing="1" headerbg="#99CCCC" databg="#FFFFCC, #FFFFFF"}%
%EDITTABLE{  header="|*Real Node*|*Xen Node*|*Type*|*Version*|*Purpose*|" format="| text, 15 | text, 15 | textarea, 3x50 | textarea, 4x100 |"  changerows="on" quietsave="on" editbutton="Edit table" }%
|*Real Node*|*Xen Node*|*Type / Version*|*Other*|
| gratia05 | gratiax51 / gratia-vm02 | Has big disk for mysql testing |  |
|  | gratiax52 | has big disk for mysql testing |  |
|  | gratiax53 | Won't be implemented,<br />not enough disk space on gratia05 |  |
|  | gratiax54 | Won't be implemented,<br />not enough disk space on<br />gratia05 |  |
|  | gratiax55 | Won't be implemented<br />not enough disk space on gratia05 |  |



%STOPINCLUDE%
<!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->
*Major updates*:%BR%
<!--Future editors should add their signatures beneath yours!-->
-- Main.JohnWeigand - 29 Jun 2007%BR%

%META:TOPICMOVED{by="JohnWeigand" date="1183128317" from="Accounting.DevAndTestEnviron" to="Accounting.GratiaDevAndTestEnviron"}%
