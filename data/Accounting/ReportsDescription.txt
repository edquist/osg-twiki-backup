%META:TOPICINFO{author="KarthikArun" date="1272909929" format="1.1" reprev="1.4" version="1.4"}%
%TOC%

---++ Description of Accounting Reports
This page will make an attempt to describe/explain the accounting reports that are part of the gratia account reporting mechanism. Gratia accounting collects data from various grid resources and populates them into a database. This data is then used to generate reports that are sent to end users, site admins, management and stakeholders. These reports form an important part of the gratia accounting mechanism in the sense it provides a quick summary of the big picture of Grid Accounting. These reports have a significant impact in terms of understanding the accountability of resources, how efficiently these resources are being utilized, by whom, when and much more. 

<font color=red>Remove later</font>. This is indeed about the content of trunk/reporting/summary, in addition to daily and range, you would need to record the perl reports (all-sites-oim all-vos-oim
failure-by-vo-site osg-users).

<ol>
<li>
---+++Report from the job level Gratia db for a specific date

This is a daily report that interested users could receive. This report provides the job level accounting information from the Gratia database. To start with, this report provides a big picture summary of the job based accounting information based on sites and then provides multiple sub reports that contain the OSG usage summary statistics for the jobs that finished on the given date. The OSG usage summary is based on different permutations and combinations of sites and VOs. 

Report invocation hierarchy:
        daily_mail_cron.sh -> daily_mutt.sh -> daily

---++++How one could receive this report:
You could receive the <b>"Report from the job level Gratia db"</b> report by subscribing to the <font color=blue>gratia-operation@opensciencegrid.org</font> mailing list. 


Each of the sub reports that this report contains are explained in more detail below. 
<ul>
<li>
Report name: <b>RangeSumup</b>

Report category: Site and VO reports

Report invocation hierarchy:
        daily_mail_cron.sh -> daily_mutt.sh -> daily -> AccountingReports.RangeSumup

Purpose of the report:
        This report provides a big picture summary of how the different sites have (and not have) reported in regard to accounting data i.e. it provides information like how many sites reported, how many sites didn't report, how may sites had no activity, the non-reporting sites etc. It provides the name of the corresponding sites whereever appropriate. This report also provides a big picture summary of how the various VOs have reported with respect to activity.
<hr color=blue>
</li>

<li>
Report name: <b>DailySiteReport</b>

Report category: Site report

Report invocation hierarchy:
        daily_mail_cron.sh -> daily_mutt.sh -> daily -> AccountingReports.DailySiteReport

Purpose of report:
        This report provides the summary of site based utilization of grid resources. This report contains the following information:

----------------------------------------------------------------
 Site | # of Jobs | Wall Duration | Delta jobs | Delta duration
----------------------------------------------------------------

The following is an explanation of the various columns. This is generally
applicable for any report that contains these fields

Wall Duration is expressed in hours and rounded to the nearest hour.
Wall Duration is the duration between the instant the job start running and
the instant the job ends its execution.
The number of jobs counted here includes only the jobs directly seen by batch
system and does not include the request sent directly to a pilot job.
The Wall Duration includes the total duration of the the pilot jobs.
Deltas are the differences with the previous day.
(nr) after a VO name indicates that the VO is not registered with OSG.

<hr color=blue>
</li>
<li>

Report name: <b>DailyVOReport</b>

Report category: VO report

Report invocation hierarchy:
        daily_mail_cron.sh -> daily_mutt.sh -> daily -> AccountingReports.DailyVOReport

Purpose of report:
        This report provides the summary of VO based utilization of grid resources. This report contains the following information:

--------------------------------------------------------------
 VO | # of Jobs | Wall Duration | Delta jobs | Delta duration
--------------------------------------------------------------

<hr color=blue>
</li>

<li>

Report name: <b>DailySiteVOReport</b>

Report category: Site report

Report invocation hierarchy:
        daily_mail_cron.sh -> daily_mutt.sh -> daily -> AccountingReports.DailySiteVOReport

Purpose of report:
        This report provides the summary of Site based utilization of grid
resources, grouped by VOs. This report contains the following information:

----------------------------------------------------------------------
 Site | VO | # of Jobs | Wall Duration | Delta jobs | Delta duration
----------------------------------------------------------------------

<hr color=blue>
</li>
<li>

Report name: <b>DailyVOSiteReport</b>

Report category: VO report

Report invocation hierarchy:
        daily_mail_cron.sh -> daily_mutt.sh -> daily -> AccountingReports.DailyVOSiteReport

Purpose of report:
        This report provides the summary of VO based utilization of grid resources, grouped by Sites. This report contains the following information:

---------------------------------------------------------------------
 VO | Site | # of Jobs | Wall Duration | Delta jobs | Delta duration
---------------------------------------------------------------------

<hr color=blue>
</li>
</ol>
</li>
</ol>





-- Main.KarthikArun - 21 Apr 2010
