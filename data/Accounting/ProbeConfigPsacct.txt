%META:TOPICINFO{author="ChrisGreen" date="1161279641" format="1.1" reprev="1.4" version="1.4"}%
%META:TOPICPARENT{name="ProbeInstallation"}%
---+OSG Gratia probe configuration: PS Accounting
<OL>
<LI>[[ProbeInstallation#DownloadTable][Install]] the software

<LI>Customize the Gratia =ProbeConfig= file. The following variables (at least)
should have appropriate values:

| *Gratia Configuration Variable=&quot;Default&quot;* | *Set value information* |
| !MeterName = &quot;generic&quot; | This value will be entered in the database to indicate where the record came from.<br />We recommend a =psacct:cluster_name = such as "psacct:cmswc1.fnal.gov". |
| !SiteName = &quot;Generic Site&quot; | This value is used in the report to refer to the site/farm/cluster to which the head node gives access. |

<LI>The RPM install procedure makes appropriate entries in root's crontab
for uploading accounting information to gratia at the appropriate
time. The time is appropriately randomized.

<LI>Unlike the other Gratia accounting probes, this probe must be installed on each worker node in addition to the CE. See the [[ProbeInstallation#SourceRpm][notes on building from source rpm]] for a way to simplify the installation on multiple nodes by defining macros.

<LI>The SOAPHost has been preconfigured to use the official OSG Gratia PS Accounting collector.

<LI>If this is the first time you have installed the ps-accounting probe
on this node and you were previously running Fermilab Accountng (facct),
please see the [[FacctToGratiaMigration][notes on migrating from facct to Gratia]].

</OL>

-- Main.ChrisGreen - 19 Oct 2006

