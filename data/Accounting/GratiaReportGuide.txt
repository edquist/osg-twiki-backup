%META:TOPICINFO{author="KyleGross" date="1225985922" format="1.1" version="1.6"}%
%META:TOPICPARENT{name="WebHome"}%
---++ Gratia Report Guide

<TABLE BORDER=1 BGCOLOR=#ffffff CELLSPACING=0><FONT FACE="Arial" ><CAPTION><B>Report Reference</B></CAPTION>

<THEAD>
<TR>
<TH BGCOLOR=#c0c0c0 BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:10pt FACE="Arial" COLOR=#000000>Report Name</TH>
<TH BGCOLOR=#c0c0c0 BORDERCOLOR=#000000 >&nbsp;</TH>
<TH BGCOLOR=#c0c0c0 BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:10pt FACE="Arial" COLOR=#000000>Query Text</TH>
<TH BGCOLOR=#c0c0c0 BORDERCOLOR=#000000 ><FONT style=FONT-SIZE:10pt FACE="Arial" COLOR=#000000>Drill-Through Report(s)</TH>

</TR>
</THEAD>
<TBODY>
<TR VALIGN=TOP>
<TD> customSqlReport</TD>
<TD>&nbsp;</TD>
<TD> <BR></TD>
<TD> <BR></TD>
</TR>

<TR VALIGN=TOP>
<TD>DailyJobsByFacility</TD>

<TD>&nbsp;</TD>
<TD> call !DailyJobsByFacility(?,?,?,?,?)</TD>
<TD>DailyJobsByProbe -L
  <br>DailyJobsByFacility -X</TD>
</TR>

<TR VALIGN=TOP>
<TD>DailyJobsByFacilityAndDate</TD>
<TD>&nbsp;</TD>
<TD> call !DailyJobsByFacilityAndDate(?,?,?)</TD>
<TD>DailyJobsByProbe -L
  <br>DailyJobsByCETable -Y-error</TD>
</TR>

<TR VALIGN=TOP>
<TD>DailyJobsByProbe</TD>
<TD>&nbsp;</TD>
<TD> call !DailyJobsByProbe(?,?,?,?,?)</TD>
<TD>DailyJobsByProbe -L
  <br>
  !DailyJobsByProbe -Y</TD>
</TR>

<TR VALIGN=TOP>
<TD>DailyJobsByProbeAndDate</TD>
<TD>&nbsp;</TD>
<TD> call !DailyJobsByProbeAndDate(?,?,?)</TD>

<TD>DailyJobsByProbe -L</TD>
</TR>

<TR VALIGN=TOP>
<TD>DailyJobsByVO</TD>
<TD>&nbsp;</TD>
<TD> call !DailyJobsByVO(?,?,?,?,?)</TD>
<TD>DailyJobsByProbe -L
  <br>DailyJobsByVO -Y</TD>
</TR>

<TR VALIGN=TOP>
<TD>DailyJobsByVOAndDate</TD>
<TD>&nbsp;</TD>
<TD> call !DailyJobsByVOAndDate(?,?,?)</TD>
<TD>DailyJobsByProbe -L<br>DailyJobsByVO -X</TD>
</TR>

<TR VALIGN=TOP>
<TD>DailyUsageByFacility</TD>
<TD>&nbsp;</TD>
<TD> call !DailyUsageByFacility(?,?,?,?,?)</TD>
<TD>DailyJobsByProbe -L
  <br>DailyUsageByFacility -X</TD>
</TR>

<TR VALIGN=TOP>
<TD>DailyUsageByFacilityAndDate</TD>
<TD>&nbsp;</TD>
<TD> call !DailyUsageByFacilityAndDate(?,?,?)</TD>
<TD>DailyUsageByProbe -L<br>DailyUsageByCETable -Y-error</TD>
</TR>

<TR VALIGN=TOP>
<TD> !DailyUsageByProbe</TD>
<TD>&nbsp;</TD>
<TD> call !DailyUsageByProbe(?,?,?,?,?)</TD>
<TD>DailyJobsByProbe -L
  <br>DailyUsageByProbe -Y</TD>
</TR>

<TR VALIGN=TOP>
<TD>DailyUsageByProbeAndDate</TD>
<TD>&nbsp;</TD>
<TD> call !DailyUsageByProbeAndDate(?,?,?)</TD>
<TD>DailyUsageByProbe -Y</TD>
</TR>

<TR VALIGN=TOP>
<TD>DailyUsageBySite</TD>

<TD>&nbsp;</TD>
<TD> select !JobUsageRecord.SiteName,  Date( !JobUsageRecord.EndTime) as !EndTime, <BR>
        sum( !JobUsageRecord.WallDuration), <BR>
        sum( !JobUsageRecord.CpuUserDuration+ !JobUsageRecord.CpuSystemDuration)<BR>
         from !JobUsageRecord
where !EndTime >= ? and  !EndTime &lt;= ?<BR>
group by date_format( !JobUsageRecord.EndTime,?), !JobUsageRecord.SiteName <BR>
order by date_format( !JobUsageRecord.EndTime,?)</TD>
<TD>DailyJobsByProbe -L
  <br>DailyUsageBySite -X</TD>
</TR>

<TR VALIGN=TOP>
<TD>DailyUsageByVO</TD>
<TD>&nbsp;</TD>
<TD> select V.VirtualOrganizations/VOInfoName as voname, 
       Date( !V.EndTime) as !EndTime, 
       sum( !V.WallDuration) as !WallDuration,
       sum( !V.CpuUserDuration+ !V.CpuSystemDuration) as systemduration
from !VirtualOrganizations/VOInfoProbeSummary V
where (? &lt;=  !V.EndTime and  !V.EndTime &lt;= ?)
group by date_format( !V.EndTime, ?), !V.VirtualOrganizations/VOInfoName
order by date_format( !V.EndTime, ?)</TD>
<TD>DailyJobsByProbe -L
  <br>DailyUsageByVO -X</TD>

</TR>

<TR VALIGN=TOP>
<TD>DailyUsageByVOAndDate</TD>
<TD>&nbsp;</TD>
<TD> call !DailyUsageByVOAndDate(?,?,?)</TD>
<TD>DailyJobsByProbe -L
  <br>DailyUsageByVO -Y</TD>
</TR>

<TR VALIGN=TOP>
<TD>DateSummary1a</TD>
<TD>&nbsp;</TD>
<TD> SELECT sum( !J.CpuUserDuration+ !J.CpuSystemDuration)/(3600*1000) as cpuabs,  
date_format( !J.EndTime, "%Y-%m") as yearmonth, 
 !J.VirtualOrganizations/VOInfoName as voname,
 !J.LocalUserID as locuserid,
sum( !J.CpuUserDuration+ !J.CpuSystemDuration) 
*C.!BenchmarkScore/(3600*1000) as cpunorm
 FROM !JobUsageRecord J, !CpuInfo C, !CEProbes P, !CETable CE
where  !J.HostDescription = !C.NodeName
and date_format( !J.EndTime, "%Y-%m") = ?

and  !J.ProbeName = !P.ProbeName
and P.facility_id = CE.facility_id
and facility_name = ?

and !J.VirtualOrganizations/VOInfoName = ?
group by yearmonth, locuserid
order by yearmonth</TD>
<TD> <BR></TD>
</TR>

<TR VALIGN=TOP>
<TD>JobsByFacility</TD>
<TD>&nbsp;</TD>
<TD> call !JobsByFacility(?,?,?,?)</TD>
<TD>JobsByProbe -Y</TD>
</TR>

<TR VALIGN=TOP>

<TD>JobsByProbe</TD>
<TD>&nbsp;</TD>
<TD> select !CEProbes.ProbeName, sum( !ProbeSummary.Njobs)
from !CETable, !CEProbes, !ProbeSummary
where (? = 'All' or !CETable.facility_name = ?)
and !CEProbes.facility_id = !CETable.facility_id
and !ProbeSummary.!ProbeName = !CEProbes.!ProbeName
and (date(?) &lt;= !ProbeSummary.EndTime and !ProbeSummary.!EndTime &lt;= date(?))
group by !CEProbes.ProbeName
order by !CEProbes.ProbeName</TD>
<TD> <BR></TD>
</TR>

<TR VALIGN=TOP>
<TD>JobsByProbeNoFacility</TD>
<TD>&nbsp;</TD>
<TD> call !JobsByProbeNoFacility(?,?,?,?)</TD>
<TD>UsageReport -Y</TD>

</TR>

<TR VALIGN=TOP>
<TD>JobsBySite</TD>
<TD>&nbsp;</TD>
<TD> select !JobUsageRecord.SiteName, sum( !JobUsageRecord.Njobs)
from !JobUsageRecord
where (? &lt;= !JobUsageRecord.EndTime and !JobUsageRecord.EndTime &lt;= ?)
group by !JobUsageRecord.SiteName
order by !JobUsageRecord.SiteName</TD>
<TD> !JobsByUser -Y</TD>
</TR>

<TR VALIGN=TOP>
<TD>JobsByUser</TD>
<TD>&nbsp;</TD>
<TD> select !JobUsageRecord.CommonName as !UserName, sum( !JobUsageRecord.Njobs)
from !JobUsageRecord
where (? &lt;= !JobUsageRecord.EndTime and !JobUsageRecord.EndTime &lt;= ?)
group by !JobUsageRecord.CommonName
order by !JobUsageRecord.CommonName</TD>
<TD> <BR></TD>
</TR>

<TR VALIGN=TOP>
<TD>JobsByUserforSite</TD>
<TD>&nbsp;</TD>
<TD> select !JobUsageRecord.CommonName as !UserName, sum( !JobUsageRecord.Njobs)
from !JobUsageRecord
where (? &lt;= !JobUsageRecord.EndTime and !JobUsageRecord.EndTime &lt;= ?)
and !JobUsageRecord.SiteName = ?
group by !JobUsageRecord.CommonName
order by !JobUsageRecord.CommonName</TD>

<TD> <BR></TD>
</TR>

<TR VALIGN=TOP>
<TD>JobsByUserforVO</TD>
<TD>&nbsp;</TD>
<TD> select !JobUsageRecord.CommonName as !UserName, sum( !JobUsageRecord.Njobs)
from !JobUsageRecord
where (? &lt;= !JobUsageRecord.EndTime and !JobUsageRecord.EndTime &lt;= ?)
and !JobUsageRecord.VirtualOrganizations/VOInfoName = ?
group by !JobUsageRecord.CommonName
order by !JobUsageRecord.CommonName</TD>
<TD> <BR></TD>
</TR>

<TR VALIGN=TOP>
<TD>JobsByVO</TD>
<TD>&nbsp;</TD>
<TD> select !JobUsageRecord.VirtualOrganizations/VOInfoName, sum(!JobUsageRecord.Njobs)
from !JobUsageRecord
where (? &lt;= !JobUsageRecord.!EndTime and !JobUsageRecord.EndTime &lt;= ?)
group by !JobUsageRecord.VirtualOrganizations/VOInfoName
order by !JobUsageRecord.VirtualOrganizations/VOInfoName</TD>
<TD> !JobsByUserforVO -Y</TD>
</TR>

<TR VALIGN=TOP>
<TD>ProbeStatus</TD>
<TD>&nbsp;</TD>
<TD> call !ProbeStatus(?,?,?,?,?)</TD>
<TD>ProbeStatus -L
  <br>DailyJobsByProbe -Y</TD>
</TR>

<TR VALIGN=TOP>

<TD>UsageByFacility</TD>
<TD>&nbsp;</TD>
<TD> call !UsageByFacility(?,?,?,?)</TD>
<TD>UsageByProbe -Y</TD>
</TR>

<TR VALIGN=TOP>
<TD> !UsageByProbe</TD>
<TD>&nbsp;</TD>
<TD> select !CEProbes.ProbeName, sum( !JobUsageRecord.WallDuration)
from CETable, CEProbes, !JobUsageRecord
where (? = 'All' or CETable.facility_name = ?)
and CEProbes.facility_id = CETable.facility_id
and !JobUsageRecord.ProbeName = !CEProbes.ProbeName
and (? &lt;= !JobUsageRecord.EndTime and !JobUsageRecord.EndTime &lt;= ?)
group by !CEProbes.ProbeName
order by !CEProbes.ProbeName</TD>

<TD> <BR></TD>
</TR>

<TR VALIGN=TOP>
<TD>UsageBySite</TD>
<TD>&nbsp;</TD>
<TD> select !JobUsageRecord.SiteName, 
   sum( !JobUsageRecord.WallDuration),
	sum( !JobUsageRecord.CpuUserDuration+ !JobUsageRecord.CpuSystemDuration)
from !JobUsageRecord
where (? &lt;= !JobUsageRecord.EndTime and !JobUsageRecord.EndTime &lt;= ?)
group by !JobUsageRecord.SiteName
order by !JobUsageRecord.!SiteName</TD>
<TD> !UsageByUser -Y</TD>
</TR>

<TR VALIGN=TOP>
<TD>UsageByUser</TD>
<TD>&nbsp;</TD>
<TD> select !JobUsageRecord.!CommonName as !UserName, 
   sum( !JobUsageRecord.WallDuration),
	sum( !JobUsageRecord.CpuUserDuration+ !JobUsageRecord.CpuSystemDuration),
	!JobUsageRecord.VirtualOrganizations/VOInfoName as VirtualOrganizations/VOInfoName,
	!JobUsageRecord.SiteName as !SiteName
	from !JobUsageRecord
where (? &lt;= !JobUsageRecord.!EndTime and !JobUsageRecord.EndTime &lt;= ?)
and (VirtualOrganizations/VOInfoName = ? or (? = 'NoVO' and (VirtualOrganizations/VOInfoName like '%' or VirtualOrganizations/VOInfoName is null)))
and (!SiteName = ? or (? = 'NoSite' and (!SiteName like '%' or !SiteName is null)))
group by !JobUsageRecord.CommonName
order by !JobUsageRecord.CommonName</TD>
<TD> <BR></TD>
</TR>

<TR VALIGN=TOP>
<TD>UsageByVO</TD>
<TD>&nbsp;</TD>
<TD> select !JobUsageRecord.VirtualOrganizations/VOInfoName, 
   sum( !JobUsageRecord.WallDuration),
	sum( !JobUsageRecord.CpuUserDuration+ !JobUsageRecord.CpuSystemDuration)
from !JobUsageRecord
where (? &lt;= !JobUsageRecord.EndTime and !JobUsageRecord.EndTime &lt;= ?)
group by !JobUsageRecord.VirtualOrganizations/VOInfoName
order by !JobUsageRecord.VirtualOrganizations/VOInfoName</TD>

<TD> !UsageByUser -Y</TD>
</TR>

<TR VALIGN=TOP>
<TD>UsageReport</TD>
<TD>&nbsp;</TD>
<TD> select !JobUsageRecord.JobName, CETable.facility_name, !CEProbes.ProbeName, 
        !JobUsageRecord.StartTime, !JobUsageRecord.EndTime, !JobUsageRecord.JobNameDescription 
from !JobUsageRecord, CETable, CEProbes
where CEProbes.facility_id = CETable.facility_id
and !JobUsageRecord.ProbeName = !CEProbes.ProbeName
and (? &lt;= !JobUsageRecord.EndTime and !JobUsageRecord.EndTime &lt;= ?)
and (? = 'All' or !JobUsageRecord.!ProbeName = ?)
and (? = 'All' or CETable.facility_name = ?)</TD>
<TD> <BR></TD>
</TR>

<tr>
<TD colspan="4" bgcolor="#F4F4F4">
<p align="center"><b>Process Accounting Reports</b></TD>
</tr>
<tr>
<TD>DailyUsageByGroup-pacct</TD>

<TD>&nbsp;</TD>
<TD> select !V.VirtualOrganizations/VOInfoName, C.facility_name,
       Date( !V.EndTime) as !EndTime, 
       sum( !V.CpuUserDuration+ !V.CpuSystemDuration)
from !VirtualOrganizations/VOInfoProbeSummary V, !CETable C, !CEProbes P 
where  !V.ProbeName = !P.ProbeName
and P.facility_id = C.facility_id
and C.facility_name =?
and ( !EndTime >= ?  and !EndTime &lt;= ?)
group by date_format( !V.EndTime, ?), !V.VirtualOrganizations/VOInfoName
order by date_format( !V.EndTime, ?)</TD>
<TD>DailyUsageByGroup-pacct -Y
  <br>DailyUsageByGroup-pacct -L</TD>
</tr>
<tr>
<TD>DailyUsageByGroup1-pacct</TD>
<TD>&nbsp;</TD>
<TD> select !JobUsageRecord.VirtualOrganizations/VOInfoName, !JobUsageRecord.ProbeName,
       Date( !JobUsageRecord.EndTime) as !EndTime, 
       sum( !JobUsageRecord.CpuUserDuration+ !JobUsageRecord.CpuSystemDuration)
from !JobUsageRecord 
where (? = 'All' or !JobUsageRecord.ProbeName =?)
and (? &lt;= !EndTime and !EndTime &lt;= ?)
group by date_format( !EndTime, ?), !JobUsageRecord.VirtualOrganizations/VOInfoName
order by !JobUsageRecord.EndTime</TD>

<TD>DailyUsageByGroup1-pacct -Y</TD>
</tr>
<tr>
<TD>DailyUsageByGroup2-pacct</TD>
<TD>&nbsp;</TD>
<TD> select J.VirtualOrganizations/VOInfoName as voname,
       Date( !J.EndTime) as !EndTime, 
       sum( !J.CpuUserDuration+ !J.CpuSystemDuration)
from !VirtualOrganizations/VOInfoProbeSummary J, !CEProbes P, !CETable C 
where  !J.ProbeName = !P.ProbeName
and P.facility_id = C.Facility_id
and C.facility_name = ?
and (? &lt;= !EndTime and !EndTime &lt;= ?)
group by date_format(!EndTime, ?), !J.VirtualOrganizations/VOInfoName
order by  !J.EndTime</TD>
<TD> !DailyUsageByGroup2a-pacct -X</TD>
</tr>
<tr>
<TD>DailyUsageByGroup2a-pacct</TD>
<TD>&nbsp;</TD>
<TD> select J.VirtualOrganizations/VOInfoName as voname,
       Date( !J.EndTime) as !EndTime, 
       sum( !J.CpuUserDuration+ !J.CpuSystemDuration)
from !VirtualOrganizations/VOInfoProbeSummary J, CEProbes P, CETable C 
where  !J.ProbeName = !P.ProbeName
and P.facility_id = C.Facility_id
and C.facility_name = ?
and (? &lt;= !EndTime and !EndTime &lt;= ?)
and !J.VirtualOrganizations/VOInfoName = ?
group by date_format(!EndTime, ?), !J.VirtualOrganizations/VOInfoName
order by  !J.EndTime</TD>
<TD>DailyUsageByGroup-pacct -L
  <br>DailyUsageByGroup2a-pacct -X</TD>
</tr>
<tr>
<TD>DailyUsage-pacct</TD>

<TD>&nbsp;</TD>
<TD> select  !J.ProbeName, !J.EndTime as !EndTime,  

sum(( !J.CpuUserDuration+ !J.CpuSystemDuration)) as cputime,
sum(( !J.CpuUserDuration+ !J.CpuSystemDuration)* !CpuInfo.BenchmarkScore/1000) as normcpu
FROM !JobUsageRecord J, !CpuInfo !CpuInfo
where  !J.HostDescription= !CpuInfo.NodeName 
and  !J.ProbeName = ?
and (? &lt;=  !J.EndTime and  !J.EndTime &lt;= ?)
group by date_format( !J.EndTime, ?)
order by  !J.EndTime</TD>
<TD>DailyJobsByProbe -L
  <br>DailyUsage-pacct -Y1
  <br>DailyUsage-pacct -Y2</TD>
</tr>
<tr>
<TD>DailyUsage-pacct-usersys</TD>
<TD>&nbsp;</TD>
<TD> select  !J.ProbeName,
sum( !J.CpuUserDuration) as usercpu,
sum( !J.CpuSystemDuration) as syscpu, 
        !J.EndTime as !EndTime, 

sum(( !J.CpuUserDuration+ !J.CpuSystemDuration)) as cputotal,
sum(( !J.CpuUserDuration+ !J.CpuSystemDuration)* !CpuInfo.BenchmarkScore/1000) as normcputotal
FROM !JobUsageRecord J, !CpuInfo !CpuInfo
where  !J.HostDescription= !CpuInfo.!NodeName 
and  !J.ProbeName = ?
and (? &lt;= !EndTime and !EndTime &lt;= ?)
group by date_format( !J.EndTime, ?)
order by  !J.EndTime</TD>

<TD>DailyJobsByProbe -L
  <br>DailyUsage-pacct-usersys -X
  <br>DailyUsage-pacct-usersys -X</TD>
</tr>
<tr>
<TD>DailyUsage1-pacct</TD>
<TD>&nbsp;</TD>
<TD> select C.facility_name,sum( !J.CpuUserDuration) as usercpu,
sum( !J.CpuSystemDuration) as syscpu,  !J.EndTime as !EndTime,sum(( !J.CpuUserDuration+ !J.CpuSystemDuration)) as cputotal,
sum(( !J.CpuUserDuration+ !J.CpuSystemDuration)*CpuInfo.BenchmarkScore/1000) as normcputotal
FROM !JobUsageRecord J, !CpuInfo !CpuInfo, CETable C, CEProbes P
where  !J.HostDescription=!CpuInfo.NodeName 
and  !J.ProbeName = !P.ProbeName
and P.facility_id = C.facility_id
and  C.facility_name = ?
and (? &lt;= !EndTime and !EndTime &lt;= ?)
group by date_format( !J.EndTime, ?)
order by  !J.EndTime</TD>

<TD>DailyJobsByProbe -L
  <br>DailyUsage1-pacct -X
  <br>DailyUsage1-pacct -X</TD>
</tr>
<tr>

<TD>DateSummary1-pacct</TD>
<TD>&nbsp;</TD>
<TD> SELECT sum( !J.CpuUserDuration+ !J.CpuSystemDuration)/(3600*1000) as cpuabs,  
date_format( !J.EndTime, "%Y-%m") as yearmonth, 
J.VirtualOrganizations/VOInfoName as voname,
sum( !J.CpuUserDuration+ !J.CpuSystemDuration) 
*C.!BenchmarkScore/(3600*1000) as cpunorm
 FROM !JobUsageRecord J, !CpuInfo C, !CETable CE, !CEProbes P
where  !J.HostDescription = C.!NodeName
and  !J.EndTime >= ?
and  !J.EndTime &lt; '2010-12-31'
and  !J.ProbeName = !P.ProbeName
and P.facility_id = CE.facility_id
and facility_name = ?
group by yearmonth, voname
order by yearmonth</TD>
<TD> !DateSummary1a -Y</TD>
</tr>
<tr>
<TD>DateSummary2-pacct</TD>
<TD>&nbsp;</TD>
<TD> SELECT facility_name, sum( !N.CpuUserTime+ !NN.CpuSystemTime)/3600*( !N.BenchmarkScore/1000)
as cpunorm, 
sum( !N.BenchmarkScore /1000 * !N.CpuCount*24 ) as cpuavail,
date_format( !N.EndTime, "%Y-%m") as monthyear,
 !N.CpuCount as !CpuCount,
 !N.DaysInMonth as !DaysInMonth,
 !N.BenchmarkScore as !BenchmarkScore,
N.Node as node
FROM !NodeSummary N, !CETable C, !CEProbes P
where  !N.EndTime >= ?
and  !N.EndTime >= '2006-04-01'
and  !N.EndTime &lt; '2012-12-31'
and  !N.ProbeName = !P.ProbeName
and P.facility_id = C.facility_id
and facility_name = ?
group by monthyear
order by monthyear</TD>

<TD> <BR></TD>
</tr>
<tr>
<TD>MonthlySummary1-pacct</TD>
<TD>&nbsp;</TD>
<TD> select distinct facility_name from !CETable C, !CEProbes
where C.facility_id = !CEProbes.facility_id
 and CEProbes.!ProbeName like "psacct%"</TD>

<TD> <BR></TD>
</tr>
<tr>
<TD colspan="5" bgcolor="#F4F4F4">
<p align="center"><b>OSG Daily Reports</b></TD>
</tr>
<tr>
<TD>DailyUsageBySite-osgdaily</TD>
<TD>&nbsp;</TD>
<TD>select !JobUsageRecord.SiteName, <BR>       Date( !JobUsageRecord.EndTime) 
as endtime, <BR>        sum( !JobUsageRecord.WallDuration),<BR>        sum( !JobUsageRecord.CpuUserDuration+ 
!JobUsageRecord.CpuSystemDuration)<BR>         from !JobUsageRecord<BR>where !EndTime 
&gt;= ? and !EndTime &amp;lt;= ?<BR>group by date_format( !JobUsageRecord.EndTime,<BR>
?), !JobUsageRecord.SiteName<BR>order by date_format( !JobUsageRecord.EndTime,?)</TD>
<TD>DailyJobsByProbe -L<BR>DailyUsageBySite -X</TD>
<TD><BR></TD>
</tr>
<tr>
<TD>DailyUsageByVO-daily</TD>
<TD>&nbsp;</TD>
<TD>select V.VirtualOrganizations/VOInfoName as voname, <BR>       Date( !V.EndTime) as endtime, <BR>       sum( !V.WallDuration) as wallduration,<BR>       sum( !V.CpuUserDuration+ !V.CpuSystemDuration)as systemduration<BR>from !VirtualOrganizations/VOInfoProbeSummary V<BR>where (? &amp;lt;= !V.EndTime and  !V.EndTime &amp;lt;= ?)<BR>group by date_format( !V.EndTime, ?), !V.VirtualOrganizations/VOInfoName<BR>order by date_format( !V.EndTime, ?)</TD>
<TD>DailyJobsByProbe -L<BR>DailyUsageByVO -X</TD>
<TD><BR></TD>
</tr>
<tr>
<TD>JobsBySite-osgdaily</TD>
<TD>&nbsp;</TD>
<TD>select !JobUsageRecord.SiteName, sum( !JobUsageRecord.Njobs)<BR>from !JobUsageRecord<BR>where (? &amp;lt;= !JobUsageRecord.EndTime and !JobUsageRecord.EndTime &amp;lt;= ?)<BR>group by !JobUsageRecord.SiteName<BR>order by !JobUsageRecord.SiteName</TD>
<TD>JobsByUser -Y</TD>
<TD><BR></TD>
</tr>

<TR VALIGN=TOP>
<TD>JobsByVO-osgdaily</TD>
<TD>&nbsp;</TD>
<TD>select !JobUsageRecord.VirtualOrganizations/VOInfoName, sum( !JobUsageRecord.Njobs)<BR>from !JobUsageRecord<BR>where (? &amp;lt;= !JobUsageRecord.EndTime and !JobUsageRecord.EndTime &amp;lt;= ?)<BR>group by !JobUsageRecord.VirtualOrganizations/VOInfoName<BR>order by  !JobUsageRecord.VirtualOrganizations/VOInfoName</TD>
<TD>JobsByUserforVO -Y</TD>
<TD><BR></TD>
</TR>
<tr>
<TD>UsageBySite-osgdaily</TD>
<TD>&nbsp;</TD>
<TD>select !JobUsageRecord.SiteName, <BR>   sum( !JobUsageRecord.WallDuration),<BR>&#09;sum( !JobUsageRecord.CpuUserDuration+ !JobUsageRecord.CpuSystemDuration)<BR>from !JobUsageRecord<BR>where (? &amp;lt;= !JobUsageRecord.EndTime and  !JobUsageRecord.EndTime &amp;lt;= ?)<BR>group by !JobUsageRecord.SiteName<BR>order by !JobUsageRecord.SiteName</TD>
<TD>UsageByUser -Y</TD>
<TD><BR></TD>
</tr>
<TR VALIGN=TOP>
<TD>UsageByVO-osgdaily</TD>
<TD>&nbsp;</TD>
<TD>select !JobUsageRecord.VirtualOrganizations/VOInfoName, <BR>   sum( !JobUsageRecord.WallDuration),<BR>&#09;sum( !JobUsageRecord.CpuUserDuration+ !JobUsageRecord.CpuSystemDuration)<BR>from !JobUsageRecord<BR>where (? &amp;lt;= !JobUsageRecord.EndTime and  !JobUsageRecord.EndTime &amp;lt;= ?)<BR>group by !JobUsageRecord.VirtualOrganizations/VOInfoName<BR>order by !JobUsageRecord.VirtualOrganizations/VOInfoName</TD>
<TD>UsageByUser -Y</TD>
<TD><BR></TD>
</TR>

</TBODY>
</TABLE>
-- Main.JeffreyMack - 12 April 2007