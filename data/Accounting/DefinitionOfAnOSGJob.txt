%META:TOPICINFO{author="KyleGross" date="1225985921" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="WebHome"}%
<table width="100%">
<tr><td valign="top">
</td>
<td valign="top">
---+!!Gratia
%TOC%
</td>
<td valign="top" align="right" width="25%">
%TABLE{ sort="off" dataalign="left" tableborder="0" cellpadding="1" cellspacing="3" headerbg="#F3EDE7" databg="#F3EDE7"}%
</td></tr></table>
%STARTINCLUDE%

This document attempts to provide the definition of what an OSG job is.
In order to reduce potential confusion this includes several proposals of definitions related to job.

---++Job Type Definitions

---+++User Submission (or Grid Job):
Set of Batch jobs and associated services executions induces
by a single user generated request (One click on a web form,
One call to grid_submit, condor_submit)

---+++Batch Job:
Single execution unit submitted to a batch system, usually
executed on a single host (unless 'MPI' or related type of 
system is also used).

---+++Forwarding Job:
A batch job whose sole purpose is to forward the batch job
to a different gatekeeper/batch system.
The target gatekeeper/batch system might be in a different 'Grid'.

---+++Forwarded Job:
A batch job that was forwarded for a different gatekeeper/batch system.
from a 'Forwarding Job'.  The originating gatekeeper/batch system
might be in a different 'Grid'.

---+++Pilot Job:
A batch job whose purpose is to execute one of more sub job
submitted directly to itself (as opposed to 'through the
gatekeeper of the current batch system).

---+++Sub-job (or Glexec job):
A batch job that was submitted via an auxilliary 'head node'
who got control of the host via a pilot job.

---++OSG Job Definitions

---+++OSG User Submission:
User Submission submitted via one of the OSG provided
'portal' tools or a VirtualOrganizations/VOInfo specific tool using OSG provided
'portal' tools or local submission in the case where the
owner of the Compute Element elected that the whole 
Compute Element is part of OSG.

---+++OSG Batch Job:
Batch job submitted to a Compute Element registered to OSG
via a 'grid/remote' submission.
Batch job submitted to a Compute Element registered to OSG
via a local submission AND the owner of the Compute Element
elected that the whole Compute Element is part of OSG.

---++Additional Notes
Currently Gratia records all 'Batch Job' but treat the 
Glexec jobs separetly.  Aka when the glexec Gratia is
deploy the information is recorded but not display in
the default reports.

Currently Gratia 'double count' the "wall duration" for
the Forwarding and the Forwarded job.  (I think this
affect only Fermigrid).  I think (but need to confirm)
that we can tell a Forwarding Job from a typical 
Batch Job by looking at the condor 'Universse' for the
job. Is this a correct assumption?

---+++Unknown VirtualOrganizations/VOInfo in Gratia

A job is marked as belonging to the "Unknown" if:
   1. The grid vo map is not up to date and does not contain information pertaining to the user.
   2. The job is a local job.