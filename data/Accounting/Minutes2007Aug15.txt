%META:TOPICINFO{author="ChrisGreen" date="1187215229" format="1.1" reprev="1.2" version="1.2"}%
%META:TOPICPARENT{name="MeetingMinutes"}%
---+!!<nop>%TOPIC%
%TOC%

---++Introduction

Minutes of Gratia meeting
   * Last meeting: [[Minutes2007Aug8][August 8]]
   * Previous meetings: MeetingMinutes
   * Coordinates: Wednesday at 1:30pm CST/CDT, 1-510-665-5437 and use the meeting ID: 2966. 

---++Attending
   * [[Main.ChrisGreen][Chris Green]], [[Main.JohnWeigand][John Wiegand]], [[Main.JeffreyMack]][Jeff Mack]], Keith Chadwick, Diana Bonham.
   * Apologies: T[[Main.PhilippeCanal][Philippe Canal]].

---++Action items from previous meeting:

   * Chris: Thanks to Steve and Keith for a smooth downtime.

---++Gratia sysadmin and operations tasks

---++DB and Schema issues

   * John W: I've been working a little on duplicate usage. Trying to get list of worst-offending probes, but queries against DupRecord JOIN JobUsageRecord_Meta are *very* slow. Indexes missing?
      * Chris: don't think so, will have to check.
      * Diana: Is there an EXPLAIN equivalent for !MySQL?
      * Chris: Yes, but it's not completely helpful. I will do a little investigation.
         * Chris: A short query for today only takes just a few seconds -- back to 2007/07/01 takes 10-11 minutes:<pre style="border: solid thin black; background-color: #eeeeee; color: blue">select M.ProbeName, count(*) from JobUsageRecord_Meta M, DupRecord D
  where M.dbid = D.dbid and D.Error = 'duplicate' and D.EventDate > '2007-08-14 20:00:00'
  group by M.ProbeName;</pre><pre style="border: solid thin black; background-color: #eeeeee; color: blue">select M.ProbeName, date(D.EventDate) as 'Event Date', count(*) as NDups
  from JobUsageRecord_Meta M, DupRecord D
  where M.dbid = D.dbid and D.Error = 'duplicate' 
  group by date(D.EventDate), M.ProbeName
  order by 'Event Date' desc, NDups desc, M.ProbeName;</pre>

   * Diana: I looked into 5.1 -- still no word on real release date. I am working on getting a copy of the ITB DB onto a test machine for INNODB parameter and conversion tests. Lots of options! Will look at create options first, followed by startup options.

---++Collector/Report development

   * Chris: WS configuration to handle memory problems. Keith suggested a call to OSG in general; Diana suggested Laura Mengel as a local avenue to try.
   * Chris: collector also suffered from hysteresis (sometimes something hangs around from the previous invocation and screws up reporting); and when fixing that caused some DB corruption.
   * Jeff (for Penelope): stuck right now on being able to set parameters with an event handler within BIRT -- submitted a bug report before going on vacation.
   * Jeff: I spoke with Ruth, and she did seem amenable to spending money on some BIRT technical support. Ruth will talk to Philippe.
   * Jeff: I have collected, digested and consolidated all reporting requests and created a spreadsheet; after a little more work, this will make its way to the !TWiki.
   * Jeff: I would also like the production, daily and ITB reporting systems updated to solve a long-standing problem with the line charts and to fix serious problems with the daily reports.
      * Chris: I am talking to GOC to arrive at a procedure for scheduling downtimes for services vs sites.
      * Jeff: would be nice to havee a streamlined system for updating reports only.
      * Chris: Yes, but one needs to be sure the new reports don't rely on schema or code changes.

---++Probes

   * Chris: I have been asked to follow up on several Gratia-related tickets with a view to closing them by the end of the week.

---++Storage Probe

---++Test Bed

---++Metrics

---++Any Other Business

   * John W: I handled a few requests related to the WLCG APEL interface. Some question over lower reporting to WLCG since June. Ian Fisk reported the discrepancy. Possibility of sites missing. One possible reason is that I recently re-loaded the entire APEL report set after adding BNL_LOCAL and friends to the reporting set. Ian's information may not include this information.
   * Chris: Daily report gives summary of reporting vs non-reporting sites. The three sites listed as "non sanctioned, non-registered" should all be resolved now; but are still turning up on the list. I will check with Philippe.
   * John W: I have a proposal for handling collector upgrades to production systems by using the hot-copied DB on gratia07 and then replicating and swapping over.
      * Chris: sounds feasible; will check with Steve whether this is a legitimate use of the DB on gratia07 or whether we should copy the schema elsewhere first.

-- Main.ChrisGreen - 15 Aug 2007
