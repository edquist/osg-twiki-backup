%META:TOPICINFO{author="AbhishekSinghRana" date="1131514263" format="1.0" version="1.30"}%
<table width="100%" align="left"><tr><td align="center"><img src="http://home.fnal.gov/~rana/esf/logo/ESF-logo-mini.PNG" alt="ESF-logo"></td></tr></table>
<table width="100%">
<tr><td valign="top">
</td>
<td valign="top">
---+!!Edge Services Framework 
%TOC%
</td>
<td valign="top" align="right" width="30%">
%TABLE{ sort="off" dataalign="left" tableborder="0" cellpadding="1" cellspacing="3" headerbg="#F3EDE7" databg="#F3EDE7"}%
|*Monthly statistics <font size="-1">([[WebStatistics][calculate]])</font>*|
%INCLUDE{"%STATISTICSTOPIC%" pattern=".*?\-\-statTopContributors\-\-\>[^\|]+\|[^\|]+\|[^\|]+\|[^\|]+\|[^\|]+\|[^\|]+\|[^\|]+(\|[^\|]+\|).*"}%
</td></tr></table>

%STARTINCLUDE%

---++Objectives and Scope
This is a web-based collaboration forum for Edge Services Framework design, development, and deployment. Effort is co-ordinated as an Activity within the Open Science Grid Consortium. 

---++Contact Information
	* OSG Activity Chairs: Kate Keahey (Globus/ANL) & Abhishek Singh Rana (CMS/UCSD)
	* Email list (=osg-edgeservices at opensciencegrid dot org=) 
	* Archived listserv: http://listserv.fnal.gov/archives/osg-edgeservices.html
	* Next face-to-face meetings: Nov 2005 during SC'05 at Seattle, Dec 2005 (date TBD) at FNAL.

---++Introduction
The VO specific Edge Services are necessary for the US LHC experiments in support of a baseline set of OSG services. In a [[http://osg-docdb.opensciencegrid.org/0001/000137/002/US%20LHC%20Baseline%20Services%20on%20OSG-v8.pdf][recent document]] the Edge Services are identified as an OSG Activity where ATLAS and CMS are expected to provide effort. The Edge Services are among the OSG 0.4 deliverables in late 2005. 

---++VO Specific Edge Services  

Going beyond many of the core middleware services in use, we envision a scenario in which resources will be partitioned into specific, VO-dedicated servers along side shared, open grid services used by many VOs in opportunistic fashion. A related issue is deployment of  foreign  VO-specific services on sites hosting common OSG infrastructure. This could be accomplished through scheduling of a gatekeeper-like resource via a grid job. OSG refers to such services as  dynamically deployed Edge Services. LHC experiments strongly encourage OSG to develop a framework that allows for such services.

---++ATLAS and CMS Requirements
We attempt here to bring together requirements of the framework coming initially from ATLAS and CMS.

	* [[AtlasEdge][ATLAS Requirements]]
	* [[CmsEdge][CMS Requirements]]

d56 4
---++Dynamically Deployed Edge Services

The majority of OSG clusters deploy their compute nodes on private networks. Only CE and SE straddle the public/private network boundary. It would provide a lot of flexibility to the VOs if gateway resources could be scheduled in such a way that resources like CPU, disk, port ranges, etc. are guaranteed. The Privilege project infrastructure could then be used to implement roles that enable dynamic installation and upgrade of VO specific services. Operationally this may be done initially via multi-month lease of a piece of hardware to ATLAS at a CMS site, and vice versa. In the future, such leases would be much more dynamic, and accessible via grid access services to many VOs in OSG. 

We propose formation of an Edge Services Activity  in OSG with the goal of developing an Edge Services framework based on virtual machine technology that will allow dynamic deployment of VO specific virtual machines as VO specific edge servers. Initial example services include Condor-C deployment at the site, including batch slot harvesting, as well as !FroNTier DB cache based on Squid technology. The layout of these services with those deployed in OSG are sketched in Figure 1. Future examples might include ATLAS and CMS specific data transfer agents, among others. 

Timeline for this activity should be to have an initial set of services ready for deployment with OSG 0.4 in late 2005. We believe however that preliminary milestones along the way, demonstrating feasibility and exposing difficult aspects of the approach, should be identified and pursued early on. 

At any rate, we expect both US ATLAS and US CMS will require partitioning of VO-dedicated CE and SE resources from shared, common OSG gateways until such services mature and become reliable.

---++Technology Options 

This Activity explores a deployment of an Edge Services framework. One attractive possibility for the framework is based on virtual machine technology. In combination with Condor-C, this would allow us to isolate different VOs in different virtual machines on the same physical machine. We hope to use this to provide service guarantees on shared hardware resources at the site boundaries.

---++LCG Interoperability

To address similar requirements, LCG is rapidly developing a VO-box concept. Although it is not clear at this time what would be the technological choices made by LCG, an interoperability of LCG VO-boxes and OSG Edge Services Framework will provide benefits for the LHC experiments.
	* [[http://goc.grid.sinica.edu.tw/gocwiki/VO-box_HowTo][VO box]]
   * [[http://agenda.lal.in2p3.fr/fullAgenda.php?ida=a0660][VO Box Meeting 2]
   * [[http://agenda.cern.ch/askArchive.php?base=agenda&categ=a062031&id=a062031s12t1/transparencies][Conclusions of VO Box WG]
	* [[ESFtrackPlan#Status_of_Testbeds][Status of testbeds]]
	* [[ESFtrackPlan#Calendar_of_Milestones][Calendar of milestones]]	

---++Planning and Schedule Tracking
Information about the ESF testbeds (Proposed: UC San Diego, U Chicago, Piocon, Fermilab).
<br> %X% *%RED%NOTE%ENDCOLOR%:* The Bootstrapping Testbed (UCSD) has Xen 3. After some experience, it is clear that current Xen 3 releases are not stable enough for our immediate purpose. We must go for the more stable Xen <b>%BLUE%release 2.0.7%ENDCOLOR%</b>. Please note this change if you are setting up a testbed and thinking of Xen 3. Xen 2 process is expected to be listed here soon.
	* [[UCSDtestbed1][Bootstrapping Testbed (UCSD)]] %GREEN%[Annulled. Information on its page may still be useful.]%ENDCOLOR%
	* Stable Testbed (UCSD)
	* [[FermiTestbed1][FNAL Testbed (FNAL)]]
	* Production OSG-Site Testbed (UCSD)
	* DesktopXen (UC)
   * Stable Testbed (UCSD)
   * [[FermiTestbed1][FNAL Testbed (FNAL)]]
   * Production OSG-Site ESF (DISUN site at SDSC/UCSD)
	* Alexandre Vaniachine, [[http://osg-docdb.opensciencegrid.org/cgi-bin/ShowDocument?docid=306][ESF Flyer]], ANL Booth and FNAL/SLAC Booth, Supercomputing'05 (SC|05), Seattle, WA, November 12-18, 2005. 
	* Abhishek Rana, [[http://agenda.cern.ch/askArchive.php?base=agenda&categ=a054670&id=a054670s34t8/transparencies][Edge Services Framework]], presentation at the Joint OSG and EGEE Operations Workshop, Abingdon, UK, September 27-29, 2005.
	* Frank Würthwein, [[http://osg-docdb.opensciencegrid.org/0001/000193/001/ESF-July21-2005.pdf][Edge Services]], presentation at the OSG Consortium Meeting, Milwaukee, WI, July 20-21, 2005.
	* Kate Keahey et al., [[http://osg-docdb.opensciencegrid.org/cgi-bin/ShowDocument?docid=167&version=1][Edge Services Framework for OSG]].
   * Alexandre Vaniachine, [[http://osg-docdb.opensciencegrid.org/cgi-bin/ShowDocument?docid=306][Edge Services Framework for Computational Grids]], a flyer for distribution at ANL Booth and FNAL/SLAC Booth, Supercomputing'05 (SC|05), Seattle, WA, November 12-18, 2005. 
---++Miscellaneous
	* [[learntwiki][Working with TWiki]]

---++Logos, Miscellaneous Topics and Search
   * Logo Draft - [[%ATTACHURL%/ESF-logo-mini.PNG][Small Image]] | [[%ATTACHURL%/ESF-logo-mega.png][Large Image]] | [[%ATTACHURL%/esf-logo-theme.txt][Theme]]
   * [[learntwiki][Working with TWiki]]

<table align=right bgcolor="#F3EDE7"><tr valign="top"><td></td>
<td width="150" align="left" valign="top">
<form action="%SCRIPTURLPATH%/search%SCRIPTSUFFIX%/%INTURLENCODE{"%WEB%"}%/">
<input type="text" name="search" size="18" /><br /><input type="submit" value="Search ESF" /><br /> 
<font size="-2">More in WebSearch</font>
</form>
</td></tr></table>

<table align=right><td width="25">&nbsp;</td></table>

<table align=right bgcolor="#EEEEEE"><tr valign="top"><td></td>
<td width="150" align="left" valign="top">
<form action="http://www.google.com/search" method="get">
<input type="hidden" name="sitesearch" value="osg.ivdgl.org">
<input type="hidden" name="q" value="+site:+osg.ivdgl.org/twiki/bin/view/EdgeServices">
<input type="text" name="q" size="18" /><br /><input type="submit" value="Search ESF" /><br /> 
<font size="-2">Using Google</font>
</form>
</td></tr></table>


*Major updates*:%BR%
-- Main.RobGardner - 08 Sep 2005


-- Main.AbhishekSinghRana 

%STOPINCLUDE%
