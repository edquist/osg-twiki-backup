%META:TOPICINFO{author="RobGardner" date="1127155388" format="1.0" version="1.2"}%
%META:TOPICPARENT{name="WebHome"}%
---+!!ATLAS Requirements for OSG Edge Services

%TOC%

---++ Introduction

Collect here and point to other locations where ATLAS requirements for edge services can be found.  This will come principally from the distributed data management system (DDM), the new US ATLAS production system (Panda), the ability to dynamically deploy grid-enabled conditions and geometry databases.

---++ Requirements from Distributed Database Services
	* [[http://atlas.web.cern.ch/Atlas/GROUPS/DATABASE/project/services/][Homepage]]

---+++Summary for DDS:
	1 Requirement 1
	1 Requirement 2


---++ Requirements from DDM

Follows is an initial list of edge services (or VO services) exepcted from Miguel, 6/21/2005. See
also the links

	* https://uimon.cern.ch/twiki//bin/view/Atlas/DDM

<pre>
-> These are preliminary requirements for discussion within our  group!! <-

VO site services:

- VO-specific services from LCG: gLite FTS, LRC with POOL FC  interface [Expect to use LFC]
- Messaging system: TBD - common with other experiments [Jabber ?  We've used it successfully in the past]
- Experiment-specific S/W versions are not defined yet: ATLAS will  provide them later to SC3
- ATLAS requires set of experiment agents/services/daemons running at  each site
- These agents require inbound and outbound connectivity; Restricted  ports ok; No data transfer in these services; Designed to be “TCP  traced”: XML or "plain-text" messages. Minimal traffic
- Being designed to be easily deployed: a tarball plus "source"  script; (currently they run as cron jobs under a user account on a  gateway machine); BUT require a persistent area (a database for our  local catalogs *besides* the LRC) which can be:
	- directory on machine for config files
	- MySQL server? SQLite on local file system?
	- [We can profit from our MySQL deployment mechanism by Sasha  that can run as a "job"]
- Machine must have similar base software/operating system as an LCG  UI or LCG WN. Current WNs are insufficient due to connectivity  restrictions
- Must securely delegate credentials to the VO box (e.g. have MyProxy  service available?)
- Experiment should control deployment (e.g. “special job” that stays  running indefinitely; SSH/GSI login?)
- Experiment requires that ALL sites provide the same installation  model for deploying the agents
- Disk space requirements: few megabytes for experiment s/w + AA s/w  (POOL) (around 20 GB also for logging information)
- No requirement to access s/w installation area at the site from VO- box (VO-box can be “independent” from the cluster setup as long as it  is at the site with in/outbound connectivity)
- Services/agents running on box can start simple socket server: e.g.  python HTTP Server
- WNs at site can access these services (e.g. there is a published  environment variable at the WN with the hostname of the VO-box; also  it can be published in the information system)
- Services running centrally on ATLAS machines access these services  on the VO-box as well
- Purpose of services: management of datasets, data management- specific bookkeeping; Avoids outbound connectivity requirements for  WNs on DDM; greatly improves flexibility for the experiment to design  a Production infrastructure; Jobs running local have all required  information available at the site
</pre>


---+++Summary for DDM:
	1 Requirement 1
	1 Requirement 2

---++ Requirements from Panda
	* [[https://uimon.cern.ch/twiki/bin/view/Atlas/Panda][Panda twiki home]]
	* [[http://lists.bnl.gov/pipermail/usatlas-prodsys-l/][Archive]]

---+++Summary for Panda:
	1 Requirement 1
	1 Requirement 2


---++ Links from the LCG VO Box activity

	* [[https://edms.cern.ch/document/639856/][LCG/EGEE Document on "Ad Hoc Services..."]]
	* [[http://agenda.cern.ch/fullAgenda.php?ida=a054503][Discussion at LCG Authorization Workshop]]
	* Initial [[https://uimon.cern.ch/twiki/bin/view/Atlas/DDMSc3][ATLAS requirements for LCG Service Challenge 3]] and more specifically, [[https://uimon.cern.ch/twiki/bin/view/Atlas/DDMSc3#DDM_requirements_for_VO_site_box][here]]. These have evolved a bit, and could be updated. 


---++ Other sources: Prodsys generally and distributed analysis
	* [[https://uimon.cern.ch/twiki/bin/view/Atlas/ProdSys][Prodsys meetings]]
	* From David Adams:
<pre>
We may want to install ATLAS-specific services to handle "interactive" analysis jobs. 
Even if external users or agents don't directly interact with running jobs on the worker nodes, 
the need to have a high submission rate and low latency may drive us to run a service that can 
submit directly to the local batch system.</pre>


-- Main.RobGardner - 09 Sep 2005

