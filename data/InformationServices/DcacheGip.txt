%META:TOPICINFO{author="BrianBockelman" date="1203564348" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="WebHome"}%
---+ dCache Information Provider

The OSG's dCache Information Provider auto-discovers all the storage-element related information for your dCache install.  Currently, it does not integrate directly with the =configure_gip= script (we're working hard on this, we promise!), so a bit of hand-configuration is required.

The information provider requires access to:
   * The dCache admin interface and
   * The SRM postgres database.

---++ Extra dependency installation

In order to access the SRM postgres database, you must additionally install the python-psycopg2 RPM on your system.

---++ Configuration

As passwords may be required, the GIP configuration for dCache is kept in a separate file, =$VDT_LOCATION/lcg/etc/gip.conf=.  You need to edit the following fields to reflect your site's setup:
   * dCache admin interface (section: [dcache_admin]):
      * hostname= _your dCache admin interface hostname_
      * port= _most likely 22223_
      * password= _your site's password_  If you do put the password in this file, make sure it is not world- or group- readable!
      * username= _most likely admin_
   * SRM database (section: [dcache_config])
      * database= _Postgres DB name; most likely dcache_
      * dbuser= _Postgres DB user; srmdcache_
      * dbpasswd= _defaults is dcache_
      * pghost= _Hostname of your postgres server_
      * pgport= _Your postgres port, 5432_

---++ Testing

The GIP providers are fairly straightforward to test.  Make sure that $VDT_LOCATION is set in your environment and run the following:

<verbatim>
$VDT_LOCATION/lcg/libexec/services_info_provider.py
$VDT_LOCATION/lcg/libexec/token_info_provider.py
</verbatim>

Examine the output of the above scripts for correctness; they will fail fairly visibly if you have an incorrect configuration (90% of the problems are an incorrect dCache admin interface login parameters).  In fact, because they can generate so much output, it's often to redirect the stdout and just look at the stderr (add =1> /dev/null= to the end of the command line) for problems.

-- Main.BrianBockelman - 21 Feb 2008
