%META:TOPICINFO{author="KyleGross" date="1225985939" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="GipSiteAdmin"}%


---+ gip.conf

The =gip.conf= is the expert's means to adjust GIP parameters.  As development on the GIP progresses, we'll continue to expose more functionality in this file.  The file is assumed to be located in =$GIP_LOCATION/etc/gip.conf=.  A sample template is available in =$GIP_LOCATION/etc/gip.conf.template=.

---++ File Format

The =gip.conf= is in the python conf file format, also known as the Windows INI format.  It is divided up into sections, and each section has key=value pairs.  A "#" denotes the beginning of a comment.  An example of a section in =gip.conf= is given below:

<verbatim>
[ce]
job_manager = pbs
name = red.unl.edu
host_name = %(name)s
hosting_cluster = %(name)s
unique_name = %(name)s
use_gt4 = True
gt4_endpoint = https://%(unique_name)s:9443
gt4_timeout = 15
</verbatim>

---++ Overrides

=gip.conf= is designed to be an experts-only file.  Internally, the GIP populates any missing data with data from =$VDT_LOCATION/monitoring/osg-attributes.conf= and =$VDT_LOCATION/monitoring/gip-attributes.conf=.

For example, look at the example in the previos section.  The =job_manager= and =name= attributes were already filled out during the configure-osg.sh process; if these entries were not given in =gip.conf=, then the values from =osg-attributes.conf= will be used.

In fact, the priority of the files can be adjusted.  In order to have =gip.conf= override values in =*-attributes.conf=, simply set *override=True* in the *gip* section.  In order for =*-attributes.conf= to take precedence, set *override=False*.  An example of the contents of the *gip* section is given:

<verbatim>
[gip]
override = False
</verbatim>

---++ Configuration options

We now cover some of the most common options for this file.  Sample values are given where appropriate.

Each section name below corresponds to a section in the =gip.conf=.  Each list item corresponds to a key-value pair in that section.  Please note that section and key names are case-sensitive.

---+++ site

   * All attributes in this section are overridden by osg-attributes.conf.

---+++ pbs

Only for sites using the PBS jobmanager.  This allows one to specify exactly how queues are advertised for the GIP; this is an essential control needed for EGEE compatibility.

   * =pbs_path= - The value of $PBS_PATH for the PBS install
   * =&lt;queuename&gt;_blacklist= - Comma separated list of VirtualOrganizations/VOInfo names to exclude from queue <queuename>; * to exclude all.
      * To generate a list of supported VOs for a queue, first the queue's blacklist is generated, then the whitelist is applied.  This way, even if the blacklist is *, some VirtualOrganizations/VOInfo might be allowed in it.
   * =&lt;queuename&gt;_whitelist= - Comma separated list of VirtualOrganizations/VOInfo names which are always allowed in this queue.
   * =queue_exclude= - Local-user only queues which should not be advertised to the grid.

---+++ condor

This section is not currently used; it will be used in a future release of the GIP.

---+++ gip

   * =override= - Set to true if the values in gip.conf should override the values in osg-attributes.conf and gip-attributes.conf

---+++ subcluster_X
This section is non-functional; configure subclusters through configure-osg.sh


---+++ vo
Variables about VirtualOrganizations/VOInfo support

   * =vo_blacklist= - VOs which this site does not support
      * set to "*" to blacklist all VOs.
   * =vo_whitelist= - VOs which this site does support in the case the vo_blacklist is set to *.
   * =storage_vos= - Comma-separated list of VOs the SE supports.  If autodetect_storage_vos is true, then the SE VOs are the same as the CE VOs.
   * =autodetect_storage_vos= - Set to True if the SE VOs and CE VOs are the same.  Set to False to use only storage_vos

---+++ cesebind
Variables for determining the relationship between a CE and a SE.

   * =simple= - Set to True for a standard OSG deploy; the CE and SE relationship will be auto-determined.
   * =se_list= - If =simple= is False, then this should be set to a python list of SE names which this CE is close to; this allows a site to advertise a relationship with a SE *without* that SE's information being generated by the local GIP.  This will let sites split up the GIP advertising onto multiple nodes.  Full support for this is slated for OSG 1.2.

---+++ se
Variables pertaining to the SE.

   * =advertise_se= - Set to True to advertise an SE with this GIP instance.
   * =name= - The name of the storage element
      * This value is pulled from =gip-attributes.conf=
   * =unique_name= - The unique name of the storage element, traditionally set to the SE head node's hostname.  Must be a unique value.
      * This value is pulled from =gip-attributes.conf=

---+++ bdii
BDII contact information

   * =endpoint= - The endpoint of the BDII where this data will be advertised.  This defaults to =ldap://is.grid.iu.edu:2170=, and most sites will not need to alter it.

-- Main.BrianBockelman - 23 Apr 2008