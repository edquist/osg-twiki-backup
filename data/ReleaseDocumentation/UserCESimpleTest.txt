%META:TOPICINFO{author="RobertEngel" date="1276567995" format="1.1" reprev="1.12" version="1.12"}%
%META:TOPICPARENT{name="Documentation.UsingTheGrid"}%
---+!! *Basic Usage of the OSG*
%DOC_STATUS_TABLE%
%TOC{depth="3"}%

---++ About this Document

%ICON{hand}% This document is for OSG users. Simple tests will be introduced which may help to test the correct _authentication_ with and _operation_ of grid resources. The document also provides a _step-by-step guide_ to determine the approximate cause of an error and recommendations on how to fix it.

---++ Introduction

Using a grid resource involves a series of steps that differ slightly from the steps taken on a traditional Unix resource. The following section introduces and demonstrates each step required to run a simple grid job submission scenario. By understanding the _inner-workings_ of these simple tests you will prepare yourself to _understand_, _operate_ and _debug_ more complex grid scenarios. The series of tests are:

   1 *Authentication Test*: create and verify your grid proxy used to authenticate yourself with a grid resource
   1 *Mapping Test*: verify that your Distinguished Name will be mapped to a login on the grid resource
   1 *Data Transfer Test*: copy data to and from a grid resource
   1 *Job Submission Test*: execute a program on a grid resource

%NOTE% The *Data Transfer Test* and the *Job Submission Test* depend on the successful completion of the *Mapping Test*. Both tests are independent of each other for the purpose of this document and require access to a _Compute Element_, which is the terminology used in the OSG to describe a grid resource that can run jobs. The *Mapping Test* requires the *Authentication Test* to succeed.

---++ Requirements

   1 access to a resource that has [[ReleaseDocumentation/ClientInstallationGuide][Globus client tools]] installed:
      * =grid-proxy-info=
      * =grid-proxy-init=
      * =globus-url-copy=
      * =globusrun=
      * =globus-job-run=
      * =globusrun-ws=
   1 a [[ReleaseDocumentation/CertificateWhatIs][grid user certificate]] installed on the same resource in =$HOME/.globus=

---++ Choose a Test Resource

%ICON{hand}% Consider using [[Documentation.FindAvailableResource][this guide]] for choosing an OSG grid resource to run the second and third test from the list above. Make sure to know what your membership VO is and that the grid resource you choose supports this VO! 
The document below demonstrates the tests using =osg-ce.ligo.caltech.edu= as an example. 

%INCLUDE{"ReleaseDocumentation/CESimpleTest"}%

---++ Conclusion
This page taught you very simple tools:
   * =grid-proxy-init=: Creates a short-lived credential which can be used to run jobs.
   * =globus-job-run=: Runs a single execution of a command on the remote host (or its batch system).
   * =globus-url-copy=: Copies a single file from your host to the CE, or vice-versa.
If you wanted to run 100,000 jobs, it would be incredibly tedious to build your applications around these tools.  Instead you want a higher-level tool focused on job-management.

Do not use these tools on a large scale, as these will cause the remote site to crash and possible get your account banned - [[Documentation/CondorSubmittingSingleJob][Condor-G]] will work much better.

Regardless of what job management you are using, we feel understanding the basic building blocks of the grid is essential for debugging when things go wrong.

---++ *Comments*
%COMMENT{type="tableappend"}%

<!-- CONTENT MANAGEMENT PROJECT
############################################################################################################
 DEAR DOCUMENT OWNER
 ===================

 Thank you for claiming ownership for this document! Please fill in your FirstLast name here:
   * Local OWNER = RobertEngel

 Please define the document area, choose one of the defined areas from the next line
 DOC_AREA = (ComputeElement|Storage|VO|Security|User|Monitoring|General|Integration|Operations|Tier3)
   * Local DOC_AREA       = User

 define the primary role the document serves, choose one of the defined roles from the next line
 DOC_ROLE = (EndUser|Student|Developer|SysAdmin|VOManager)
   * Local DOC_ROLE       = EndUser

 Please define the document type, choose one of the defined types from the next line
 DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge)
   * Local DOC_TYPE       = Installation
  Please define if this document in general needs to be reviewed before release ( %YES% | %NO% )
   * Local INCLUDE_REVIEW = %YES%

 Please define if this document in general needs to be tested before release ( %YES% | %NO% )
   * Local INCLUDE_TEST   = %YES%

 change to %YES% once the document is ready to be reviewed and back to %NO% if that is not the case
   * Local REVIEW_READY   = %YES%

 change to %YES% once the document is ready to be tested and back to %NO% if that is not the case
   * Local TEST_READY     = %YES%

 change to %YES% only if the document has passed the review and the test (if applicable) and is ready for release
   * Local RELEASE_READY  = %NO%


 DEAR DOCUMENT REVIEWER
 ======================

 Thank for reviewing this document! Please fill in your FirstLast name here:
   * Local REVIEWER       = BrianBockelman
 Please define the review status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local REVIEW_PASSED  = %IN_PROGRESS%


 DEAR DOCUMENT TESTER
 ====================

 Thank for testing this document! Please fill in your FirstLast name here:
   * Local TESTER         = DerekWeitzel
 Please define the test status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local TEST_PASSED    = %YES%
############################################################################################################
-->
