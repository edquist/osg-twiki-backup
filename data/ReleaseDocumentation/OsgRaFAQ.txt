%META:TOPICINFO{author="DougOlson" date="1203445244" format="1.1" version="1.5"}%
%META:TOPICPARENT{name="OsgRaInstructions"}%
---+ Frequently Asked Questions about Certificates
%TOC%

---++ Web Browser Questions
---+++ Import DOEGrids CA and ESnet Root CA into web browser
It is usually necessary to import the ESnet Root CA and DOEGrids CA certificates into your
web browser in order for your personal certificate to work.
   1. Point your web browser to https://pki1.doegrids.org/ca/
   2. Click the Retrieval tab
   3. Click Import CA Certificate Chain
   4. Select  Import the CA certificate chain into your browser and click Submit<br>In any popup windows check any boxes to trust the certificate.
---+++ I have ESnet & DOEGrids CA certs in my browser but still have problems
Check the certificate store in your browser for the Authorities. Under ESnet
if you find a certificate for DOEGrids CA 1 with a validity date that ends on Jan. 10, 2008 then
delete that certificate. It was replaced in 2006 with a DOEGrids CA 1 that expires on Jan. 25, 2013.
---+++ Safari
---++++ How do I import my certificate into Safari?
Certificate should be in the form of a PKCS12 file (.p12 extension).<br>
A1: in a terminal window type "open _certificatate.p12_ "<br>
A2: double click on _certificate.p12_ file<br>
This will start Keychain Access to import your certificate.

---++ Grid Admin issues
---+++ SSL Server flag is not set in Netscape Cert Type extension
A bug in the CA (being worked on) does not set the SSL Server flag of the
NS Cert Type extension when using the cert-gridadmin script *unless*
the SSL Server flag is set in the personal certificate you use to authenticate
the gridadmin request.

*Work around*
<pre class="screen">
 - cd to an empty directory (it helps)
 - execute cert-gridadmin with <b>-dryrun -noclean</b>  flags
    this generates two files ...req.pem and ...key.pem
 - post the contents of the ...req.pem file into the gridadmin web form
          ( https://pki1.doegrids.org/ca/  click on GridAdmin Interface)
 - view the generated certificate and copy the text from
  ---------BEGIN CERTIFICATE--------- to
  ---------END CERTIFICATE----------
  to a file ...cert.pem.
  Now ...cert.pem and ...key.pem are the certificate and private key.
  Note that if you use the -prefix option of cert-gridadmin you
   get to specify what ... is.
</pre>



-- Main.DougOlson - 30 Oct 2006