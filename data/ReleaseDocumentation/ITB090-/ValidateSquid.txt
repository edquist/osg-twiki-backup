%META:TOPICINFO{author="SuchandraThapa" date="1212088902" format="1.1" reprev="1.14" version="1.14"}%
%META:TOPICPARENT{name="SiteValidationTable"}%
---+!! *<nop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%

%STARTINCLUDE%
%BR%
---+ _%INCLUDEHEADING%  %SPACEOUT{ "%TOPIC%" }%_
%EDITTHIS%
%BR%

Prerequisite: Make sure squid is installed and the =OSG_SQUID_LOCATION= attribute is set in the osg-attributes.conf file. Otherwise 
run configure-osg.py to update the osg-attributes.conf file with the =OSG_SQUID_LOCATION= attribute.

To make sure the server is working:
   * Set =http_proxy= environment variable to =proxyhost:3128= (where proxyhost is the name of your squid server) and export it
   * Use wget with debugging to get a cachable web url, for example
      <pre>wget -d -O/dev/null http://www.fnal.gov</pre>
   * The first time you run it you should see not far from the end of the output a line beginning "X-Cache: MISS"
   * Run the same command again and you should instead see a line beginning "X-Cache: HIT"

To verify that it is working properly from a worker node:
   * run a grid job on the worker node (such as with globus-job-run or condor_submit) with the following commands in it:
      * =uname -a=
      * =export http_proxy=$OSG_SQUID_LOCATION:3128=
      * the above wget command twice
   * Verify that the job ran on a worker node and that "X-Cache: HIT" is present in the output from the second wget

%STOPINCLUDE%
%BR%
%COMPLETE3% %BR%
%RESPONSIBLE% Main.HorstSeverini - 18 Oct 2007 %BR%
%REVIEW% Main.HorstSeverini - 20 Nov 2007

%META:TOPICMOVED{by="AnneHeavey" date="1192748639" from="Integration/ITB_0_7.ValSquid" to="Integration/ITB_0_7.ValidateSquid"}%
