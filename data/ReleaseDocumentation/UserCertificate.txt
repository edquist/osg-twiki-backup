%META:TOPICINFO{author="JamesBarlow" date="1288372486" format="1.1" version="1.31"}%
---+!! *<nop>%SPACEOUT{ "%TOPIC%" }%*
%TOC%

%DOC_STATUS_TABLE%


The OSG generally accepts X509 certificates issued by Certification Authorities accredited by the [[http://www.igtf.net/][IGTF]] from many different locations around the world.  Most people working with OSG may obtain certificates from the DOEGrids CA and these instructions apply only to DOEGrids.  For information on others, contact your [[http://myosg.grid.iu.edu/vosummary?datasource=summary&all_vos=on&active_value=1][VO's Support Center]]. 
Certificates and their uses, particularly user certificates (also called personal certificates) are described in [[ReleaseDocumentation.CertificateWhatIs][CertificateWhatIs]].  

---++ Obtaining a personal Certificate
There are a set of scripts distributed in VDT which provide the most convenient
method of obtaining a certificate but one can also use a web browser to request and download certificates.  The web browser is convenient for web and email uses while the scripts are most convenient for shell command grid activities. 
This is described in [[ReleaseDocumentation.CertificateGet][How do I get a DOEGrids Digital PKI/X509 Personal Certificate?]].

---++ Update the VOMS information (e.g., after renewing): 
You will need to check with your [[http://www.opensciencegrid.org/Support_Centers][VO support]] for what you may need to do to
update your certificate information in your VO's VOMS server.

An example command which shows some common useful information about a certificate is:

<pre class="screen">
> <userinput>openssl x509 -in ~/.globus/usercert.pem -subject -serial -dates -issuser -noout</userinput>
</pre>

---++ Test your credentials:

In the simplest case:
<pre class="screen">
> <userinput>source $VDT_LOCATION/setup.sh</userinput>
> <userinput>grid-proxy-init</userinput>
> <userinput>grid-proxy-info</userinput>
</pre>

To test with voms-proxy-init you will need instructions from your VO about the correct environment setup.


---++ Troubleshooting

If the above doesn't work, check that the "gatekeeper" (the Grid component that accepts and executes remote jobs) can correctly authenticate you:

%NOTE% This example was run against the Fermilab site. Customize it for your VO and site.

<pre class="screen">
> <userinput>globusrun -a -r <replaceable>fermigrid2.fnal.gov</replaceable>/jobmanager-fork</userinput>
GRAM Authentication test successful
> 
</pre>

---++ Renewing or Revoking a Personal Certificate
Information about replacing your certificate before it expires, and about revoking your certificate
if/when your private key is lost or compromised is described at
[[ReleaseDocumentation/CertificateGet][How do I get a DOEGrids PKI/X509 Personal Certificate?]].


<!-- CONTENT MANAGEMENT PROJECT

   DEAR DOCUMENT OWNER
   ===================

   Thank you for claiming ownership for this document! Please fill in your FirstLast name here:
   * Local OWNER          = JamesBarlow

   Please define the document area, choose one of the defined areas from the next line
   DOC_AREA = (ComputeElement|Storage|VO|Security|User|Monitoring|General|Integration|Operations|Tier3)
   * Local DOC_AREA       = Security

   define the primary role the document serves, choose one of the defined roles from the next line
   DOC_ROLE = (Scientist|Student|Developer|SysAdmin|VOManager)
   * Local DOC_ROLE       = Scientist

   Please define the document type, choose one of the defined types from the next line
   DOC_TYPE = (Troubleshooting|Training|Installation|HowTo|Planning|Navigation|Knowledge)
   * Local DOC_TYPE       = HowTo
   
   Please define if this document in general needs to be reviewed before release ( %YES% | %NO% )
   * Local INCLUDE_REVIEW = %YES%

   Please define if this document in general needs to be tested before release ( %YES% | %NO% )
   * Local INCLUDE_TEST   = %YES%

   change to %YES% once the document is ready to be reviewed and back to %NO% if that is not the case
   * Local REVIEW_READY   = %YES%

   change to %YES% once the document is ready to be tested and back to %NO% if that is not the case
   * Local TEST_READY     = %YES%

   change to %YES% only if the document has passed the review and the test (if applicable) and is ready for release
   * Local RELEASE_READY  = %NO%


   DEAR DOCUMENT REVIEWER
   ======================

   Thank for reviewing this document! Please fill in your FirstLast name here:
   * Local REVIEWER       = AnandPadmanabhan
  
   Please define the review status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local REVIEW_PASSED  = %IN_PROGRESS%


   DEAR DOCUMENT TESTER
   ====================

   Thank for testing this document! Please fill in your FirstLast name here:
   * Local TESTER         = MineAltunay
  
   Please define the test status for this document to be in progress ( %IN_PROGRESS% ), failed ( %NO% ) or passed ( %YES% )
   * Local TEST_PASSED    = %IN_PROGRESS%
 
-->
