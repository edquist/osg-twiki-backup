%META:TOPICINFO{author="JeffPorter" date="1169596748" format="1.1" version="1.1"}%
%META:TOPICPARENT{name="DocumentationTable"}%
<!-- This is the default OSG Integration template. 
Please modify it in the sections indicated to create your topic!
If you have any comments/complaints about this template, then please email me:
rwg@hep.uchicago.edu.  (Adapted from Atlas wiki template, Ed Moyse)
--> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->
d24 1
---+!!<nop>Site Activatoin
%TOC%
%STARTINCLUDE%

---++ Activate Your Site
%EDITTHIS%

The <nop>Integration.GridCat system maintains status and other information on all OSG sites as can be viewed 
<a href="http://osg-cat.grid.iu.edu/">here</a>. 

Sites added to <nop>Integration.GridCat are presumed to be inactive if a site state bit is not set to be 1 (see below).
<UL>
<LI><b>Inactive</b> sites will have the site status dot with the grey color. 
<LI> Once the site becomes <b>active</b>, the site status dot will become either green or red, depending on the 
<a href="http://osg-cat.grid.iu.edu/">Integration.GridCat test results </a>.
</UL>

Since the default site state is presumed to be inactive, the CE site administrator  has to pro-actively switch the site state to be active.

For OSG 0.5.0 and prior releases, modify the file <i>$VDT_LOCATION/MIS-CI/etc/grid-site-state-info</i>. and set the value to 1 for the variable below:

<pre>
  export grid_site_state_bit =  1
</pre>
For OSG 0.5.1+, the MIS-CI services are deprecated with this release.  The new file for maintaining the site state information is <i>$VDT_LOCATION/monitoring/grid-site-state-info</i>.  The deprecated <i>$VDT_LOCATION/<b>MIS-CI</b>/etc/grid-site-state-info</i> will be symlinked to the new file in the <i>./monitoring</i> directory.  This new file will only contain the single variable:
For OSG 0.5.1+, the MIS-CI services are deprecated with this release.  The new file for maintaining the site state information is =$VDT_LOCATION/monitoring/grid-site-state-info=.  The deprecated =$VDT_LOCATION/<b>MIS-CI</b>/etc/grid-site-state-info= will be symlinked to the new file in the =./monitoring= directory.  This new file will only contain the single variable:
<pre>
  export grid_site_state_bit =  1
To activate/deactivate your site, a <i>site-status</i> script has been provided.
<pre>
<pre class="screen">
&gt;  $VDT_LOCATION/monitoring/site-status  on|off
where
   [on]      Set site to accept jobs
   [off]     Set site as offline
&gt;  $VDT_LOCATION/monitoring/site-status  <replaceable>on|off</replaceable>
</pre>
| =off= | Set site as offline |
<b>NOTE: It might take up to 2 hours for registered sites to take effect in the !Integration.GridCat display. If your site is not registered with the OSG-GOC see the instructions in the 
<a href="#OSG_Registration">OSG Registration section</a> of this document. Until your site is registered, it will not appear in 
<a href="http://osg-cat.grid.iu.edu/">Integration.GridCat</a></b>


If your site decides to become inactive for various reasons, e.g., site maintenance, the site administrator should execute the <i>site-status</i> script. 

%STOPINCLUDE%
%WHU%
-- Main.JeffPorter - 23 Jan 2007
-- Main.ForrestChristian - 30 Jan 2007 (copyedit)   %BR%