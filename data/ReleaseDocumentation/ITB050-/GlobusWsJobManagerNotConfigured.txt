%META:TOPICINFO{author="ForrestChristian" date="1172188500" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="InstallAndConfigureGlobusWebServices"}%
%LINKCSS%

---+!! Job Manager (Condor) not configured for web services

%STARTINCLUDE%
%EDITTHIS%

Job executed:

<pre class="screen">
> <b>globusrun-ws -submit -F quux.fnal.gov:9443 -Ft Condor -c /bin/date</b>
   <em>...output....</em>
Submitting job...Failed.
globusrun-ws: globus_i_submit.c:731:
Error submitting job
ManagedJobFactoryService_client.c:5881:
SOAP Fault
Fault code: soapenv:Server.userException
Fault string: java.rmi.RemoteException: Job creation failed.; nested exception is: 
        org.globus.wsrf.NoSuchResourceException
Fault detail:

   <em>...blah...blah...blah</em>

at  org.globus.exec.service.factory.ManagedJobFactoryService.createManagedJob(Managed
JobFactoryService.java:171)
   <em>... 23 more</em>
</pre>

---++ Resolution: Install Right VDT PacMan Cache
Install the VDT pacman cache for the appropriate web services version of the job manager. For VDT 1.3.11:
   * [[http://vdt.cs.wisc.edu/vdt_1311_cache/Globus-WS-Condor-Setup.pacman][Condor]]
   * [[http://vdt.cs.wisc.edu/vdt_1311_cache/Globus-WS-LSF-Setup.pacman][LSF]]
   * [[http://vdt.cs.wisc.edu/vdt_1311_cache/Globus-WS-PBS-Setup.pacman][PBS]]

---++ Installation notes

Stop everything (not sure if really necesary, but done just to be safe):
<pre class="screen">
> <b>/etc/init.d/gris stop</b>
> <b>/etc/init.d/condor stop</b>
> <b>/etc/init.d/globus-ws stop</b>
> <b>/etc/init.d/mysql stop</b>
> <b>/etc/init.d/MLD stop</b>
> <b>/etc/init.d/edg-crl-upgraded stop</b>
</pre>


Install the VFT pacman cache. Make sure to change the pacman line to reflect the appropriate web services version of the job manager.
<pre class="screen">
> <b>source VDT_LOCATION/setup.sh</b>
> <b>pacman -get http://vdt.cs.wisc.edu/vdt_1310_cache:Globus-WS-<em>[CACHE]</em></b>
</pre>

Restart everything (don't think there is anything more to do than the install)
<pre class="screen">
> <b>/etc/init.d/edg-crl-upgraded start</b>
> <b>/etc/init.d/MLD start</b>
> <b>/etc/init.d/mysql start</b>
> <b>/etc/init.d/globus-ws start</b>
> <b>/etc/init.d/condor start</b>
> <b>/etc/init.d/gris start</b>
</pre>

%NOTE% MySQL must start first or the container will hang.

%STOPINCLUDE%


%WHU%

---++!! Major Updates
-- Main.JohnWeigand %BR%
-- Main.ForrestChristian - 05 Feb 2007 %BR%