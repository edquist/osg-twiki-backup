%META:TOPICINFO{author="TedHesselroth" date="1247077889" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="OpportunisticStorage"}%
---+!! *<noop>%SPACEOUT{ "%TOPIC%" }%*

---+++++ Purpose

The use of storage in the OSG by the [[http://www.scec.org][Southern California Earthquake Center]] is another step towards fully-automated open storage. Besides actually providing storage and compute resources to SCEC, the goal of this project is to exercise some of the new supporting infrastructure for opportunistic storage, namely, the discovery tools. As such, some managed coordination is needed for the initial production.

---+++++ The Use Case

The SCEC use case is summarized by

   * 1 Terabyte of data
   * 700,000 files
   * Uploaded to SE once, then read by jobs
   * Data is read in job context by posix IO
      * Size per read:
      * Read proximities (i.e., are subsequent reads "near" each other such that caching will be effective):

The files are in 20 tarred packages. Data placement is done by uploading a tar file to the SE, then unpacking it into the SE by a job running on the computing element. Then consensus from experts is that 700,000 files will not present a problem to Storage Elements, though it is estimated that in a Hadoop installation it will result in an additional memory consumption of 700 MB in the Namenode. We also conclude that dCache would not reliably support posix IO without significant changes to the SCEC codebase; therefore we will not pursue participation by dCache sites for this project.

---+++++ Initial Participating Sites

These sites have agreed to support SCEC

   * Purdue
   * Caltech
   * University of Oklahoma
   * University of Nebraska at Omaha
   * University of Florida (tentative)

The plan is for Purdue to host the proof-of-concept tests and early production, then expansion to production on all the above sites, followed by expansion to other sites in the OSG. The VO to be used is initially the "engage" VO, though at a later point that may be changed to a "scec" VO. The following table shows the status of the project per-site. The table will be maintained by Ted Hesselroth, but site administrators may edit it themselves if they wish.


---++ Key

| *Symbol* | *Meaning* |
| %ICON{led-box-yellow}%  | Partial |
| %ICON{led-box-green}% | Complete |
| %ICON{led-box-red}% | Issue |
| %ICON{led-box-gray}% | Note |

---++ Workflow Checklist

%TABLE{ headerbg="#eeeeee" headercolor="#000000" databg="#ffffff" tableborder="1" columnwidths="120," cellpadding="2" cellspacing="1" dataalign="left" valign="top" sort="off"}%


| *Site*  | *Participation Confirmed* | *SE authz* | *CE authz* | *VO Path* | *SE Mount* | *Available Space* | *Space Token* | *BDII Check* | *First Upload* | *First CE/SE Test* | *Full Upload* | *Full CE/SE Test* | *Site Production*  | *Grid Production* | *VO change* | *Closure* |
| [[http://tiny.cc/5zqNy][Purdue]] | <p>%ICON{led-box-green}% </p> | | | | | | | | | | | | | | | |
| [[http://tiny.cc/W1A6i][Caltech]] | <p>%ICON{led-box-green}% </p> | | | | | | | | | | | | | | | |
| [[http://tiny.cc/Yzglz][U of Oklahoma]] | <p>%ICON{led-box-green}% </p> | | | | | | | | | | | | | | | |
| [[http://tiny.cc/E7s5m][U of Nebraska-Omaha]] | <p>%ICON{led-box-green}% </p> | <p>%ICON{led-box-green}% </p>  | <p>%ICON{led-box-green}% </p> | | | | | | | | | | | | | |
| [[http://tiny.cc/hgqaq][U of Florida]] | <p>%ICON{led-box-yellow}% </p> | | | | | | | | | | | | | | | |

---+++++ Notes on Table

   * SE Authz is authorization on the Storage Element for the "engage" VO, by the means provided by the site's particular SRM implementation.
   * CE Authz is authorization on the Storage Element for the "engage" VO.
   * The columns for VO Path, SE Mount, Available Space and Space Token refer to entries in the OSG BDII, specific to the "engage" VO.
   * BDII check will be done by Ted Hesselroth with the OSG Storage Discovery Tool. The tool will then be used in the steps leading up to production.
   * First Upload and First CE Test refer to the proof-of-concept test using a single SCEC tarfile.
   * Full Upload and Full CE Test refer to realistic jobs using all SCEC tarfiles.
   * Site Production is an optional intermediate step of production by direct submission to the site
   * Grid Production is production by jobs submitted to the OSG Resource Selection Service, to be run on any of the sites which host SCEC data.
   * VO Change is support of a potential "scec" VO, rather than "engage".
   * Closure means that no additional steps are needed by the site. A link to a site's summary or feedback on the project may be placed here.



-- Main.TedHesselroth - 08 Jul 2009