%META:TOPICINFO{author="TedHesselroth" date="1210353683" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="OpportunisticStorageUse"}%
<verbatim>
#
#$ld: PoolManager.conf,v 1.3 2007/04/07 02:19:58 timur Exp $
#
# Setup of PoolManager (diskCacheV111.poolManager.PoolManagerV5)
#
set pool decision  -spacecostfactor=1.0 -cpucostfactor=1.0
#
#
# The units ...
#
psu create unit -net    0.0.0.0/255.255.255.255
psu create unit -net    0.0.0.0/0.0.0.0
psu create unit -store  *@*
psu create unit -protocol */*
#
# The unit Groups ...
#
psu create ugroup any-store
psu addto ugroup any-store *@*
psu create ugroup world-net
psu addto ugroup world-net 0.0.0.0/0.0.0.0
psu create ugroup any-protocol
psu addto  ugroup any-protocol */*
#
# The pools ...
#
#psu create pool resilient_1
#psu create pool resilient_2
#psu create pool reserved_1
#psu create pool reserved_2
psu create pool poolnode1_1
psu create pool poolnode1_2
psu create pool poolnode2_1
psu create pool poolnode2_2
psu create pool poolnode3_2
psu create pool poolnode3_2
#
# The pool groups ...
#
psu create pgroup ResilientPools
#psu addto  pgroup ResilientPools resilient_1
#psu addto  pgroup ResilientPools resilient_2
psu create pgroup default
psu create pgroup reserved
#psu addto  pgroup reserved reserved_1
#psu addto  pgroup reserved reserved_2
psu create pgroup public
psu addto  pgroup public poolnode1_1
psu addto  pgroup public poolnode1_2
psu addto  pgroup public poolnode2_1
psu addto  pgroup public poolnode2_2
psu addto  pgroup public poolnode3_1
psu addto  pgroup public poolnode4_2
#
# The links ...
#
# default - will not be linkGrouped
psu create link default-link any-store world-net any-protocol
psu set link default-link -readpref=10 -writepref=10 -cachepref=10 -p2ppref=-1
psu add link default-link default
# resilient - will not be linkGrouped
psu create link resilient-link any-store world-net any-protocol
psu set link resilient-link -readpref=10 -writepref=10 -cachepref=10 -p2ppref=-1
psu add link resilient-link ResilientPools
# reserved - will be linkGrouped as non-opportunistic storage area
psu create link reserved-link any-store world-net any-protocol
psu set link reserved-link -readpref=10 -writepref=10 -cachepref=10 -p2ppref=-1
psu add link reserved-link reserved
# public - will be linkGrouped as opportunistic storage area
psu create link public-link any-store world-net any-protocol
psu set link public-link -readpref=10 -writepref=10 -cachepref=10 -p2ppref=-1
psu add link public-link public
#
#
# The link groups ...
#
# to define a link group capable of storing 
# custodial type of files HSM attribute should be Non-None
# HSM setting allows writing of custodial files to this area
# like in this example:
psu create linkGroup reserved-link-group
psu addto linkGroup reserved-link-group reserved-link
psu set linkGroup custodialAllowed reserved-link-group true
psu set linkGroup onlineAllowed reserved-link-group true
psu set linkGroup nearlineAllowed reserved-link-group true
psu set linkGroup replicaAllowed reserved-link-group true
psu set linkGroup outputAllowed reserved-link-group false
psu set linkGroup attribute reserved-link-group HSM=anynonNone

psu create linkGroup public-link-group
psu addto linkGroup public-link-group public-link
psu set linkGroup custodialAllowed public-link-group true
psu set linkGroup onlineAllowed public-link-group true
psu set linkGroup nearlineAllowed public-link-group true
psu set linkGroup replicaAllowed public-link-group true
psu set linkGroup outputAllowed public-link-group false
psu set linkGroup attribute public-link-group HSM=None
#
# Submodule [rc] : class diskCacheV111.poolManager.RequestContainerV5
#
#rc onerror suspend
#rc set max retries 3
#rc set retry 900
#rc set warning path billing
#rc set p2p oncost
#rc set stage off
#rc set fallback oncost off
#set costcut 1.0 2.0
#
#
#
rc onerror suspend
rc set max retries 999
rc set max retries 3
rc set retry 900
rc set warning path billing
rc set poolpingtimer 600
rc set slope 0.0
rc set p2p oncost
rc set stage oncost off
rc set stage off
set timeout pool 120
set costcuts -idle=0.0 -p2p=2.0 -alert=0.0 -halt=0.0 -fallback=0.0
rc set max copies 500
rc set max restore unlimited
rc set sameHostCopy besteffort
rc set max threads 0
#
# Cost Module
#
cm set magic on
</verbatim>
