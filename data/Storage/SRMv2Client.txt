%META:TOPICINFO{author="AlexSim" date="1210956396" format="1.1" reprev="1.2" version="1.2"}%
%META:TOPICPARENT{name="BeStMan"}%
---++ SRM v2.2 client status (LBNL implementation)

!SRM-client toolkit is a full implementation of SRM v2.2, developed by Lawrence Berkeley National Laboratory, as generic SRM v2.2 clients. They have been tested for all current SRM v2.2 implementations such as !BeStMan, CASTOR, dCache, DPM, SRM/SRB and !StoRM. They are continuously being tested for compatibility and interoperability.  Note: These do not work with the previous SRM v1.1 servers.

---+++ News
   * 5-16-2008 !srm-client-2 v2.2.0.10 is released.

---+++ Links

   * [[http://datagrid.lbl.gov/bestman][Downloadables and instructions]]
   * [[http://datagrid.lbl.gov/bestman/bestman-manual.html][srm-client-2 Manual]]
   * [[http://www.ci.uchicago.edu/osgedu/schools/2008/figs/data.html][SRM v2.2 client lab exercises from 2008 FIU Grid School]]

   * <a name="sample_client"><b>Sample client runs</b></a>
      * Note: more samples are coming... for both !BeStMan and dCache
      * Assuming that SRM_Service_Endpoint_LBNL=srm://osp4.lbl.gov:8443/srm/v2/manager
      * Assuming that SRM_PATH_LBNL=/srmcache/star
      * Assuming that SRM_Service_Endpoint_FNAL=srm://fgitbse.fnal.gov:8443/srm/managerv2
      * Assuming that SRM_PATH_FNAL=/pnfs/fnal.gov/data/osg
         * ping
            * srm-ping $SRM_Service_Endpoint_LBNL
            * srm-ping $SRM_Service_Endpoint_FNAL
         * put
            * srm-copy file:////tmp/test.data $SRM_Service_Endpoint_LBNL\?SFN=$SRM_PATH_LBNL/osg.test.data
            * srm-copy file:////tmp/test.data $SRM_Service_Endpoint_FNAL\?SFN=$SRM_PATH_FNAL/osg.test.data
         * ls
            * srm-ls $SRM_Service_Endpoint_LBNL\?SFN=$SRM_PATH_LBNL/osg.test.data
            * srm-ls $SRM_Service_Endpoint_FNAL\?SFN=$SRM_PATH_FNAL/osg.test.data
         * get
            * srm-copy $SRM_Service_Endpoint_LBNL\?SFN=$SRM_PATH_LBNL/osg.test.data file:////tmp/osg.data
            * srm-copy $SRM_Service_Endpoint_FNAL\?SFN=$SRM_PATH_FNAL/osg.test.data file:////tmp/osg.data
         * rm
            * srm-rm $SRM_Service_Endpoint_LBNL\?SFN=$SRM_PATH_LBNL/osg.test.data
            * srm-rm $SRM_Service_Endpoint_FNAL\?SFN=$SRM_PATH_FNAL/osg.test.data
         * mkdir
            * srm-mkdir $SRM_Service_Endpoint_LBNL\?SFN=$SRM_PATH_LBNL/osg.test.dir
            * srm-mkdir $SRM_Service_Endpoint_FNAL\?SFN=$SRM_PATH_FNAL/osg.test.dir
         * rmdir
            * srm-rmdir $SRM_Service_Endpoint_LBNL\?SFN=$SRM_PATH_LBNL/osg.test.dir
            * srm-rmdir $SRM_Service_Endpoint_FNAL\?SFN=$SRM_PATH_FNAL/osg.test.dir
         * space reservation
            * srm-sp-reserve -serviceurl $SRM_Service_Endpoint_LBNL -size 1000 -gsize 900 -lifetime 900
            * srm-sp-reserve -serviceurl $SRM_Service_Endpoint_FNAL -size 1000 -gsize 900 -lifetime 900
         * space update
            * srm-sp-update -serviceurl $SRM_Service_Endpoint_LBNL -size 5000 -gsize 4000 -lifetime 300 -spacetoken V.10
            * srm-sp-update -serviceurl $SRM_Service_Endpoint_FNAL -size 5000 -gsize 4000 -lifetime 300 -spacetoken 50080
         * space tokens retrieval
            * srm-sp-tokens -serviceurl $SRM_Service_Endpoint_LBNL
            * srm-sp-tokens -serviceurl $SRM_Service_Endpoint_FNAL
         * space information retrieval
            * srm-sp-info -serviceurl $SRM_Service_Endpoint_LBNL -spacetoken V.10
            * srm-sp-info -serviceurl $SRM_Service_Endpoint_FNAL -spacetoken 50080
         * put operation with the reserved space
            * srm-copy file:////tmp/test.data $SRM_Service_Endpoint_LBNL\?SFN=$SRM_PATH_LBNL/osg.test2.data -spacetoken V.10
            * srm-copy file:////tmp/test.data $SRM_Service_Endpoint_FNAL\?SFN=$SRM_PATH_FNAL/osg.test2.data -spacetoken 50080
         * purge an SURL in the reserved space
            * srm-sp-purge -serviceurl $SRM_Service_Endpoint_LBNL -s "$SRM_Service_Endpoint_LBNL?SFN=$SRM_PATH_LBNL/osg.test2.data" -spacetoken V.10 
            * srm-sp-purge -serviceurl $SRM_Service_Endpoint_FNAL -s "$SRM_Service_Endpoint_FNAL?SFN=$SRM_PATH_FNAL/osg.test2.data" -spacetoken 50080
         * space release
            * srm-sp-release -serviceurl $SRM_Service_Endpoint_LBNL -spacetoken V.10
            * srm-sp-release -serviceurl $SRM_Service_Endpoint_FNAL -spacetoken 50080
 

---+++ Support
   * email to srm@lbl.gov

%BR%

-- Main.AlexSim - 31 Jan 2008
