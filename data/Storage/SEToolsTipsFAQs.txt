%META:TOPICINFO{author="NehaSharma" date="1223328821" format="1.1" reprev="1.3" version="1.3"}%
%META:TOPICPARENT{name="WebHome"}%
%LINKCSS%

<!-- This is the default OSG documentation template. Please modify it in --> <!-- the sections indicated to create your topic.                        -->

<!-- By default the title is the WikiWord used to create this topic. If  --> <!-- you want to modify it to something more meaningful, just replace    --> <!-- %TOPIC% below with i.e "My Topic".                                  -->

%STARTINCLUDE%
---++ Tools

[[https://twiki.grid.iu.edu/bin/view/Storage/CustomCostCalculator][Creating Custom Cost Calculator for dCache]]

[[https://twiki.grid.iu.edu/bin/view/Storage/ToolsNotPartOfRelease][PNFS Monitoring System - Tool for File Integrity Checking]]
---++ Tips

[[https://twiki.grid.iu.edu/bin/view/Storage/RelocatingDCache][Relocating dCache]]

[[https://twiki.grid.iu.edu/bin/view/Storage/CompilingAgainstDcache][Compiling Source Code Against dCache]]

[[https://twiki.grid.iu.edu/bin/view/Storage/DeploymentExamples][Production dCache Deployment Examples]]

[[https://twiki.grid.iu.edu/bin/view/Storage/HybridDcache][dCache Setup - Using both resilient and non-resilient pools]]

[[https://twiki.grid.iu.edu/bin/view/Storage/ReplicaManagerSetup][SE Configuration for Replica Management]]

[[http://cmsdcam2.fnal.gov/dcache/resilient/Resilient_dCache_TroubleShooting.html][Troubleshooting Resilience Manager]]
---++ FAQs

*dCache*

%RED%Q1%ENDCOLOR%: Can I use dccp to copy files in the reserved area?

<font color="royalblue">A1</font>: Not at present. Developers are working on it.

%RED%Q2%ENDCOLOR%: Is there a command line tool available for reading a file stored on dCache or concatenating individual files stored on dCache?

<font color="royalblue">A2</font>: No. In order to perform file operations (reading, concatenating, etc), you must copy files locally, manipulate/use them and copy them back to storage location.

%RED%Q3%ENDCOLOR%: Can I find out pool name for a file using dCap?

<font color="royalblue">A3</font>: No. There is no way to find out pool name on client side.

%RED%Q4%ENDCOLOR%: How do I clean up files belonging to non-existent pools?

<font color="royalblue">A4</font>: Recommended way is to clean out all the replicas from the companion DB via postgres, then run "pnfs register" on each pool via the admin interface.

%RED%Q5%ENDCOLOR%: I accidently deleted the parent directory, how can I change the parent id of files in PNFS?

<font color="royalblue">A5</font>: Send an email to osg-storage@opensciencgrid.org to get the solution. It is not posted here because of its critical nature.

%RED%Q6%ENDCOLOR%: Can I create softlinks on srm server as a normal user?

<font color="royalblue">A6</font>: No. Only Storage Element Admin can do so.

%RED%Q7%ENDCOLOR%: How can I install Fermi srmclient package?

<font color="royalblue">A7</font>: Use the "pacman -get OSG:client" command.

%RED%Q8%ENDCOLOR%: As a SE Admin, how can I set up group access on a storage location?

<font color="royalblue">A8</font>: This can be obtained by having a few users belong to a special group/role within your VO and then using standard unix like permissions

on the storage locations in question for the user to which this VO/group/role gets mapped to.

%RED%Q9%ENDCOLOR%:What happens to data stored under an expired space reservation?

<font color="royalblue">A9</font>: At present, nothing UNLESS you explicitly run a space cleaner tool which cleanups expired space reservations.

%RED%Q10%ENDCOLOR%: Do pool nodes need host certificates? Why?

<font color="royalblue">A10</font>: Yes. Credentials are delegated to pools so that they can act as clients when receiving data in pull mode or delivering <br />data in push mode. See slides 14 and 16 of https://srm.fnal.gov/twiki/pub/SrmProject/SrmPresentations/SRMDesign.pdf. Therefore in these cases they <br />need host certificates.

%RED%Q11%ENDCOLOR%: Some of the Gridftp doors (which are on both public and private network) are returning private ip address to SRM server. How can I get around it?

<font color="royalblue">A11</font>: Following different approaches have worked for admins in the past. However, you are responsible for making sure that this does not break other things on the system
   * In /etc/hosts, map both the public and private host names to the public IP address. 
   * Swap IP address definitions for eth0 and eth1. 
   * Check that the public/private NICs occupy the same slots of the PCI bus on the doors that don't work as they do on the doors that do work and physically swap them if different. 

%RED%Q12%ENDCOLOR%: What do the terms "Free Space", "Reserved Space" and "Available Space" mean?

<font color="royalblue">A12</font>: Free Space - amount of available pool space for link group

Reserved Space - amount of space you reserved

Available Space - amount of space available for reservation

(Available space=Free Space-Reserved Space)

<br />%RED%Q13%ENDCOLOR%: How can I configure my SE for Opportunisitic Storage?

<font color="royalblue">A13</font>: Two links may be useful to you: [[https://twiki.grid.iu.edu/bin/view/Storage/SpaceReservation][Space Reservation]] and [[https://twiki.grid.iu.edu/bin/view/Storage/OpportunisticStorageModelForCMS][Opportunistic Storage Model for USCMS]]

%RED%Q14%ENDCOLOR%: Do I need to upgrade all my SE nodes (SRM, PNFS, Pool etc) to same dCache version?

<font color="royalblue">A14</font>: Yes, we highly recommend it. There have been cases of slow response from commands like srmcp, srmls when nodes were running different dCache versions.

*BeStMan*

[[http://datagrid.lbl.gov/bestman/docs/bestman-faq.html][BeStMan FAQs]]

---++ 

-- Main.NehaSharma - 06 Oct 2008
