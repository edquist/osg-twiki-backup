%META:TOPICINFO{author="TedHesselroth" date="1193323788" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="StorageForum"}%
Instructions for setting values for storage elements in glue schema 1.3.

---++++++Notes

   * Glue schema 1.2 does not have a VOInfo element. Therefore, if compatibility with glue schema 1.2 is desired, there need to be multiple GlueSA elements, whereas in glue schema 1.3 there would be multiple VOInfo elements.
   * Technically, the schema allows multiple GlueSAAccessControlBase.Rules to be specified for each GlueSA. However, because of a bug in existing clients, only one VO per GlueSA should be specified. If a storage area allows more than one VO, include one GlueSA element for each VO.

<verbatim>
A) one GlueSE for each storage element
GlueSE/GlueSEUniqueID=$se_fqdn (convention; any ID allowed)
GlueSE/GlueSEName=$se_registered_name

B) one GlueSEAccessProtocol for each ftp protocol (definitions for other protocols TBD)
GlueSEAccessProtocol/GlueSEAccessProtocolLocalID=gsiftp
GlueSEAccessProtocol/GlueSEAccessProtocolType=gsiftp
GlueSEAccessProtocol/GlueSEAccessProtocolEndpoint=gsiftp://$ftp_fqdn:$ftpport ($ftpport is usually 2811)
GlueSEAccessProtocol/GlueSEAccessProtocolVersion=x.y.z formatted version (use 1.0.0, or 2.0.0 for gridftp2)
GlueSEAccessProtocol/GlueSEAccessProtocolSupportedSecurity=gsi
GlueSEAccessProtocol/ GlueChunkKey=$(value of GlueSEUniqueID)

C) one GlueSEControlProtocol for each srm protocol
GlueSEControlProtocol/GlueSEControlProtocolType=SRM
GlueSEControlProtocol/GlueSEControlProtocolVersion=x.y.z formatted version (for srm v2.2, have one complete GlueSEControlProtocol with 1.1.0, and another with 2.2.0)
GlueSEControlProtocol/GlueSEControlProtocolLocalID=srm_v$srmver (srmver=x.y from value of ControlProtocolVersion)
GlueSEControlProtocol/GlueSEControlProtocolEndpoint=httpg://$se_fqdn:$se_port/srm/managerv$srmver (dCache example. $se_port is usually 8443)
GlueSEControlProtocol/ GlueChunkKey=$(value of GlueSEUniqueID)

D) one GlueSA for each storage area (for backwards compatibility, one GlueSA for each vo subdirectory that is defined)
GlueSA/GlueSALocalID=$areaname
GlueSA/GlueSAPath=/pnfs/$se_domain/$area_directory (dCache example; for any implementation, should be full path. For backwards compatibility, should be /pnfs/$se_domain/$area_directory/$vo_subdirectory if $vo_subdirectory is defined) 
GlueSA/GlueSAType=permanent
GlueSA/GlueSAAccessControlBase.Rule=$VO1

...

E) Zero or more GlueVOInfo under each GlueSA, for the purpose of publishing space tokens
GlueVOInfo/GlueVOInfoLocalID=$voinfoname
GlueVOInfo/GlueVOInfoName=$handle_for_voinfoname (should refer to the role of an authorized user)
GlueVOInfo/GlueVOInfoPath=/pnfs/$se_domain/$area_directory/$vo_subdirectory (dCache example. Overrides GlueSAPath. For backwards compatibility, must equal $(value of SAPath) when any of $VO1, $VO2, $VO3, ... also satisfy any GlueSAAccessControlBase.Rule)
GlueVOInfo/GlueVOInfoTag=$space_token_description
GlueVOInfo/GlueVOInfoAccessControlBase.Rule=VO:$VO1
GlueVOInfo/GlueVOInfoAccessControlBase.Rule=VO:$VO2
GlueVOInfo/GlueVOInfoAccessControlBase.Rule=VO:$VO3
... 

</verbatim>
-- Main.TedHesselroth - 25 Oct 2007
