%META:TOPICINFO{author="KyleGross" date="1497450630" format="1.1" version="1.2"}%
%META:TOPICPARENT{name="Trash/Sandbox.PluginDevelopment"}%
---+!! <nop>%TOPIC%

%SHORTDESCRIPTION%

%TOC%

This plugin provides a !JavaScript and perl based frontend to GNU Aspell allowing users to check the spelling of the =edit= textbox before saving.

The plugin is based on the perl version of [[http://spellerpages.sourceforge.net/][spellerpages]] but hacked to turn it into a TWiki plugin.  Version 0.5.1 of spellerpages is packaged with the plugin.



---++ Plugin Settings

Plugin settings are stored as preferences variables. To reference a plugin setting write ==%<nop>&lt;plugin&gt;_&lt;setting&gt;%==, i.e. ==%<nop>INTERWIKIPLUGIN_SHORTDESCRIPTION%==

   * Set SHORTDESCRIPTION = Perl/JavaScript frontent to GNU Aspell.  Based on spellerpages from http://spellerpages.sourceforge.net/ (included).  

   * Set DEBUG = 0
      * Debug plugin: (See output in =data/debug.txt=).
   * Set ASPELL_CMD = aspell
      * Spelling program to run.  Use =/path/to/aspell= if the executable is not in the path.
   * Set ASPELL_OPTS = -a --lang=en_GB --encoding=utf-8 -C -H
      * Options to pass to the spelling program.  See =aspell= documentation for more.
        | =-a= | =ispell -a= compatibility mode (?) *Required* |
        | =--lang=en_GB= | language code. Try also =en_US= |
        | =--encoding=utf-8= | encoding to expect data to be in. |
        | =-C= | consider run-together words legal (useful for !WikiWords). |
        | =-H= | enter Html/Sgml mode (useful if there is 'real' html in the source). |
   * Set FORM_TEXTAREA = main.text
      * Javascript identifier of the textarea in edit template to spell. 
   * #Set FORM_TEXTAREA = EditFormular.text 
      * For Nat skin users.
   * Set AUTOSPELL = off
      * Automatically check spelling (options are ==off==, ==preview==, ==save==, ==both==)
      * _not implemented_

If these preferences are set in TWikiPreferences or WebPreferences and removed from here, then they can be overridden by preferences defined in a user's home topic.


---++ Plugin Installation Instructions

__Note:__ You do not need to install anything on the browser to use this plugin. The following instructions are for the administrator who installs the plugin on the server where TWiki is running. 

   * Install GNU Aspell.
   * Download the ZIP file from the Plugin web (see below)
   * Unzip ==%TOPIC%.zip== in your twiki installation directory. Content:
     | *File:* | *Description:* |
     | ==bin/spellerpages== | Plugin script |
     | ==data/TWiki/%TOPIC%.txt== | Plugin topic |
     | ==lib/TWiki/Plugins/%TOPIC%.pm== | Plugin Perl module |
     | ==pub/TWiki/SpellerPagesPlugin/blank.html== | =spellerpages-0.5.1= |
     | ==pub/TWiki/SpellerPagesPlugin/controls.html== | =spellerpages-0.5.1= |
     | ==pub/TWiki/SpellerPagesPlugin/controlWindow.js== | =spellerpages-0.5.1= |
     | ==pub/TWiki/SpellerPagesPlugin/spellchecker.html== | =spellerpages-0.5.1= |
     | ==pub/TWiki/SpellerPagesPlugin/spellerStyle.css== | =spellerpages-0.5.1= |
     | ==pub/TWiki/SpellerPagesPlugin/wordWindow.js== | =spellerpages-0.5.1= |
   * Edit your =edit= template (in the templates directory). The actual file name to edit will
     depend on the skin you are using, but will usually be =edit.pattern.tmpl= or =edit.tmpl= 
     or similar. 
      * Include necessary !JavaScript in template.
        Add the following line to the =script= block so that it reads: %BR%
        =%<nop>TMPL:DEF{"script"}%= %BR%
        ==&lt;!-- INCLUDEJSSPELLERPAGES --&gt;== 
      * Create a 'Check spelling' button.
        Add something like the following to the =topicaction= block: %BR%
        ==&lt;input type="button" value="Spell" onClick="openSpellChecker();" /&gt;==

For example, my =edit.pattern.tmpl= now contains the following:
<verbatim>
<td class="twikiAddCol">
  <input type="button" class="twikiSubmit twikiTertiary" value="Spell" onClick="openSpellChecker();" />
  <input type="submit" class="twikiSubmit twikiTertiary" name="action" id="preview" value="Preview" />
  <label accesskey="p" for="preview"></label>
</td>
</verbatim>




---++ Plugin Info

|  Plugin Author: | TWiki:Main.MagnusLewisSmith |
|  Plugin Version: | 13 Oct 2005 (V1.001) |
|  Change History: | <!-- versions below in reverse order -->&nbsp; |
|  13 Oct 2005: | V1.001 Added =FORM_TEXTAREA= preference. |
|  12 Oct 2005: | Initial version |
|  TWiki Dependency: | $TWiki::Plugins::VERSION 1.024 |
|  CPAN Dependencies: | none |
|  Other Dependencies: | none |
|  Perl Version: | 5.005 |
|  License: | GPL ([[http://www.gnu.org/copyleft/gpl.html][GNU General Public License]]) |
|  TWiki:Plugins/Benchmark: | %TWIKIWEB%.GoodStyle nn%, %TWIKIWEB%.FormattedSearch nn%, %TOPIC% nn% |
|  Plugin Home: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC% |
|  Feedback: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Dev |
|  Appraisal: | http://TWiki.org/cgi-bin/view/Plugins/%TOPIC%Appraisal |

__Related Topics:__ %TWIKIWEB%.TWikiPreferences, %TWIKIWEB%.TWikiPlugins

-- TWiki:Main.MagnusLewisSmith - 11 Oct 2005

%META:FILEATTACHMENT{name="spellerpages-0.5.1.tar.gz" attr="h" comment="spellerpages sources from http://sourceforge.net/projects/spellerpages/" date="1128992119" path="spellerpages-0.5.1.tar.gz" size="16900" user="MagnusLewisSmith" version="1.1"}%
%META:TOPICMOVED{by="MagnusLewisSmith" date="1128991614" from="Sandbox.SpellerPagesPlugin" to="TWiki.SpellerPagesPlugin"}%
