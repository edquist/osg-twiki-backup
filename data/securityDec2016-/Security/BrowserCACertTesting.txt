%META:TOPICINFO{author="KyleGross" date="1481047945" format="1.1" version="1.4"}%
%META:TOPICPARENT{name="SecurityTeamTeamTeamTeamTeamTeamWorkingArea"}%
---+ Introduction
This was a test to see what happens to various browsers when an issuing CA cert expires, even if issued host and user certs are still good.

---+ Test Procedure
   * Create Root CA certificate with long expiration.
   * Create Signing CA certificate with short expiration.
   * Create a host and user certificate with a long expiration.
   * Install CA certs and host cert on a website, with both an HTTPS page and a page requiring certificate authentication.
   * Install CA certs and user cert in various browsers.
   * Test various browsers and record results.
   * Wait for issuer certificate to expire, test various browsers and record results.
   * Renew signing CA cert, and install in the various browsers.
   * Test various browsers and record results.

---+ Result Summary
None of the browsers had problems with the renewed cert even with the expired cert still in its certificate store.

---+ Results
|Step		|OS		|Browser	|https	|Auth|
|Cert Good	|OSX 10.6	|FF 9.0.1	|Yes	|Yes|
|^|^	|Cr 16.0.912.75	|Yes	|Yes|
|^|^	|Safari		|Yes	|No|
|^|SLF5		|FF 3.6.24	|Yes	|Yes|
|^|WinXP		|IE 7.0.5730.13	|Yes	|Yes|
|Cert Expired	|OSX 10.6	|FF 9.0.1	|Warn(*)	|No|
|^|^|Cr 16.0.912.75	|Warn(**)	|No|
|^|^|Safari		|Yes	|No	|
|^|SLF5		|FF 3.6.24	|Warn(**)	|No|
|^|WinXP		|IE 7.0.5730.13	|Warn	|No|
|Cert Renewed	|OSX 10.6	|FF 9.0.1	|Yes	|Yes|
|^|^|Cr 16.0.912.75	|Yes(*3)	|Yes|
|^|^|Safari		|Yes	|No		|
|^|SLF5		|FF 3.6.24	|Yes	|Yes|
|^|WinXP		|IE 7.0.5730.13	|Yes	|Yes|

---+ Notes
* Actually displayed page on first try. Doing a ^reload caused the
warning page about the expired cert. Actually could not go past the
warning page, since the issuer expired, but the exception dialog only
allows creating exception for the host cert, not the issuer.

** Showed page until refresh. Could continue past warning page.

*3 Actually had to restart Chrome after installing renewed ca cert.

Safari did not seem to work with the new tls-renengotiation style apache http configuration for certificate authentication.

-- Main.KevinHill - 20 Jan 2012