%META:TOPICINFO{author="MineAltunay" date="1348688149" format="1.1" reprev="1.21" version="1.21"}%
---++New OSG PKI Training Plan

---+++ Learning Objectives
   This training plan is developed to educate the OSG Registration Agents (RA) and Grid Admins (GA) about the certificate lifecycle processes in the new OSG PKI. The training will teach the actions that must be taken by the RAs and GAs and will explain how to use the tools provided by OSG and Digicert CA.  
   This plan is not intended to educate OSG end users about the actions required of them during the certificate lifecycle.

---+++ Learning Methods and Activities
   The training has two methods: we will develop a training class and following the class we will provide a hands-on training session. We will use Adobe Connect tool to deliver the online training classes.

   For each trainee type (RA and GA) a training class will be developed. The class will be based on a document that explains the actions required from the trainees and the tools provided for those actions. Once the class training is completed, the trainees will be asked to perform the basic tasks. The PKI Transition team will set up training accounts at OIM-ITB instance and will use Digicert Test CA as the back end CA. 

---+++Training Planning Team
   
   The team will need staff who can perform the following tasks. 
   * A person to develop training materials. This task will include finding remote conferencing tools, developing training video as needed. This should take 2-FTE weeks.   

   * A person who can conduct the training classes. It will be better if the same person who developed the training material can do the training. But, in case of a schedule conflict, a separate person can conduct the training sessions. There will be 5 training sessions planned. Each session is expected to take 2 hours. Thus, the trainer should dedicate at least 15-FTE hours just to conduct the sessions. 

   * An administrative support person to keep track of scheduling sessions, registering participants, keeping track of participants who has not signed up and so on. This should take 15-FTE hours. 

   * A technical support person who will set up the training accounts for the trainees, clean up the accounts after training and so on. He will also review the training content  existing technical setup. This should be a person from PKI team who is very familiar with the GOC and DigiCert portals and tools. This should take 15-FTE  hours.   

---+++ Timelines

   PKI project development is planned to be finished at 7/16/2012. The acceptance testing will be conducted until 9/17/2012. Internal staff testing will be conducted until 10/1/2012. After then friendly user testing will be allowed until 10/29/2012. After the end of October, the new PKI services will be open to OSG public. 

   The training tasks will be scheduled as follows. 

   * The training material development will be completed by 9/24/2012. 
   * Administrative tasks, such as setting up a registration web page, announcing the training dates will start immediately. 
   * Technical setup tasks, such as setting a test CA and accounts, should start 9/17/2012 and should be completed by 10/1/2012. Some of these tasks that require programming should be performed during the PKI development phase. 
   * Technical review of the training material. This should be performed as the material is being developed. The person developing the material should do this under constant consultation with the technical team. A formal review should be performed after 9/17 till 9/24/2012.  
   * Training sessions will be held from 10/1/2012 until 10/29/2012. Each week a training session should be held. Because we plan to have 5 sessions, we will have two sessions during one week. We will schedule the same type of training sessions as far apart from one another. 
      * A tentative schedule is: 
         * RA Training sessions: 10/1 and 10/22
         * GA Training sessions: 10/8 and 10/26
      * Scheduling conflicts:
         * Jim Basney: Internet2 meeting (Oct 1-5), OGF36 (Oct 8-12)

---++++ Training Class Logistics

   There are 45 GAs and 38 RAs. They are all geographically distributed. Therefore, we will perform the training class remotely.  We can provide our class as a webinar. The advantage of having a webinar is the real time interaction with the trainees. The trainer will share his desktop view and demonstrate how to navigate Digicert and OSG We plan to use Adobe Connect.

   For each trainee type, due to the number of people, we will at least schedule two separate training classes (approximately 20 persons in each class). We should announce the dates a month ahead and set up a registration page. One way to ensure everyone is adequately trained is to delay activating a person's RA or GA privileges until they attend the training class. If we provide a video or a webinar, another advantage is that we can allow attendees to use the tool on their own schedule. This will help people who cannot attend on scheduled training days. Another benefit is that they can always look up the information when they need it later. Given the number of people we have, having both interactive classes and on-demand (previously recorded) webinars are probably the best way for us.  

   We will use a registration system (Indico) for keeping track of class dates and attendees. 
   In order to show how to use the OSG and/or DigiCert portals, we should schedule these class until after all software development work is completed. 
 
   For each trainee type, the class will teach them i) how they will serve end user requests; ii) how they will maintain their RA or GA status with the system (requesting/renewing/destroying their privileges; gaining access to the system, and so on), and iii) the compliance/audit responsibilities they have with DigiCert and OSG (e.g. RA agreement forms, gaining DNS domain ownership letters for GAs, documentation of their actions; and so on).   

---++++ Action Items: 
   * (Soichi) Check if all registered attendees have an OIM-ITB account. Check if their email address is in the list of registered domains. Find out from Von the up-to-date list of domains. In progress.  
   * (Soichi) Provide instructions for trainees to create OIM-ITB accounts. if a trainee has no OIM accounts, what response they will get from https://oim-itb.grid.iu.edu/oim
   * (Jim) Put the instructions for requesting OIM accounts on Indico page. 
   * (Von) GA domain registration process with DigiCert. Only Von has access to MPKI Domain registry page at Digicert. Von will handle this for us manually; the process is broken. 
   * (Soichi/Jim/Mine) PKI Staff vs Super PKI Staff. Soichi will cc the osg-ra@opens.. and osg-ra(??)@open.. copied to the request notifications. PKI staff will be able to see the requests. PKI Staff still cannot approve or reject the requests unless they are specifically listed as RAA for that VO. Soichi will instal Jim and Mine as RA Agents for the registered VOs for training. For host certs, Jim and Mine should send Soichi the list of domains taking training and Soichi will add them as GAs for those domains.  
   * (Mine) Training team will add steps for using the command line tools once they get the latest versions of the code.  
  * %GREEN%(Mine) Setup Adobe Connect for web conferencing. Mine got hosting privileges. Hosted a test session. Requested hosting privileges for Jim from Marco Mambelli. Complete. %ENDCOLOR%
      * %GREEN%(Mine) test recording capabilities of Adobe Connect for later use. Completed.%ENDCOLOR%
      * Make sure that Jim has hosting capabilities for his sessions. 
   * (Mine) Schedule the sessions in Adobe Connect and send Jim the connection info to add to the Indico pages.
   * (Mine) Delegate Adobe hosting privileges to Jim before his sessions.  
   * %GREEN% (Jim) Set up a registration page for attendees in Indico. Complete%ENDCOLOR%.
   * %GREEN%(Jim) Check if all RAs and GAs signed up for a training session. The current list is at https://www.opensciencegrid.org/bin/view/Security/OsgRaAgents. Send Reminders. %ENDCOLOR%
   * %GREEN% (Jim) Trainees have to have personal certs in their OIM-ITB accounts. Put a reminder on the Indico page and send follow up reminders to the trainees. Instructions are already on Indico. Complete.%ENDCOLOR%
   * %GREEN%(Mine/Jim) Develop training materials. We decided to show the training steps in Adobe Connect in live sessions and record these sessions for later use. We will produce as little document as possible except for the training videos.%ENDCOLOR%
   * %GREEN%(Mine/Jim/Alain/Soichi) Verify the RA/GA processes with PKI team: how to become an RA/GA, how to perform as a RA/GA. Met with Soichi and Alain. Went through the training outline. Complete.  %ENDCOLOR%
   * The training team will provide a dry run of the training class during the week of 9/24
   * (Mine) Find out what we need to do to distribute the command line client tools to the GAs before the training event. OSG software team should provide the client tools in the week of Sept 17 to the trainers so the trainers would have time to test them.
   * %GREEN%(Mine) Ask GOC to grant Registration Authority privileges to Jim and Mine in ITB. This is different than being an RA Agent. We need RA privileges as a back up if an RA Agent cannot be installed into the system and/or other problems discovered in the system. Mine and Jim are installed a sPKI Staff. Completed.%ENDCOLOR% 
   * %GREEN%(Mine) Find out how RA Agents and GA request termination of their privileges. RAs/GAs will open an OIM ticket and request termination.  Completed. %ENDCOLOR%
   * %GREEN%(Mine) Find out the process for Annual account review by RA/GAs. Checked with Von -- This process is not finalized yet. Von asked Soichi to implement an interface but this will not be completed by the training. We will exclude this from the training. When the annual review time comes next year, GOC will send detailed instructions and reminders. Completed.%ENDCOLOR%
  * %GREEN%(Von) Announce training schedules. Make sure that announcements reach the target audience. Work with GOC to verify the recipient list for the announcements sent by GOC team. Jim emailed Von to send the announcements to RA/GA. Complete. %ENDCOLOR%
   * %GREEN%(Mine) Verify if sponsors need any training. Sponsors will not receive any training. Complete.%ENDCOLOR%


---++++ Hands-On Training 
   Each trainee will be asked to perform their responsibilities within a training account. This will allow them to actually use the tools provided to them. For example, an RA will be asked to submit, review, and approve a user certificate request. The training accounts will be requested from OSG CA portal and Digicert CA.  Depending on the account type, we may get an account for each trainee or have a generic training account where all trainees can share access. 

 
---+++ Evidence of Completion / Documentation
   
   The Section 5.3.3 of the OSG/DigiCert RPS (quoted below) is one of the drivers for this training. By completing this training program, OSG and its staff will  meet the requirements laid forth in the Section 5.3.3 of the OSG/DigiCert RPS. OSG will maintain records of who received the training and what level of training was completed. OSG will store and provide these records to DigiCert upon request. OSG will devise a process for providing this training on an ongoing basis.  OSG will activate the corresponding privileges of the trainees as they complete the training.  
   

---++++ Section 5.3.3. OSG/Digicert CA Training Requirements, OSG/DigiCert RPS

Trusted Agents and/or OSG shall provide periodic skills training to all personnel involved in PKI operations.  The training relates to the person’s job functions and covers:
 
1.     basic Public Key Infrastructure (PKI) knowledge,

 2.     software versions used by OSG,

 3.     authentication and verification policies and procedures,

 4.     disaster recovery and business continuity procedures,

 5.     common threats to the validation process, including phishing and other social engineering tactics, and

 6.     applicable industry and government guidelines.  
  

 OSG shall maintain records of who received training and what level of training was completed.  OSG shall provide these records to DigiCert upon request.  


---+++ Training Outlines

---++++ RA Training

To install a RA Agent, The trainers need to:
   * Ask Soichi if all trainees have OIM accounts, certs and an email that is accepted by Digicert domains list.  
   * Go to https://oim-itb.grid.iu.edu/oim/vo, select the appropriate VO, and add the trainee under the Registration Authority Field. 
   * Trainers need to get RAA privileges for the VOs who are signed up for the training. Email Soichi with the list of VO signed up for the training. 

To install a GA, The trainers need to:
   * Make sure all attendees have OIM accounts, certs and an email that is accepted by Digicert domains list.  
   * Make sure the domain is registered with DigiCert. Go to [[https://www.opensciencegrid.org/bin/view/Security/OSGPKIRegisteredDomains][this link]] for instructions. Currently, the instructions on this link is not working. Ask Von Welch to add the domain manually.    
   * Go to https://oim-itb.grid.iu.edu/oim/certificateuser. 
   * Click on GridAdmin under Administration field. Click on Add New GridAdmin button.
   * Fill in the requested field and the name of the GA in the pop-up form. 
   * Make sure trainers have GA privileges for the domains that are signed up for the training. Email Soichi with the list of VO signed up for the training
  
For Adobe Connect, the Trainers need to:

   * Enable both phone bridge and the computer microphone under audio settings. Go to audio tab. start audio for the meeting for both computer and phone bridge. There is a check box already enabled that says "enable microphone rights for participants" . Tell people to mute their microphone to eliminate noise. If you do not grant microphone rights, then ask attendees to raise hands in order to grant microphone rights
   * For their personal settings, Trainers should select computer microphone under the audio settings. Lower the phone volume and mute yourself on the landline. Do not forget to start the ReadyTalk bridge for phone participants.   
      * Under Meeting tab, select "record the meeting". Stop the recording when finished then end the session and exit adobe connect. 


Before the training: 
   * Register in advance and request to become an RA for the training.
      * Register at https://indico.fnal.gov/event/2012OSGRATrain1 or https://indico.fnal.gov/event/2012OSGRATrain2.
      * Request to become an RA under an appropriate VO for the test CA (in OIM ITB). Visit https://oim-itb.grid.iu.edu/oim/vo, select a VO, then click the "Request for RA Enrollment" button in the upper right hand corner, and complete the form.
      * OSG will confirm that all email address domains are acceptable to DigiCert. Need at least 3 business days advance notice for this.
   * Try the [[https://admin.acrobat.com/common/help/en/support/meeting_test.htm][Adobe Connect Connection Test]]. The Adobe Connect Add-in is not required.

At the training:
   * Welcoming remarks. Introductions.
   * Perform RA life-cycle tasks 
      * Request to become a RA Agent in ITB instance. 
      * Perform annual update of RA Account
      * Request revocation of RA Agent privileges. Should be followed by re-installation of RA Agent privileges.
      * Agents should have a personal test certificate to go through the RA Agent life cycle tasks. 
   * Request a user certificate:
      * Open https://oim-itb.grid.iu.edu/oim/certificaterequestuser.
      * Select OSG VO.
      * Check the "I AGREE" box and click Submit.
   * Approve your user certificate request:
      * Check your email for a message from OSG containing: "An OIM Authenticated user ... has requested a user certificate. Please determine this request's authenticity, and approve / disapprove at https://oim-itb.grid.iu.edu/oim/certificateuser?id=NNN ."
      * Open the URL from the email message. (Your browser might already be on the right page.)
      * This is when you would verify the certificate request according to OSG policies/procedures. Review Security.NewOSGPKI now.
      * Add an "Action Note" ("OSG RA Training") and click the Approve button.
   * Retrieve your user certificate:
      * Check your email for a message from OSG containing: "To retrieve your certificate please visit https://oim-itb.grid.iu.edu/oim/certificateuser?id=NNN ."
      * Open the URL from the email message. (Your browser might already be on the right page.)
      * Enter a 12 character or longer password / pass phrase.
      * Click the "Issue Certificate" button.
      * Click the "Download Certificate & Private Key" button.
   * Revoke your user certificate:
      * Review circumstances under which RAs should revoke certificates.
      * Open https://oim-itb.grid.iu.edu/oim/certificatesearchuser.
      * Click the "Others" tab.
      * Enter your name in "DN Contains" and click the "Search" button.
      * Click on the line for your certificate.
      * Enter an "Action Note" ("OSG RA Training") and click the "Revoke" button.
   * Any questions?

After the training:
   * Obtain a real user certificate from https://oim.grid.iu.edu/oim/certificaterequestuser.
   * Apply to become an OSG RA Agent: https://twiki.grid.iu.edu/bin/view/Operations/OSGPKITrustedAgent

---++++ Grid Admin Training

Before the training:
   * Register in advance and request to become a GridAdmin for the test CA.
      * Register at https://indico.fnal.gov/event/2012OSGGATrain1 or https://indico.fnal.gov/event/2012OSGGATrain2.
      * Request to become a GridAdmin for the test CA (in OIM ITB). Visit https://oim-itb.grid.iu.edu/oim/gridadmin then click the "Request for GridAdmin Enrollment" button in the upper right hand corner, and complete the form.
      * OSG will confirm that DNS domains are acceptable to DigiCert. Need at least 3 business days for this.
   * At https://oim-itb.grid.iu.edu/oim/gridadmin, click the "Request for GridAdmin Enrollment" and fill out the form.
   * Try the [[https://admin.acrobat.com/common/help/en/support/meeting_test.htm][Adobe Connect Connection Test]]. The Adobe Connect Add-in is not required.
   * Install the osg-cert-scripts package.

At the training:
   * Welcoming remarks. Introductions.
   * Perform GA life-cycle tasks 
      * Request to become a GA. 
      * Perform annual update of GA Account
      * Request revocation of GA privileges. Should be followed by re-installation of GA privileges.
      * Should have a personal test certificate to go through the GA life cycle tasks. 

   * Request a host certificate via the web:
      * Open https://oim-itb.grid.iu.edu/oim/certificaterequesthost.
      * Create your certificate request: umask 077; openssl req -new -newkey rsa:2048 -nodes -keyout hostkey.pem -subj "/CN=osg-ce.example.edu"
      * Paste CSR on the web form.
      * Check the "I AGREE" box and click Submit.
   * Approve your host certificate request:
      * Check your email for a message from OSG containing: "Please determine this request's authenticity, and approve / disapprove at https://oim-itb.grid.iu.edu/oim/certificatehost?id=NNN ."
      * Open the URL from the email message. (Your browser might already be on the right page.)
      * Verify the certificate request is legitimate. Review Security.NewOSGPKI now.
      * Enter an "Action Note" ("OSG Grid Admin Training") and click the "Approve" button.
   * Retrieve your host certificate via the web:
      * Check your email for a message from OSG containing: "Your host certificate request has been approved. To retrieve your certificate please visit https://oim-itb.grid.iu.edu/oim/certificatehost?id=NNN and click on Issue Certificate button."
      * Open the URL from the email message. (Your browser might already be on the right page.)
      * Click the "Issue Certificate" button.
      * Click the "Download PEM" link to download the certificate.
   * Revoke your host certificate:
      * Review circumstances under which Grid Admins should revoke certificates.
      * Open https://oim-itb.grid.iu.edu/oim/certificatesearchhost.
      * Click the "Others" tab.
      * Enter the hostname in "CN Contains" and click the "Search" button.
      * Click on the line for your certificate.
      * Enter an "Action Note" ("OSG Grid Admin Training") and click the "Revoke" button.
   * Obtain a host certificate using the command-line tools (osg-gridadmin-cert-request) ... (TBD!)
   * Any questions?

After the training:
   * Obtain a real user certificate from https://oim.grid.iu.edu/oim/certificaterequestuser.
   * Apply to become a Grid Admin at https://oim.grid.iu.edu/oim/gridadmin by clicking the "Request for !GridAdmin Enrollment" and filling out the form.
