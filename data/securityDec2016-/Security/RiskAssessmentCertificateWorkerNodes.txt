%META:TOPICINFO{author="AnandPadmanabhan" date="1321376539" format="1.1" reprev="1.1" version="1.1"}%
---+!! A risk assessment on worker node certificates

---++ Motivation
In OSG, we require a worker node which uses glexec to have a certificate. However the practice in Europe is different. In EGI even with glexec on a worker node, there is no requirement for worker nodes to have a certificate. This certificate-less situation is quite appealing in terms of operations; however, made me think about the associated risk assessment. 

We want to understand if at OSG are being overly conservative,  and if so should revisit our policies. Below is our initial assessment based on our thoughts and our communication with our colleagues at EGI.

---++ Potential benefits of using host cert on worker node

Two main benefits of using host cert on worker nodes are
   * Host can authenticate itself to other hosts, if the other end also has a host certificate, mutual authentication can be made
   * A secure tunnel can be made available to the upper layer services so that communication will be protected by the lower layer tunnel.

We encountered the use of certificates at WN in two use-cases 
   1. The predominant one is a requirement from GUMS server so that the glexec process running on the worker node is able to safely and securely connect to GUMS server. 
   1. Refreshing Condor proxy at FermiGrid. Host certificates are used by Condor to authenticate the worker nodes to the central daemons. Specific use case is as follows: Cron jobs
      * runs on the individual cluster head nodes every (couple of) hours,
      * makes proxies of the cluster head node service credential,
      * distributes the proxies across the set of cluster worker nodes.

---++ Assessment

An immediate risk of not having host cert on worker is that existing uids on a worker node would be available to public without any worker node authentication.

---+++ Who can get DN/UID mapping information?

There is potential of unauthorised information access leading potential information leak.This can be mitigated, to some extent, by implementing proper firewall. Since GUMS is a site central authorization service, so there is no need to expose the authorization service to the Internet. And in fact, access to GUMS can be restricted to a group of trusted IPs. It will not completely eliminate the information leaking risk, but will significantly reduce the exposed surface.

However if firewall is not properly setup anyone might be able to get this information. If firewall is setup correctly anyone running a  process on one of the authorized machines might be able to obtain this information

---+++ What one can do with the leaked DN/UID mapping information?

-- Main.AnandPadmanabhan - 15 Nov 2011
