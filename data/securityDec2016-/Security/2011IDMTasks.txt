%META:TOPICINFO{author="JimBasney" date="1312315938" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="SecurityTeamWorkingArea"}%
---++ OSG Identity Management Tasks (2011)
%TOC%

This page documents OSG identity management tasks for Main.JimBasney.
See [[IdentityMgmtRoadmap2011]] for a wider ranging OSG identity management roadmap.

---+++ Prioritized OSG IDM Goals

   1. Make it easier for new OSG users to obtain personal certificates.
   1. Provide documented and supported alternatives to the DOEGrids CA for OSG host certificates (in case of DOEGrids CA service disruption).
   1. Enable OSG access via XSEDE mechanisms (i.e., OSG as an XSEDE Service Provider).
   1. Better support use of CAs besides DOEGrids for OSG personal certificates (i.e., support multiple "suppliers" for better resiliency, flexibility).
   1. Enable OSG access without user certificates (via glide-ins, portals, gateways that use robot/community certificates).

---++++ Non-Goals

   * Users of the LHC VOs can obtain certificates from DOEGrids and CERN. Things are working OK for these VOs today. We focus on other VOs for this work.
   * Current OSG users have already obtained their certificates. We focus on making things better for *new OSG users*.

---+++ OSG IDM Projects

The following projects are listed in priority order.

---++++ Certificates for Local Cluster Access

Target completion date: Sep 30 2011

Contacts: Frank Wuerthwein (UCSD), Terrence Martin (UCSD)

Goal: Demonstrate the use of CILogon (https://cilogon.org/) for easily obtaining certificates for new users for local UCSD cluster access. This is a sub-goal of our larger goal to "make it easier for new OSG users to obtain personal certificates."

Scenario: A new student joins Frank Wuerthwein's group at UCSD, and Frank wants the student to quickly have access to the local UCSD cluster using standard OSG mechanisms (including certificate-based authentication) without registering the student in the CERN HR DB (which is a time-consuming process).

Setup:
   * Frank configures the UCSD cluster to trust the CILogon Basic CA.
   * CILogon creates a custom interface for this use (https://cilogon.org/?vo=ucsd).

Process:
   * Student browses to https://cilogon.org/?vo=ucsd. The UCSD identity provider is automatically selected.
   * Student clicks "Log On".
   * Student enters username/password at UCSD !IdP.
   * Student downloads certificate from CILogon.
   * CILogon sends email to Frank saying a certificate has been issued to the student with certificate subject=DN.
   * Frank creates an account for the student on the local cluster and adds the DN for the student to the local cluster's grid-mapfile.
   * Frank tells the student that access is ready.
   * The student accesses the cluster using the CILogon certificate.

Deliverables:
   * Lessons learned document.

---++++ XSEDE Provided Host Certificates for OSG Sites

Goal: Provide a documented procedure for OSG site administrators to obtain IGTF accredited host certificates from XSEDE CAs, thereby addressing our goal to "provide documented and supported alternatives to the DOEGrids CA for OSG host certificates (in case of DOEGrids CA service disruption)."

Project Plan:
   * Phase I (target completion: Sep 30 2011): Document manual host certificate issuance by NCSA and TACC CAs for OSG sites.
   * Phase II (target completion: Jun 30 2012): Design and implement streamlined host certificate issuance workflow.

Currently the NCSA and TACC CAs can both manually issue IGTF accredited host certificates for OSG sites, but the procedure needs to be confirmed and documented. The XSEDE Security Operations team has a one year project to establish an "XSEDE CA" that makes it easier for XSEDE Service Providers (such as OSG) to obtain host certificates. OSG needs to provide requirements for that XSEDE project and integrate with the resulting "XSEDE CA" service. We expect the OSG GOC to act as Registration Authority to validate these host certificate requests.

---++++ CILogon Use by OSG VO

Target completion date: Nov 30 2011

Contacts: Dan Frasier

Goal: Demonstrate the use of CILogon (https://cilogon.org/) for easily obtaining certificates for new users of the OSG VO. This is a sub-goal of our larger goal to "make it easier for new OSG users to obtain personal certificates."

Setup:
   * Document OSG VO membership management procedures (or locate existing documentation).
   * Obtain approval from sites that support the OSG VO for use of a non-IGTF CA.

---++++ OSG-XSEDE User Identity Management

Target completion date: June 30 2012

Contacts: Jim Weichel (FNAL)

Goal: Design and implement identity management mechanisms for XSEDE users with OSG allocations to access OSG resources. This can help "make it easier for new OSG users to obtain personal certificates" and "better support use of CAs besides DOEGrids for OSG personal certificates".

Scenario: A new user registers at the XSEDE User Portal and submits a request for access to OSG resources. If the XSEDE allocations committee approves the request, the user is then able to access OSG resources via an XSEDE "account".

Initial discussions of technical details:
   * The user has an entry in the XSEDE User Database and can obtain IGTF accredited certificates from XSEDE CAs via XSEDE username/password, XSEDE OTP, or !InCommon.
   * Perhaps XSEDE should operate a VOMS server with a "sub-VO" for each allocated "XSEDE project" that has an OSG allocation.

---+++ Other Potential Tasks

---++++ OSG Access by Users Without Certificates

Goal: Demonstrate and support access to OSG by users without certificates.

Scenarios:
   1. A user logs in to a VO submission host via SSH (password, SSH key, etc.) and submits jobs. The submission host sends the jobs to OSG using a "robot" (or "community") certificate, likely via a glide-in framework.
   1. A user access OSG resources via a web portal / science gateway. The portal/gateway uses a robot certificate.

Isn't this already happening in OSG today (for example, via the Nanohub gateway)? Are there any technical problems to solve here? Any policy issues to address?

---++++ Document Existing OSG Identity Management

Collect existing OSG identity management documentation in one place and fill in any gaps so we have a clear picture of how things currently work before we make significant changes.

---++++ CILogon+ESnet Collaboration for OSG

Options:
   * Allow users to register CILogon certificates for DOEGrids host admin privileges (i.e., so you can authenticate to DOEGrids using a CILogon personal certificate to obtain a DOEGrids host certificate).
   * ESnet operational support for CILogon (for example: HSM hosting)
