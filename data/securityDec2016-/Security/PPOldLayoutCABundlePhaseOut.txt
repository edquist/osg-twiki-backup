%META:TOPICINFO{author="AnandPadmanabhan" date="1341937242" format="1.1" version="1.5"}%
%META:TOPICPARENT{name="SecurityTeamWorkingArea"}%
<!--
   * Set NOT_STARTED = Not Started
   * Set NOT_RELEASED = Not Released
   * Set ON_TRACK = <div style="background-color: #3366FF; color:white">&nbsp;On Track&nbsp;</div>
   * Set BEHIND = <div style="background-color: #CCFF00;">&nbsp;Behind&nbsp;</div>
   * Set AT_RISK = <div style="background-color: #CC0000; color:white">&nbsp;At risk&nbsp;</div>
   * Set ACHIEVED = <div style="background-color: #00FF66;">&nbsp;Achieved&nbsp;</div>
   * Set RELEASED = <div style="background-color: #00FF66;">&nbsp;Released&nbsp;</div>
   * Set TWISTY_OPTS_DETAILS = mode="div" showlink="Details" hidelink="Hide" showimgleft="/twiki/pub/TWiki/TWikiDocGraphics/toggleopen-small.gif" hideimgleft="/twiki/pub/TWiki/TWikiDocGraphics/toggleclose-small.gif" remember="on" start="hide" 
-->

---++ Project plan to phase out old layout CA bundle
---+++ Problem Statement
The OSG CA certificates are currently released in two different layout/formats. The difference between these format is that the old layout has hashes that are only compatible with openssl 0.9.x, while the new layout has hashes (using symlinks) that are compatible with both openssl 0.9.x. and 1.0.x. The new layout has been in production in OSG for over an year and is the default in the RPM releases. IGTF want to stop supporting the old format and are keeping it in their release just for OSG. The OSG security team would like to phase out and stop distributing the CA release using old layout. 

---+++ Goal
   * Phase out and stop distributing the CA release using old layout. 

---+++ Project Team
   * Security Team: Anand  (Lead), Mine
   * Participants: Alain (VDT), GOC

---+++ Deliverable from the project:
   * Instructions for sites to do the transition
   * Update CA release process documentation
   * Update OSG documentation 

---+++ Schedule
   * Effort: 4 FTE week
   * Project start : July 1, 2012
   * Project End Date: Nov 30, 2012
      * Development Phase ends: Sep 30, 2012
      * Deprecation of GOC service: Nov 30, 2012

---+++Project implementation Plan (Steps for deprecating CA certs RPMs from GOC's Yum repository)
%TABLE{ sort="off" valign="top" }%
| *Task* | *State* | *Owner* | *Target Start* | *Target Finish* | *Actual Finish* | *Notes* |
| Identify sites that are using old layout and downloading tarballs | %ON_TRACK% | Anand/Scott | 01Jul2012 | 30Jul2012 | -  | We are looking at the access logs for old layout tarballs from GOC production repository |
| Identify sites that have installed the *-compat CA rpms from osg RPM repository | %NOT_STARTED% | Anand/Scott | 01Jul2012 | 30Jul2012 | - | What is the best way to do this? |
| Develop a Transition Plan for deprecating old CA layout | %NOT_STARTED% | Anand | 15Jul2012 | 15Aug2012 | - | - |
| Identify OSG software if any that will be affected by the change | %NOT_STARTED% | Anand/Alain | 01Aug2012 | 31Aug2012 | - | - |
| Contact OSG VOs and see if the transition affects their S/W  | %NOT_STARTED% | Anand/Alain | 01Aug2012 | 31Aug2012 | - | - |
| Broadly announce of Change to OSG community (specifically target sites, VOs and software contributors)  | %NOT_STARTED% | Anand | 01Aug2012 | 15Aug2012 | - | - |
| Develop instruction as needed to facilitate transition  | %NOT_STARTED% | Anand | 01Sep2012 | 30Sep2012 | - | - |
| Update the CA release process documentation on twiki  | %NOT_STARTED% | Anand | 15Sep2012 | 30Sep2012 | - | - |
| Update OSG documentation on twiki/software.grid.iu.edu  | %NOT_STARTED% | Scott | 15Sep2012 | 30Sep2012 | - | - |
| Continue release updates of CA packages in old layout  | %NOT_STARTED% | Anand | - | 30Nov2012 | - | - |
| Deprecate the old layout CA releases  | %NOT_STARTED% | Anand/Scott | - | 30Nov2012 | - | - |

---+++ Dependencies/ Risks
   * One of the big concerns is that we are switching the CA bundle layout from old to new is due to the fact that CA certificates are integral part of our security infrastructure.  We were concerned that a site which uses the old layout might have legacy software which could stop working after a switch to new layout. The new layout had no problems with vdt software stack except for the old legacy versions of VOMS servers. The new layout has been available in the software repo (and via Koji) for a while. 

---+++ Affected Parties
   * This change will affect anyone (primarily OSG resource and VO admins) using CA  packages, this is typically all S/W components that rely on our PKI infrastructure  for authentication 
   * All affected parties will be notified.
---+++ Updates
   * Scott sent Anand limited log files from software.grid.iu.edu. Anand looked through the logs that Scott sent us and found that only a few sites (FNAL, SMU, An European site) are using the new format CA package. This is not a surprise since old format is default in pacman. 
   * Anand is still waiting for  the logs of rpm usage from Scott, and the list of VOMS server versions that are deployed by OSG VOs. 
      * On the rpm side we expect most sites to be using the new format since that is the recommended approach. 
      * Do you have an alternative site we might be able to get the VOMS version information, if Scott is not able to provide it.
   * Anand has an idea on how we could do this transition if we do not have problems with VOMS servers.

-- Main.AnandPadmanabhan - 04 Jun 2012