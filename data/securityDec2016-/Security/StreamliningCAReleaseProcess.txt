%META:TOPICINFO{author="AnandPadmanabhan" date="1326487756" format="1.1" reprev="1.1" version="1.1"}%
%META:TOPICPARENT{name="SecurityTeamWorkingArea"}%
---+!!Streamlining the CA Release Process
%TOC%
---++ Introduction
Goal: Merge two separate releases to GOC and Koji and streamline the process of preparing the release

---++ Actions
Alain, Anand, Mine, Rob, and Scott met on Thursday Jan 12, 2012 to discuss the issues on this thread. The details of the discussion along with action items are identified below.

---+++ Item 1
How do we move forward to deprecate the rpm release to GOC? First we need to understand how many people are using the RPMs from GOC and see if they will be willing to move over to osg-ca-certs or osg-ca-certs-compat from Release 3. On a related note can we move the rpms made by Koji to GOC release (will change format). If we plan to do this who's signoff need to be obtained. We will also need to prepare announcement to the same to sites and potentially VOs who might be using that in their VOMS.

GOC receives 4 CA packages from security team  (old and new for igtf non-igtf). Scott mentioned that can only release one version since in their yum repo only there is one rpm. yum has interpretation problems on 4 different naming schemes. The versions in GOC have naming schemes are different than the one on koji.

We have to look through statistics. Alain says right transition plan query who uses goc and then move everything to koji.  we need to have a transition plan.
Voms admin people needs to use old version. when we switch voms-admin to koji, we need to make sure they use old version.

Action item: Find out who is hitting which file. We will also contact the sites/VO and coordinate the transitions with them

Follow up:  Scott examined the access logs on software1.grid.iu.edu for the
period from 20/Nov to 12/Jan. There was a CADist version change
in this period (where I'd expect many accesses) Here is what he found:

   * noarch.rpm 1833 total hits by: lbl, uchicago, indiana, hannover, kbfi?, bots
<pre>
28.135.158.252 uct2-grid7.uchicago.edu.
128.3.30.45 dmsoft.lbl.gov.
129.79.14.134 wuncler.uits.indiana.edu.
129.79.14.159 rsv-client3.grid.iu.edu.
129.79.14.172 rsv-client-itb.grid.iu.edu.
129.79.72.147 howe.uits.indiana.edu.
130.75.117.49 ahgate1.aei.uni-hannover.de.
134.68.22.148 cindy.uits.iupui.edu.
140.182.148.207 140-182-148-207.dhcp-bl.indiana.edu.
149.165.225.221 iut2-grid7.iu.edu.
193.40.150.224 gftp3.hep.kbfi.ee.
193.40.150.227 gftp6.hep.kbfi.ee.
93.158.144.27 spider-93-158-144-27.yandex.com.
</pre>

   * deb 143 total hits by: uwm, hannover, bots
<pre>
129.89.61.100 cumin.phys.uwm.edu.
129.89.61.137 curly.phys.uwm.edu.
129.89.61.195 oregano.phys.uwm.edu.
129.89.61.64 omen.phys.uwm.edu.
130.75.116.207 bob.atlas.aei.uni-hannover.de.
130.75.116.84 d34.atlas.aei.uni-hannover.de.
130.75.117.49 ahgate1.aei.uni-hannover.de.
134.158.186.247 apcnb116.in2p3.fr.
134.68.220.50 search5.iu.edu.
178.3.244.37 dslb-178-003-244-037.pools.arcor-ip.net.
213.186.122.3 213.186.122.3.utel.net.ua.
76.199.9.246 adsl-76-199-9-246.dsl.chmpil.sbcglobal.net.
89.182.73.240 a89-182-73-240.net-htp.de.
</pre>

---+++ Item 2
Who are using the deb releases and since the release does not conform to apt/deb visioning what can we do to fix it?

Debian release is only made to GOC. Only Ligo is the supported user of the debian release? Ligo still requests this, so we are currently releasing and anticipate to continue releasing software for debian 6 for ligo. LIGO gets debian packaged ca certs from goc repo. the remaining packages are kept at wisconsin repo. We decide that it would be appropriate to merge software caches all together at Wisc.
As for support openssl debian 6 does not have openssl 1.0. so for the time-being having 4 different versons does not matter  only the old osg-ca-cert release is important.

Action Item: Follow up with Tim to try and identify a plan to move the repositories over to Wisc. Tim is a deb packaging expert and would also help with visioning so we conform to standards.

---+++ Item 3
Right now we have tarballs at upstream and GOC svn. Should these merge? This does not affect our services to end user. Right now we release a tarball of CA files to GOC and copy over the safe files to upstream directory in koji. The question is can we avoid maintaining multiple copies to reduce possibility of things going wrong. 

Alain  states If we were to change the well known web url , then we have to make a broad publication. put a redirect. or have a good plan, but we do not plan to do so at this time.

The main  technical  question is can we configure rpm spec file used for building package in Koji to refer to svn at GOC (may be through web  url). Alain needs to help with this subject and will consult Matyas Selmeci.



-- Main.AnandPadmanabhan - 13 Jan 2012
