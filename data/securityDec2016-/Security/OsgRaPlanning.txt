%META:TOPICINFO{author="KyleGross" date="1225985966" format="1.1" version="1.16"}%
%META:TOPICPARENT{name="WebHome"}%
%TOC%

The main URL for the OSG RA is [[http://www.opensciencegrid.org/ra][www.opensciencegrid.org/ra]].

---+ OSG Registration Authority plans
This page is used for managing the issues, action items and workplan for the OSG Registration Authority, a part of the [[http://www.doegrids.org][DOEGrids PKI]].

---++ Overview
The general idea for the functions of the OSG RA is to have the initial service essentially just be a re-labelling of the PDPG and iVDGL procedures as the OSG procedures for the startup of the OSG RA.
The Support Centers registered with OSG will be included into the procedures for the RA functions.
We should also plan the evolution of the OSG RA service and guidance & interaction with DOEGrids for the longer term.

---+++ Purpose
The purpose of the OSG RA is to provide the authentication function for X509 certificate requests from users of OSG for personal or service certificates issued by the DOEGrids CA.  The definition of the scope and function for an RA is defined in the [[http://www.doegrids.org/Docs/CP-CPS.pdf][DOEGrids CP/CPS]].

---++ Current Issues
---+++ Robot certificates
A type of certificate for automated and unattende3d processes on behalf of a person. See RobotCertificates.

---+++ Bulk issuance of host certificates
Consider bulk issuance without PIN-based enrollment, which means it just uses the current Grid Admin privilege interface. See BulkHostCertsNoPIN.

---+++ Update of DOEGrids email notifications
See Security.DOEGridsEmailNotification for a description of notice contents sent to subscribers.

See [[OSGRAEmailNotifications][OSG RA email notifications]] for a description of the certificate workflow and notices
for the OSG RA, showing filtering and distribution by VO.


---++ CP/CPS appendix for OSG RA
See Appendix N in http://www.doegrids.org/Docs/CP-CPS.pdf.


---++ OSG RA Operations Information web page

OsgRaOperations.

---++ To Do Items
   1. Prepare Draft OSG RA appendix for DOEGrids - completed, PMA approval on July 5, 2007
   2. Workflow description & diagram - completed, see below
   3. Display OSG-registered VOs on the person certificate request web page (pki1.doegrids.org) - completed, online July 12, 2006
   4. Include server domain name on the services certificate request web page (pki1.doegrids.org). - completed, online July 12, 2006
      * Modify cert request notification email to agents to include domain name.
   5. Revocation script - in progress
   6. [[OsgLigoIdAuthz][OSG-LIGO working group]] meeting, Aug. 20 in Seattle

---++ Wishlist
   * Include identification of RA agents and/or sponsors with the OSG Operations VirtualOrganizations/VOInfo/Resource/Support Center registration procedure.
   * Request list display: separate/sort by affiliation, OU=people vs services
   * Tailor email notices to subscribes with VirtualOrganizations/VOInfo-specific information
   * Arrange sponsor confirmation via SSL web form as alternative to telephone and digitally signed email

---++ Example workflow
---+++ OU=People illustration
Description of elements on diagram below.
   * DOEGrids CA 1 represents the Certificate Manager (CM) component of the CA which does the actual signing of new certificate.
   * Registration Manager is the CA component that has the web site that subscribers use to make requests and agents use to approve requests (and other agent functions).
      * The RM will display the list of VOs registered with OSG.
   * Agents within the Support Centers receive notification of the requests by email.
      * The email subject line will include the name of the VirtualOrganizations/VOInfo so they can be easily filtered by the different support center agents.
   * Subscriber is the term for a person requesting a new certificate.
   * Sponsor is the term for a person who can verify the identity of a Subscriber and the fact that the Subscriber really did make a request.
   * VirtualOrganizations/VOInfo Sponsor DB represents the list of people authorized to be a Sponsor for a request. Could be maintained separately for each VirtualOrganizations/VOInfo or could be a list for several VOs.
      * Fermilab uses the central user account database to identify authorized sponsors.
      * iVDGL maintains a web page list of sponsors.
      * It could be an ad-hoc list or have sponsor role validated during the registration process.

 <img src="%ATTACHURLPATH%/osg-ra-workflow-jun08.jpg" alt="osg-ra-workflow-jun08.jpg" width='960' height='720' />
   * Personal Certificate Workflow circa 2007: <br />

   1. Person submits request for certificate
      * both web form and script interface post request to Registration Manager
   2. Registration Manager (RM) sends notification of request to Agents and to the Subscriber
      * If email address in request bounces or is otherwise non-functional the request will be cancelled.  If feasible, an attempt to notify the subscriber will be made (perhaps via submitted Sponsor information).
   3. Agent retrieves and evaluates request at RM web site.
      * Agent clicks the "assign to me" on the request so that other agents know it is being processed.
      * If the "assigned to" agent decides they can not process it for some reason they should click the "unassign" link and notify someone that the request needs attention.
   4. Request is checked and validated
      * a) agent chooses a valid sponsor
      * b) agent sends signed email to sponsor asking for confirmation of request
      * c) sponsor checks with Subscriber if they actually made request
      * d) Subscriber replies to Sponsor
      * e) Sponsor confirms (or denies) that Subscriber really made the request. (via digitally signed email or telephone)
   5. Agent approves (or rejects) the request at the RM
   6. RM sends request to CM to be signed.
   7. CM signs certificate and returns it to RM.
   8. RM notifies Subscriber that certificate is available.
   9. Subscriber downloads certificate.


---++ Background Material
---+++ DOEGrids CP/CPS
http://www.doegrids.org/Docs/CP-CPS.pdf


-- Main.DougOlson - 18 Jul 2006

-- Main.DougOlson - 20 Mar 2006

-- Main.DougOlson - 10 Jun 2008

    

%META:FILEATTACHMENT{name="osg-ra-workflow-jun08.jpg" attr="" autoattached="1" comment="Personal Certificate Workflow circa 2007" date="1213122630" path="osg-ra-workflow-jun08.jpg" size="106021" user="Main.DougOlson" version="1"}%
%META:FILEATTACHMENT{name="ra-flow-060419.gif" attr="" autoattached="1" comment="" date="1145487943" path="ra-flow-060419.gif" size="32740" user="UnknownUser" version=""}%
%META:FILEATTACHMENT{name="CPS-osg-v2.doc" attr="" autoattached="1" comment="" date="1146077075" path="CPS-osg-v2.doc" size="101376" user="UnknownUser" version=""}%
%META:FILEATTACHMENT{name="CPS-osg-v1.doc" attr="" autoattached="1" comment="" date="1145309192" path="CPS-osg-v1.doc" size="97280" user="UnknownUser" version=""}%
