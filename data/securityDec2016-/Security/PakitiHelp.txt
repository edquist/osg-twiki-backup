%META:TOPICINFO{author="AnandPadmanabhan" date="1282852170" format="1.1" reprev="1.3" version="1.3"}%
---+ Pakiti Deployment on OSG


%TOC%

Pakiti is a tool to monitor the patching status of systems on the Grid. It helps site administrators identify which of their machines need to be patched.  The package is available at [[http://pakiti.sourceforge.net/]].

At present the OSG security team have been using that package to test CMS-tier 3 machines within the OSG. The instance of Pakiti server OSG is running can be found at [[https://osg-pakiti.ncsa.illinois.edu/]] (This location will be eventually moved to GOC over the next couple of months.). Since this webpage contains potentially sensitive information access to it is available only to security team members and CMS-T3 coordinators. Furthermore, we are able to provide site administrators access (with their DNs) to information about their site. 

---++ Interpreting Pakiti Information
The home page of Pakiti [[https://osg-pakiti.ncsa.illinois.edu/]], will list all the domains you have access to. Clicking on the domain will list all the hosts you have access to along with the number missing security/other patches and the number of CVEs your site is vulnerable to. 

When you click the link associated with your host on Pakiti it will provide details. A screenshot of what this looks like can be found below.<br/>
<img src="%ATTACHURLPATH%/Screenshot.png" alt="Screenshot.png" width='828' height='435' />  
<br/>
The table on this page displays four columns package name, installed version, required version, and CVEs, which can be interpreted as follows:
   * The first two columns record the name and version of the software package installed at the site (this information is obtained by running rmp -qa or dpkg-query on gatekeeper through a fork job).
   * The " required version" column lists the version of the software package available from the OS vendor's repository. A package is identified as missing a patch if the installed version is different from the required version. Furthermore, is the missing update was coming from the security repository the version number will be listed in %RED%red%ENDCOLOR% color. If on the other hand the missing package was from the main repository the version number will be listed in %GREEN%green%ENDCOLOR% color.
   * The final column lists the CVEs that are associated with the missing patch. The color of the CVE indicates its criticality. The CVE numbers are listed in %RED%red%ENDCOLOR%, %YELLOW%yellow%ENDCOLOR%, %BLUE%blue%ENDCOLOR%, and %GREEN%green%ENDCOLOR% to indicate critical, important, moderate, and low severity respectively.

---++ Getting Access to Information in Pakiti Server 
   * If you happen to be a CMS tier3 site admin and would like access to information about your site please send an email to the security team identifying your self, your site and your DN. 
   * If you are not part of CMS tier3 but you wish for your site to be monitored, also send an email to security team.
   * You can then add the DOEGrids and ESNet Root CA's into your browser.  This will prevent any problems with your browser recognizing your certificate when authenticating to the server.  From the [[http://www.doegrids.org/][DOEGrids main page]] there are links that will help you installing those certificates in your browser.

---++ FAQ
---+++ What should I do with this information?
Look at the results to find out if Pakiti lists a newer version of a software package is available from the vendors repository. If the missing patches are from the security patch and/or associated with critical CVEs consider updating them, using your regular OS update mechanisms (e.g. yum update, apt-get update). Furthermore, if your site has packages installed that are not needed (e.g. firefox on CE node), please consider removing them.

---+++ What are the most critical issues?
In general, we are concerned with any updates coming from the security repository and has a 'Critical' CVE associated with it. Specifically we are greatly concerned about missing kernel updates. 

---+++Pakiti reports no patches missing from my site, yet it lists a number of CVEs my site is vulnerable to, why?
Some time even though none of the patches from security or other repository is missing you will still notice CVEs listed. Most likely this is because the vendor has not released a new version of the affected software so your site is considered up to date.

---++ Reference 
   * http://pakiti.sourceforge.net/

-- Main.AnandPadmanabhan - 26 Aug 2010
<!--
   * Pakiti screenshot - Host information: <br />
     <img src="%ATTACHURLPATH%/Screenshot.png" alt="Screenshot.png" width='1656' height='870' />    
-->


%META:FILEATTACHMENT{name="Screenshot.png" attachment="Screenshot.png" attr="" comment="Pakiti screenshot - Host vulnerability information" date="1282842059" path="Screenshot.png" size="175290" stream="Screenshot.png" tmpFilename="/usr/tmp/CGItemp50043" user="AnandPadmanabhan" version="1"}%
