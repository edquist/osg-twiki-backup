%META:TOPICINFO{author="MineAltunay" date="1261513530" format="1.1" version="1.3"}%
%META:TOPICPARENT{name="SecurityTeamWorkingArea"}%
---++!! Certificate Revocation on Termination - Issues

%TOC%

When people are issued certificates from DOEGrids through the OSG RA
their initial registration is handled as a trusted third party process
within their virtual organization (VO).  Each VO has identified persons
acting as Agents with the authority to conduct the registration procedures
and issue the certificates.  The certificate itself does not identify
the person (or network service) as being a member of the VO.
Membership in the VO is handled through registration in the VOMS server
for that VO.  Whether or not a given VO has these two registration
processes integrated with each other or not is up to the VO.
%BLUE%how can this process be integrated by the VO? %ENDCOLOR%
In OSG different VOs have different practices in this regard.

In this process the VO has some responsibility for the certificates issued
by it's Agents.  Specifically, when the VO knows that a person is no longer
a member of the VO they can revoke the certificates issued to that person.
Because the membership in the VO is defined, at the technical level, by
entries in the VOMS server the consequences of NOT revoking a certificate
when a person leaves the VO are smaller that the consequences of not removing
their entries in the VOMS server.

Around OSG there are some web services (OIM, !DocDB) which perform
authentication and authorization based on certificates and not on VOMS
server entries. 
%BLUE% Are there any other services in OSG that uses certificates? %ENDCOLOR%
For these services a person leaving a VO will still have
access even when their VOMS records have been removed unless
their certificate is also revoked.

We observe that there are many VOs around OSG that do not revoke a person's
certificate when they leave the VO.  And, because of the self-renewal feature
for personal certificates of the DOEGrids CA it is possible for a person to
maintain a valid certificate for some years after leaving a VO unless the certificate
is revoked.
How significant is this problem and how much effort is practical to change it?

%BLUE% I do not think we need to change the current practice: not revoking certs when a person leaves the VO. It is acceptable for a VO to decide whether they want to initiate a certificate revocation request or not. We can advise the VO to inform their RA agents when a person leaves the VO. However, it far more important to remove the user from VOMS server. 
   * *Action Item*: To ensure that VOs are paying enough attention, we should audit VOs on their membership. We can ask VO managers their removal process and ask them to go through their entire user database for pruning old members. 
   *  *Action Item* List all OSG services that uses certificates for authentication and authorization. If any of the authorization decision is dependent upon VO membership
%ENDCOLOR%

---+++VO Audit on membership policies
   * CMS relies on CMS phone book at CERN for including scientists in their database. Inclusion in CMS phone book requires passport and sponsorship and other checks. So it is pretty safe.  However, the removal of the user from CMS VOMS server is NOT really enforced. I understand that people can leave from the CMS phone book, but this information does not propagate to CMS VOMS servers. The server can certainly be synchronized with the book. But this does not happen now. Burt will bring us more information after the next year. last updated 12/22/09
   * Atlas has a similar situation as CMS does. They rely on CERN HR database for including anyone in the VOMS membership. To get into the Atlas database at CERN, one must gain entry into CERN HR database and also be approved by Atlas secretary. For removing a person, they basically do nothing. Each year they ask the users to renew their membership and during that the user has to click on the Atlas AUP. But there is no checks against the Atlas phone book whether the person still is a member or not. John Hover will give us more information Dec 22/209
   * OSG VO includes people in their membership after being checked by the VO manager. When a person applies for membership, VO manager checks their affiliation with their home organization. The VO manager calls or checks the organization's phone book to confirm the email address. The scientific purpose of the new member is asked, but it is not verified. The VO manager watch out the usage consumption by the new members. If it seems too much, Vo manager intervenes. Each year OSG VO membership expires. When the renewal notices come, VO manager re-evaluates the membership conditions. OSG VO considers moving non-OSG staff members to Engage VOMS server. 


  



-- Main.DougOlson - 18 Aug 2009