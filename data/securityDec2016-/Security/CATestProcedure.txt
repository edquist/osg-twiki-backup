%META:TOPICINFO{author="NehaSharma" date="1426802248" format="1.1" reprev="1.8" version="1.8"}%
%META:TOPICPARENT{name="SecurityTeamWorkingArea"}%
<!--
   * Set ALLOWTOPICVIEW = Main.GridGroup    
   * Set ALLOWTOPICCHANGE = Main.SecurityTeamGroup, Main.NehaSharma
   * Set DENYTOPICVIEW = Main.TwikiGuest
-->
%TOC%
---+ OSG CA Testing Plan

---++ Purpose
The OSG CA was designed with a modular architecture, so new back-end signing CAs can be used to do the actual certificate signing. This is the procedure to verify a new signing CA is working correctly.

---++ Testing Phases

| *Phase* | *Owner* | *Co-ordinator* | *Duration* |  
| All CA functions work correctly with the new signing CA | OSG Operations/Security Team,Neha || _4/1/15 - 4/30/15_ |
| Testing on ITB servers to uncover any issues with the new certs and existing OSG software | ITB Site Admins | OSG Security,Neha | _5/1/15 - 6/30/15_ |
| Invite VOs to test custom software/workflows with new certificates | VO Managers | OSG Security,Neha | _5/1/15 - 6/30/15_ |

---++ CA Functionality Tests
---+++ Getting Personal Cert
   * New cert should be able to be requested, approved and imported into browsers.
   * New DN should appear in expected format.
   * Numeric prefix should be the same as in the old certificate.

---+++ Renewing Personal Cert
   * New certs should be able to be renewed successfully. 
   * May be issues with testing this with production setup without waiting 13 months. 
   * Should be able to test a shorter lived cert.
   * Test whether users with existing DigiCert certs can get new certificates without going through identity vetting

---+++ Revoking User Cert
   * Revoke certificate via OIM interface.
   * Verify certificate's serial number appears in published CRL within expected time limit. (? hours)

---+++ Getting Host Cert
   * Get host cert via command line tools.
   * Verify DN matches old certificate with new prefix.
   * Get host cert via OIM web interface.
   * Verify DN matches old certificate with new prefix.

---+++ Revoking Host Cert
   * Revoke host cert via OIM web interface.
   * Verify certificate's serial number appears in published CRL within expected time limit. (? hours)

---++ ITB Tests
   Request sites with ITB servers to install CA certs for the new signing CA as well as new host certs for the ITB servers.

---+++ Test Use cases

| *Service* | *Use Case* |
| VOMS | Should be able to add new CA signed personal cert to existing VOMS account and be successfully approved|
|| New user registration with new cert should also work|
|| voms-proxy-init with new cert should work |
| GUMS | Running jobs with new cert when mapped via gums should work correctly |
| Job submission to Condor | Submit test job with VOMS proxy derived from new CA cert should run correctly |
| !GridFTP| Should be able to authenticate and transfer files with proxies derived from new CA signed certs |

---+++ Test Results
| *Site* | *Admin* | *Service* | *Status* | *Notes* |
| Test Site1  | Admin | Service1 | %GREEN%OK%ENDCOLOR% | See Test details (1) | 
|   |  | Service2 | %RED%FAIL%ENDCOLOR% | See Test details (2) and Known Issues (1) |
| Test Site2  | Admin | Service1 | %GREEN%OK%ENDCOLOR% | See Test details (3) | 
|  |  |  |  | | 

---+++ Test Details

   * (1) Service1 started up ok and was able to authenticate clients
   * (2) Service2 couldn't talk to Service3

---+++ Known Issues
JIRA tickets will be created for items that require fixing.
   * (1) Service2 fails to even startup
   * (2) 

---+++ Other Software
   * Other available software should be tested and verified to function correctly with certs signed by the new CA.
   * Reported test results should be compiled here.
   * _initial software list taken from SoftwareTeam.ComponentHome_

---++ Testing VO-specific software
   * Each VO should test their software that handles certificates.


---++ Checklist

| *Software* | *Test Result* | *Test Notes* | *Reported By* |
| !BeStMan  | | | | 
| CA certificates  | | | | 
| cctools  | | | | 
| !CEMon  | | | | 
| CVMFS  | | | | 
| Fetch CRL  | | | | 
| Frontier Squid  | | | | 
| Generic Information Provider (GIP)  | | | | 
| !GlideinWMS VO Frontend  | | | | 
| !GlideTester  | | | | 
| Globus GRAM; gatekeeper, jobmanagers  | | | | 
| Gratia  | | | | 
| !GridFTP  | | | | 
| !GSI-OpenSSH  | | | | 
| GUMS  | | | | 
| !HTCondor CE and BLAHP  | | | | 
| Hadoop Distributed File System (HDFS)  | | | | 
| !InstalledCapacityReport  | | | | 
| Java  | | | | 
| OSG Configure  | | | | 
| OSG Display  | | | | 
| OSG Info Services  | | | | 
| OSG PKI Tools  | | | | 
| RSV  | | | | 
| VO Package aka vo-client  | | | | 
| VOMS  | | | | 
| VOMS Admin  | | | | 
| !XRootD  | | | | 



-- Main.KevinHill - 20 Feb 2015
