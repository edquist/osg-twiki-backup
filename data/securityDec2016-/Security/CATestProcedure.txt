%META:TOPICINFO{author="KevinHill" date="1424895119" format="1.1" version="1.5"}%
%META:TOPICPARENT{name="SecurityTeamWorkingArea"}%
<!--
   * Set ALLOWTOPICVIEW = Main.GridGroup    
   * Set ALLOWTOPICCHANGE = Main.SecurityTeamGroup    
   * Set DENYTOPICVIEW = Main.TwikiGuest
-->
---+ OSG CA Test Procedure
The OSG CA was designed with a modular architecture, so new back-end signing CAs can be used to do the actual certificate signing. This is the procedure to verify a new signing CA is working correctly.

---++ Testing Plan
Testing will include two parts. 
   * Testing all CA functions work correctly with the new signing CA. _4/1/15 - 4/30/15_
   * Testing on ITB servers to uncover any issues with the new certs and existing OSG software. _5/1/15 - 6-/30/15_

---++ CA Function Tests
   * To be carried out by OSG Operations and OSG Security Team. Should take 1 week.

---+++ Getting Personal Cert
   * New cert should be able to be requested, approved and imported into browsers.
   * New DN should appear in expected format.
   * Numeric prefix should be the same as in the old certificate.

---+++ Renewing Personal Cert
   * New certs should be able to be renewed successfully. 
   * May be issues with testing this with production setup without waiting 13 months. 
   * Should be able to test a shorter lived cert.
   * Test whether users with existing DigiCert certs can get new certificates without going through identity vetting

---+++ Revoking User Cert
   * Revoke certificate via OIM interface.
   * Verify certificate's serial number appears in published CRL within expected time limit. (? hours)

---+++ Getting Host Cert
   * Get host cert via command line tools.
   * Verify DN matches old certificate with new prefix.
   * Get host cert via OIM web interface.
   * Verify DN matches old certificate with new prefix.

---+++ Revoking Host Cert
   * Revoke host cert via OIM web interface.
   * Verify certificate's serial number appears in published CRL within expected time limit. (? hours)

---++ ITB testing
   * Request sites with ITB servers to install CA certs for the new signing CA as well as new host certs for the ITB servers.
   * OSG Security Team will coordinate testing.
   * Will test for up to 3 months.

---+++ Testing VOMS
   * Should be able to add new CA signed personal cert to existing VOMS account and be successfully approved. 
   * New user registration with new cert should also work. 
   * voms-proxy-init with new cert should work.

---+++ Testing GUMS
   * Running jobs with new cert when mapped via gums should work correctly.

---+++ Submitting Jobs To Condor
   * Submit test job with VOMS proxy derived from new CA cert should run correctly.

---+++ !GridFTP
   * Should be able to authenticate and transfer files with proxies derived from new CA signed certs.

---+++ Testing VO-specific software
   * Each VO should test their software that handles certificates 

---+++ Other Software
   * Other available software should be tested and verified to function correctly with certs signed by the new CA.
   * Reported test results should be compiled here.
   * _initial software list taken from SoftwareTeam.ComponentHome_

| *Software* | *Test Result* | *Test Notes* | *Reported By* |
| !BeStMan  | | | | 
| CA certificates  | | | | 
| cctools  | | | | 
| !CEMon  | | | | 
| CVMFS  | | | | 
| Fetch CRL  | | | | 
| Frontier Squid  | | | | 
| Generic Information Provider (GIP)  | | | | 
| !GlideinWMS VO Frontend  | | | | 
| !GlideTester  | | | | 
| Globus GRAM; gatekeeper, jobmanagers  | | | | 
| Gratia  | | | | 
| !GridFTP  | | | | 
| !GSI-OpenSSH  | | | | 
| GUMS  | | | | 
| !HTCondor CE and BLAHP  | | | | 
| Hadoop Distributed File System (HDFS)  | | | | 
| !InstalledCapacityReport  | | | | 
| Java  | | | | 
| OSG Configure  | | | | 
| OSG Display  | | | | 
| OSG Info Services  | | | | 
| OSG PKI Tools  | | | | 
| RSV  | | | | 
| VO Package aka vo-client  | | | | 
| VOMS  | | | | 
| VOMS Admin  | | | | 
| !XRootD  | | | | 



-- Main.KevinHill - 20 Feb 2015