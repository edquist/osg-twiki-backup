<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns:st2="isiresearchsoft-com/cwyw" xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=us-ascii">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="L7_exercises.v3_files/filelist.xml">
<link rel=Edit-Time-Data href="L7_exercises.v3_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Exercises for Lecture 3: Grid Resources and Job Management</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place" downloadurl="http://www.5iantlavalamp.com/"/>
<o:SmartTagType namespaceuri="isiresearchsoft-com/cwyw" name="citation"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Michael Wilde</o:Author>
  <o:LastAuthor>Mike Wilde</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>627</o:TotalTime>
  <o:LastPrinted>2004-06-24T16:57:00Z</o:LastPrinted>
  <o:Created>2005-07-14T13:48:00Z</o:Created>
  <o:LastSaved>2005-07-14T13:48:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>3170</o:Words>
  <o:Characters>18070</o:Characters>
  <o:Company>Argonne National Laboratory</o:Company>
  <o:Lines>150</o:Lines>
  <o:Paragraphs>42</o:Paragraphs>
  <o:CharactersWithSpaces>21198</o:CharactersWithSpaces>
  <o:Version>11.6360</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:UseWord2002TableStyleRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }st2\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:1627421319 -2147483648 8 0 66047 0;}
@font-face
	{font-family:"Bitstream Vera Sans";
	mso-font-alt:"Trebuchet MS";
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-2147483473 268443722 0 0 1 0;}
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:windowtext;}
h1
	{mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	text-align:center;
	mso-pagination:widow-orphan;
	mso-outline-level:1;
	font-size:24.0pt;
	font-family:"Times New Roman";
	color:windowtext;
	font-weight:bold;}
h2
	{mso-style-link:" Char Char1";
	margin-top:48.0pt;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:2;
	border:none;
	mso-border-top-alt:solid black 1.5pt;
	padding:0in;
	mso-padding-alt:6.0pt 0in 0in 0in;
	font-size:18.0pt;
	font-family:"Times New Roman";
	color:windowtext;
	font-weight:bold;}
h3
	{margin-top:48.0pt;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	mso-outline-level:3;
	border:none;
	mso-border-top-alt:solid #AAAAAA .75pt;
	padding:0in;
	mso-padding-alt:6.0pt 0in 0in 0in;
	font-size:13.5pt;
	font-family:"Times New Roman";
	color:windowtext;
	font-weight:bold;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-noshow:yes;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:windowtext;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:center 3.0in right 6.0in;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:windowtext;}
span.MsoCommentReference
	{mso-style-noshow:yes;
	mso-ansi-font-size:8.0pt;
	mso-bidi-font-size:8.0pt;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{mso-style-noshow:yes;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	background:navy;
	font-size:12.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:"Times New Roman";
	color:windowtext;}
p
	{mso-style-link:" Char Char";
	mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:black;}
pre
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:12.0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
	background:#F0F0F0;
	border:none;
	mso-border-alt:solid black .75pt;
	padding:0in;
	mso-padding-alt:6.0pt 6.0pt 6.0pt 6.0pt;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	color:windowtext;}
tt
	{font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{mso-style-noshow:yes;
	mso-style-parent:"Comment Text";
	mso-style-next:"Comment Text";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	color:windowtext;
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-noshow:yes;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:8.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:"Times New Roman";
	color:windowtext;}
span.CharChar
	{mso-style-name:" Char Char";
	mso-style-locked:yes;
	mso-style-link:"Normal \(Web\)";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	color:black;
	mso-ansi-language:EN-US;
	mso-fareast-language:EN-US;
	mso-bidi-language:AR-SA;}
span.CharChar1
	{mso-style-name:" Char Char1";
	mso-style-locked:yes;
	mso-style-link:"Heading 2";
	mso-ansi-font-size:18.0pt;
	mso-bidi-font-size:18.0pt;
	mso-ansi-language:EN-US;
	mso-fareast-language:EN-US;
	mso-bidi-language:AR-SA;
	font-weight:bold;}
ins
	{mso-style-type:export-only;
	text-decoration:none;}
span.msoIns
	{mso-style-type:export-only;
	mso-style-name:"";
	text-decoration:underline;
	text-underline:single;}
 /* Page Definitions */
 @page
	{mso-footnote-separator:url("L7_exercises.v3_files/header.htm") fs;
	mso-footnote-continuation-separator:url("L7_exercises.v3_files/header.htm") fcs;
	mso-endnote-separator:url("L7_exercises.v3_files/header.htm") es;
	mso-endnote-continuation-separator:url("L7_exercises.v3_files/header.htm") ecs;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-even-footer:url("L7_exercises.v3_files/header.htm") ef1;
	mso-footer:url("L7_exercises.v3_files/header.htm") f1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:190149125;
	mso-list-type:hybrid;
	mso-list-template-ids:-279779696 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1
	{mso-list-id:389155095;
	mso-list-template-ids:-488853158;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l2
	{mso-list-id:875657967;
	mso-list-type:hybrid;
	mso-list-template-ids:62164060 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l2:level1
	{mso-level-tab-stop:.25in;
	mso-level-number-position:left;
	margin-left:.25in;
	text-indent:-.25in;}
@list l3
	{mso-list-id:1601793235;
	mso-list-type:hybrid;
	mso-list-template-ids:-1205151942 67698705 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l3:level1
	{mso-level-text:"%1\)";
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4
	{mso-list-id:1992754104;
	mso-list-type:hybrid;
	mso-list-template-ids:-1041721650 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l4:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5
	{mso-list-id:2083524956;
	mso-list-template-ids:1030536802;}
@list l5:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l6
	{mso-list-id:2109697740;
	mso-list-type:hybrid;
	mso-list-template-ids:-1210795066 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l6:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
  <o:rules v:ext="edit">
   <o:r id="V:Rule2" type="connector" idref="#_x0000_s1059">
    <o:proxy start="" idref="#_x0000_s1051" connectloc="3"/>
    <o:proxy end="" idref="#_x0000_s1055" connectloc="1"/>
   </o:r>
   <o:r id="V:Rule4" type="connector" idref="#_x0000_s1060">
    <o:proxy start="" idref="#_x0000_s1055" connectloc="0"/>
    <o:proxy end="" idref="#_x0000_s1048" connectloc="2"/>
   </o:r>
   <o:r id="V:Rule6" type="connector" idref="#_x0000_s1061">
    <o:proxy start="" idref="#_x0000_s1055" connectloc="2"/>
    <o:proxy end="" idref="#_x0000_s1052" connectloc="0"/>
   </o:r>
   <o:r id="V:Rule10" type="connector" idref="#_x0000_s1063">
    <o:proxy start="" idref="#_x0000_s1048" connectloc="3"/>
    <o:proxy end="" idref="#_x0000_s1056" connectloc="1"/>
   </o:r>
   <o:r id="V:Rule12" type="connector" idref="#_x0000_s1064">
    <o:proxy start="" idref="#_x0000_s1052" connectloc="3"/>
    <o:proxy end="" idref="#_x0000_s1057" connectloc="1"/>
   </o:r>
   <o:r id="V:Rule16" type="connector" idref="#_x0000_s1066">
    <o:proxy start="" idref="#_x0000_s1048" connectloc="3"/>
    <o:proxy end="" idref="#_x0000_s1057" connectloc="1"/>
   </o:r>
   <o:r id="V:Rule18" type="connector" idref="#_x0000_s1067">
    <o:proxy start="" idref="#_x0000_s1052" connectloc="3"/>
    <o:proxy end="" idref="#_x0000_s1056" connectloc="1"/>
   </o:r>
   <o:r id="V:Rule20" type="connector" idref="#_x0000_s1068">
    <o:proxy start="" idref="#_x0000_s1056" connectloc="3"/>
    <o:proxy end="" idref="#_x0000_s1053" connectloc="1"/>
   </o:r>
   <o:r id="V:Rule22" type="connector" idref="#_x0000_s1069">
    <o:proxy start="" idref="#_x0000_s1057" connectloc="3"/>
    <o:proxy end="" idref="#_x0000_s1054" connectloc="1"/>
   </o:r>
   <o:r id="V:Rule24" type="connector" idref="#_x0000_s1070">
    <o:proxy start="" idref="#_x0000_s1053" connectloc="2"/>
    <o:proxy end="" idref="#_x0000_s1058" connectloc="0"/>
   </o:r>
   <o:r id="V:Rule26" type="connector" idref="#_x0000_s1071">
    <o:proxy start="" idref="#_x0000_s1054" connectloc="0"/>
    <o:proxy end="" idref="#_x0000_s1058" connectloc="2"/>
   </o:r>
   <o:r id="V:Rule28" type="connector" idref="#_x0000_s1072">
    <o:proxy start="" idref="#_x0000_s1058" connectloc="3"/>
    <o:proxy end="" idref="#_x0000_s1044" connectloc="1"/>
   </o:r>
  </o:rules>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor=white lang=EN-US link=blue vlink=blue style='tab-interval:.5in'>

<div class=Section1>

<h1><span style='color:black'>Exercises for Lecture 7:<o:p></o:p></span></h1>

<h1><span style='color:black'>Introduction to Virtual Data Language<o:p></o:p></span></h1>

<p>In this brief set of exercises we introduce the Virtual Data Language
through a few simple examples, run locally on your desktop.</p>

<div style='mso-element:para-border-div;border:none;border-top:solid black 1.5pt;
padding:6.0pt 0in 0in 0in'>

<h2><span style='color:black'>Table of Contents<o:p></o:p></span></h2>

</div>

<ul type=disc>
 <li class=MsoNormal style='color:black;mso-margin-top-alt:auto;mso-margin-bottom-alt:
     auto;mso-list:l1 level1 lfo1;tab-stops:list .5in'>Part I: Hello World in
     VDL<o:p></o:p></li>
 <li class=MsoNormal style='color:black;mso-margin-top-alt:auto;mso-margin-bottom-alt:
     auto;mso-list:l1 level1 lfo1;tab-stops:list .5in'>Part II: A simple VDL
     workflow<o:p></o:p></li>
 <li class=MsoNormal style='color:black;mso-margin-top-alt:auto;mso-margin-bottom-alt:
     auto;mso-list:l1 level1 lfo1;tab-stops:list .5in'>Part III: A Real fMRI
     data processing workflow<o:p></o:p></li>
 <li class=MsoNormal style='color:black;mso-margin-top-alt:auto;mso-margin-bottom-alt:
     auto;mso-list:l1 level1 lfo1;tab-stops:list .5in'><a name="_Terminology"></a><a
     name=setup></a>Terminology<o:p></o:p></li>
</ul>

<div style='mso-element:para-border-div;border:none;border-top:solid black 1.5pt;
padding:6.0pt 0in 0in 0in'>

<h2><span class=CharChar1>Part I: &#8220;Hello World&#8221; Example<o:p></o:p></span></h2>

</div>

<p><a name="simple_job"></a>Verify that your training login is set up correctly
to use the VDS:</p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><span style='color:black'>gk1$ <strong><span style='font-family:"Courier New"'>vds-version<o:p></o:p></span></strong></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><strong><span style='font-family:
"Courier New";color:black;font-weight:normal;mso-bidi-font-weight:bold'>1.3.8<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;background:#F0F0F0'><strong><span style='font-family:
"Courier New";color:black;font-weight:normal;mso-bidi-font-weight:bold'>gk1$<o:p></o:p></span></strong></pre></div>

<p>We are using a single, shared virtual data catalog database for the entire
class for this exercise, and will use the <b>namespace</b> feature of VDL to
keep everyone&#8217;s VDL definitions separate. Here, namespaces serve as a
directory-like object, but note that they currently provide no security. Since
in these examples we generate VDL for you, we should all be able to safely
share the same catalog. Here we search the namespace &#8220;air&#8221; where we
defined some shared transformations that serve as interfaces to the AIR fMRI
analysis package (Automated Image Registration), a well as the single UNIX
command &#8220;echo&#8221;, which serves for us as a &#8220;mock
application&#8221;.<span style='mso-spacerun:yes'>&nbsp; </span></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><strong><span style='font-family:"Courier New";color:black;font-weight:
normal;mso-bidi-font-weight:bold'><o:p>&nbsp;</o:p></span></strong></pre><pre
style='margin-left:0in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 243.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:#F0F0F0'><strong><span style='font-family:"Courier New";color:black;
font-weight:normal;mso-bidi-font-weight:bold'>gk1$ </span></strong><strong><span
style='font-family:"Courier New";color:black;mso-bidi-font-weight:normal'>searchvdc -n air</span></strong><strong><span
style='font-family:"Courier New";color:black;font-weight:normal;mso-bidi-font-weight:
bold'><o:p></o:p></span></strong></pre><pre style='margin-left:0in;tab-stops:
45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 243.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:#F0F0F0'><strong><span style='font-family:"Courier New";color:black;
font-weight:normal;mso-bidi-font-weight:bold'>2005.07.13 15:47:39.877 CDT: [app] searching the database<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 243.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:#F0F0F0'><strong><span style='font-family:"Courier New";color:black;
font-weight:normal;mso-bidi-font-weight:bold'>2005.07.13 15:47:39.880 CDT: [app] wildcard search requested<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 243.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:#F0F0F0'><strong><span style='font-family:"Courier New";color:black;
font-weight:normal;mso-bidi-font-weight:bold'>2005.07.13 15:47:41.439 CDT: [app] found 6 matches total<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 243.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:#F0F0F0'><strong><span style='font-family:"Courier New";color:black;
font-weight:normal;mso-bidi-font-weight:bold'>air::alignlinear<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 243.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:#F0F0F0'><strong><span style='font-family:"Courier New";color:black;
font-weight:normal;mso-bidi-font-weight:bold'>air::align_warp<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 243.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:#F0F0F0'><strong><span style='font-family:"Courier New";color:black;
font-weight:normal;mso-bidi-font-weight:bold'>air::definecommon_air<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 243.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:#F0F0F0'><strong><span style='font-family:"Courier New";color:black;
font-weight:normal;mso-bidi-font-weight:bold'>air::reslice<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 243.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:#F0F0F0'><strong><span style='font-family:"Courier New";color:black;
font-weight:normal;mso-bidi-font-weight:bold'>air::reslice_warp<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 243.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:#F0F0F0'><strong><span style='font-family:"Courier New";color:black;
font-weight:normal;mso-bidi-font-weight:bold'>air::softmean<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 243.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;
background:#F0F0F0'><strong><span style='font-family:"Courier New";color:black;
font-weight:normal;mso-bidi-font-weight:bold'>gk1$ <span style='mso-spacerun:yes'>&nbsp;</span></span></strong><strong><span
style='font-family:"Courier New";color:black'><o:p></o:p></span></strong></pre></div>

<p>Try doing a similar search of the namespace &#8220;unix&#8221;.</p>

<p class=MsoNormal>Now, to begin, copy the exercise directory structure
&#8220;ex7&#8221; to your home directory:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>cp -r /home/vdsdemo/ex7 $HOME</b></pre><pre style='margin-left:
0in;background:#F0F0F0'>gk1$</pre></div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Change to the &#8220;hello world&#8221; exercise directory,
issue &#8220;make clean&#8221; to initialize the vdl and configuration files,
and examine the <b>hello.vdl</b> file for this demo:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>cd $HOME/ex7/hello</b></pre><pre style='margin-left:0in;
background:#F0F0F0'>gk1$ <b>make clean</b></pre><pre style='margin-left:0in;
background:#F0F0F0'>gk1$ <b>cat hello.vdl<o:p></o:p></b></pre><pre
style='margin-left:0in;background:#F0F0F0'><o:p>&nbsp;</o:p></pre><pre
style='margin-left:0in;background:#F0F0F0'>TR unix::echo( message, output file )</pre><pre
style='margin-left:0in;background:#F0F0F0'>{</pre><pre style='margin-left:0in;
background:#F0F0F0'><span style='mso-spacerun:yes'>&nbsp; </span>argument = $<st2:citation
w:st="on">{message}</st2:citation>;</pre><pre style='margin-left:0in;
background:#F0F0F0'><span style='mso-spacerun:yes'>&nbsp; </span>argument stdout = $<st2:citation
w:st="on">{file}</st2:citation>;</pre><pre style='margin-left:0in;background:
#F0F0F0'>}</pre><pre style='margin-left:0in;background:#F0F0F0'><o:p>&nbsp;</o:p></pre><pre
style='margin-left:0in;background:#F0F0F0'>DV wilde::hello-&gt;unix::echo(</pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>message = &quot;Hello World!&quot;, </pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>file = @<st2:citation
w:st="on">{output:&quot;hello.out&quot;}</st2:citation></pre><pre
style='margin-left:0in;background:#F0F0F0'>);</pre><pre style='margin-left:
0in;background:#F0F0F0'>gk1$</pre></div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Then, compile the .vdl file, and generate the
&#8220;abstract&#8221; workflow (.dax file) and the concrete workflow (in this
case, a &#8220;shell&#8221; execution script). The steps to do this are
performed (and echoed) by &#8220;<b>make workflow</b>&#8221;, which runs the <b>vdlc</b>
command to compile the VDL and insert the TR and DV definitions into the
virtual data catalog (VDC), and then runs <b>shplanner</b> to convert the
abstract workflow into an executable shell script.<span
style='mso-spacerun:yes'>&nbsp; </span>Since this shell<span
style='mso-spacerun:yes'>&nbsp; </span>script is machine-generated, its
somewhat general but rather hard to read. Feel free to inspect it &#8211; the
main shell script is called<b> test.sh</b> and it calls one sub-script file per
derivation.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>make workflow</b></pre><pre style='margin-left:0in;background:
#F0F0F0'>echo &quot;Compiling VDL and building dax:&quot;</pre><pre
style='margin-left:0in;background:#F0F0F0'>Compiling VDL and building dax:</pre><pre
style='margin-left:0in;background:#F0F0F0'>vdlc -u -o hello.dax hello.vdl</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.14 08:02:31.295 CDT: [app] parsing &quot;hello.vdl&quot;</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.14 08:02:33.118 CDT: [app] Trying to add TR unix::echo</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.14 08:02:33.128 CDT: [app] Trying to add DV wilde::hello</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.14 08:02:33.215 CDT: [app] requesting wilde::hello (1/1)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.14 08:02:33.246 CDT: [app] saving output to hello.dax</pre><pre
style='margin-left:0in;background:#F0F0F0'>shplanner -o . hello.dax</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.14 08:02:34.287 CDT: [app] will use /opt/vds/etc/dax-1.10.xsd</pre><pre
style='margin-left:0in;background:#F0F0F0'>gk1$ <b>cat hello.dax<o:p></o:p></b></pre><pre
style='margin-left:0in;background:#F0F0F0'>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'>&lt;!-- generated: 2005-07-14T08:04:06-05:00 --&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'>&lt;!-- generated by: wilde [??] --&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'>&lt;adag xmlns=&quot;http://www.griphyn.org/chimera/DAX&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.griphyn.org/chimera/DAX http://www.griphyn.org/chimera/dax-1.10.xsd&quot; version=&quot;1.10&quot; count=&quot;1&quot; index=&quot;0&quot; name=&quot;test&quot; jobCount=&quot;1&quot; fileCount=&quot;1&quot; childCount=&quot;0&quot;&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'>&lt;!-- part 1: list of all referenced files (may be empty) --&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='mso-spacerun:yes'>&nbsp; </span>&lt;filename file=&quot;hello.out&quot; link=&quot;output&quot;/&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'>&lt;!-- part 2: definition of all jobs (at least one) --&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='mso-spacerun:yes'>&nbsp; </span>&lt;job id=&quot;ID000001&quot; namespace=&quot;unix&quot; name=&quot;echo&quot; level=&quot;1&quot; dv-namespace=&quot;wilde&quot; dv-name=&quot;hello&quot;&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span><b>&lt;argument&gt;Hello World! &lt;/argument&gt;<o:p></o:p></b></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>&lt;stdout file=&quot;hello.out&quot; link=&quot;output&quot; varname=&quot;file&quot;/&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>&lt;uses file=&quot;hello.out&quot; link=&quot;output&quot; dontRegister=&quot;false&quot; dontTransfer=&quot;false&quot;/&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='mso-spacerun:yes'>&nbsp; </span>&lt;/job&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'>&lt;!-- part 3: list of control-flow dependencies (may be empty) --&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'>&lt;/adag&gt;</pre><pre
style='margin-left:0in;background:#F0F0F0'>gk1$</pre></div>

<p><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:none;border-top:solid black 1.5pt;
padding:6.0pt 0in 0in 0in'>

<h2><a name="_Part_II:_Hello_World in VDL"></a><a
name="_Part_IV:_Running_a full Workflow in"></a><span style='color:black'>Part II:
Running a simple workflow in VDL<o:p></o:p></span></h2>

</div>

<p><!--[if mso & !supportInlineShapes & supportFields]><span style='mso-element:
field-begin;mso-field-lock:yes'></span><span
style='mso-spacerun:yes'>&nbsp;</span>SHAPE<span
style='mso-spacerun:yes'>&nbsp; </span>\* MERGEFORMAT <span style='mso-element:
field-separator'></span><![endif]--><!--[if gte vml 1]><v:group id="_x0000_s1049"
 editas="canvas" style='width:6in;height:198pt;
 mso-position-horizontal-relative:char;mso-position-vertical-relative:line'
 coordorigin="1808,9027" coordsize="8640,3960">
 <o:lock v:ext="edit" aspectratio="t"/>
 <v:shapetype id="_x0000_t75" coordsize="21600,21600" o:spt="75"
  o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
  <v:stroke joinstyle="miter"/>
  <v:formulas>
   <v:f eqn="if lineDrawn pixelLineWidth 0"/>
   <v:f eqn="sum @0 1 0"/>
   <v:f eqn="sum 0 0 @1"/>
   <v:f eqn="prod @2 1 2"/>
   <v:f eqn="prod @3 21600 pixelWidth"/>
   <v:f eqn="prod @3 21600 pixelHeight"/>
   <v:f eqn="sum @0 0 1"/>
   <v:f eqn="prod @6 1 2"/>
   <v:f eqn="prod @7 21600 pixelWidth"/>
   <v:f eqn="sum @8 21600 0"/>
   <v:f eqn="prod @7 21600 pixelHeight"/>
   <v:f eqn="sum @10 21600 0"/>
  </v:formulas>
  <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
  <o:lock v:ext="edit" aspectratio="t"/>
 </v:shapetype><v:shape id="_x0000_s1050" type="#_x0000_t75" style='position:absolute;
  left:1808;top:9027;width:8640;height:3960' o:preferrelative="f">
  <v:fill o:detectmouseclick="t"/>
  <v:path o:extrusionok="t" o:connecttype="none"/>
  <o:lock v:ext="edit" text="t"/>
 </v:shape><v:shapetype id="_x0000_t114" coordsize="21600,21600" o:spt="114"
  path="m,20172v945,400,1887,628,2795,913c3587,21312,4342,21370,5060,21597v2037,,2567,-227,3095,-285c8722,21197,9325,20970,9855,20800v490,-228,945,-400,1472,-740c11817,19887,12347,19660,12875,19375v567,-228,1095,-513,1700,-740c15177,18462,15782,18122,16537,17950v718,-113,1398,-398,2228,-513c19635,17437,20577,17322,21597,17322l21597,,,xe">
  <v:stroke joinstyle="miter"/>
  <v:path o:connecttype="custom" o:connectlocs="10800,0;0,10800;10800,20400;21600,10800"
   textboxrect="0,0,21600,17322"/>
 </v:shapetype><v:shape id="_x0000_s1051" type="#_x0000_t114" style='position:absolute;
  left:1808;top:10827;width:900;height:540' fillcolor="#ff9">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt;font-family:"Arial Black"'>f.a<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1052" type="#_x0000_t114" style='position:absolute;
  left:3968;top:12087;width:900;height:539' fillcolor="#ff9">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt;font-family:"Arial Black"'>f.b1<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1048" type="#_x0000_t114" style='position:absolute;
  left:3968;top:9387;width:900;height:539' fillcolor="#ff9">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt;font-family:"Arial Black"'>f.b2<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1044" type="#_x0000_t114" style='position:absolute;
  left:9548;top:10647;width:900;height:542' fillcolor="#ff9">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt;font-family:"Arial Black"'>f.d<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1053" type="#_x0000_t114" style='position:absolute;
  left:7388;top:9387;width:900;height:539' fillcolor="#ff9">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt;font-family:"Arial Black"'>f.c1<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1054" type="#_x0000_t114" style='position:absolute;
  left:7388;top:12087;width:900;height:541' fillcolor="#ff9">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt;font-family:"Arial Black"'>f.c2<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shapetype id="_x0000_t176" coordsize="21600,21600" o:spt="176"
  adj="2700" path="m@0,qx0@0l0@2qy@0,21600l@1,21600qx21600@2l21600@0qy@1,xe">
  <v:stroke joinstyle="miter"/>
  <v:formulas>
   <v:f eqn="val #0"/>
   <v:f eqn="sum width 0 #0"/>
   <v:f eqn="sum height 0 #0"/>
   <v:f eqn="prod @0 2929 10000"/>
   <v:f eqn="sum width 0 @3"/>
   <v:f eqn="sum height 0 @3"/>
   <v:f eqn="val width"/>
   <v:f eqn="val height"/>
   <v:f eqn="prod width 1 2"/>
   <v:f eqn="prod height 1 2"/>
  </v:formulas>
  <v:path gradientshapeok="t" limo="10800,10800" o:connecttype="custom"
   o:connectlocs="@8,0;0,@9;@8,@7;@6,@9" textboxrect="@3,@3,@4,@5"/>
 </v:shapetype><v:shape id="_x0000_s1055" type="#_x0000_t176" style='position:absolute;
  left:3068;top:10647;width:1620;height:721' fillcolor="#9cf">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt;font-family:"Arial Black"'>top<br>
     </span><span style='font-size:10.0pt;font-family:"Bitstream Vera Sans"'>preprocess<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1056" type="#_x0000_t176" style='position:absolute;
  left:5588;top:9387;width:1440;height:719' fillcolor="#9cf">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt;font-family:"Arial Black"'>right<br>
     </span><span style='font-size:10.0pt;font-family:"Bitstream Vera Sans"'>findrange<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1057" type="#_x0000_t176" style='position:absolute;
  left:5588;top:11907;width:1440;height:721' fillcolor="#9cf">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt;font-family:"Arial Black"'>left<br>
     </span><span style='font-size:10.0pt;font-family:"Bitstream Vera Sans"'>findrange<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shape id="_x0000_s1058" type="#_x0000_t176" style='position:absolute;
  left:7748;top:10647;width:1440;height:721' fillcolor="#9cf">
  <v:textbox>
   <![if !mso]>
   <table cellpadding=0 cellspacing=0 width="100%">
    <tr>
     <td><![endif]>
     <div>
     <p class=MsoNormal align=center style='text-align:center'><span
     style='font-size:10.0pt;font-family:"Arial Black"'>bottom<br>
     </span><span style='font-size:10.0pt;font-family:"Bitstream Vera Sans"'>analyze<o:p></o:p></span></p>
     </div>
     <![if !mso]></td>
    </tr>
   </table>
   <![endif]></v:textbox>
 </v:shape><v:shapetype id="_x0000_t32" coordsize="21600,21600" o:spt="32"
  o:oned="t" path="m,l21600,21600e" filled="f">
  <v:path arrowok="t" fillok="f" o:connecttype="none"/>
  <o:lock v:ext="edit" shapetype="t"/>
 </v:shapetype><v:shape id="_x0000_s1059" type="#_x0000_t32" style='position:absolute;
  left:2708;top:11008;width:360;height:89;flip:y' o:connectortype="straight">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1060" type="#_x0000_t32" style='position:absolute;
  left:3878;top:9896;width:540;height:751;flip:y' o:connectortype="straight">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1061" type="#_x0000_t32" style='position:absolute;
  left:3878;top:11368;width:540;height:719' o:connectortype="straight">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1063" type="#_x0000_t32" style='position:absolute;
  left:4868;top:9657;width:720;height:90' o:connectortype="straight">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1064" type="#_x0000_t32" style='position:absolute;
  left:4868;top:12268;width:720;height:89;flip:y' o:connectortype="straight">
  <v:stroke endarrow="block"/>
 </v:shape><v:shapetype id="_x0000_t38" coordsize="21600,21600" o:spt="38"
  o:oned="t" path="m,c@0,0@1,5400@1,10800@1,16200@2,21600,21600,21600e"
  filled="f">
  <v:formulas>
   <v:f eqn="mid #0 0"/>
   <v:f eqn="val #0"/>
   <v:f eqn="mid #0 21600"/>
  </v:formulas>
  <v:path arrowok="t" fillok="f" o:connecttype="none"/>
  <v:handles>
   <v:h position="#0,center"/>
  </v:handles>
  <o:lock v:ext="edit" shapetype="t"/>
 </v:shapetype><v:shape id="_x0000_s1066" type="#_x0000_t38" style='position:absolute;
  left:4868;top:9657;width:720;height:2611' o:connectortype="curved" adj="10800,-72345,-146040">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1067" type="#_x0000_t38" style='position:absolute;
  left:4868;top:9747;width:720;height:2610;flip:y' o:connectortype="curved"
  adj="10800,94717,-146040">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1068" type="#_x0000_t32" style='position:absolute;
  left:7028;top:9657;width:360;height:90;flip:y' o:connectortype="straight">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1069" type="#_x0000_t32" style='position:absolute;
  left:7028;top:12268;width:360;height:90' o:connectortype="straight">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1070" type="#_x0000_t32" style='position:absolute;
  left:7838;top:9896;width:630;height:751' o:connectortype="straight">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1071" type="#_x0000_t32" style='position:absolute;
  left:7838;top:11368;width:630;height:719;flip:y' o:connectortype="straight">
  <v:stroke endarrow="block"/>
 </v:shape><v:shape id="_x0000_s1072" type="#_x0000_t32" style='position:absolute;
  left:9188;top:10918;width:360;height:90;flip:y' o:connectortype="straight">
  <v:stroke endarrow="block"/>
 </v:shape><w:wrap type="none"/>
 <w:anchorlock/>
</v:group><![endif]--><![if !vml]><img width=582 height=264
src="L7_exercises.v3_files/image001.gif" v:shapes="_x0000_s1049 _x0000_s1050 _x0000_s1051 _x0000_s1052 _x0000_s1048 _x0000_s1044 _x0000_s1053 _x0000_s1054 _x0000_s1055 _x0000_s1056 _x0000_s1057 _x0000_s1058 _x0000_s1059 _x0000_s1060 _x0000_s1061 _x0000_s1063 _x0000_s1064 _x0000_s1066 _x0000_s1067 _x0000_s1068 _x0000_s1069 _x0000_s1070 _x0000_s1071 _x0000_s1072"><![endif]><!--[if mso & !supportInlineShapes & supportFields]><v:shape
 id="_x0000_i1025" type="#_x0000_t75" style='width:6in;height:198pt'>
 <v:imagedata croptop="-65520f" cropbottom="65520f"/>
</v:shape><span style='mso-element:field-end'></span><![endif]--></p>

<p>Shown above is the workflow of a simple&#8220;diamond&#8221; DAG. The
&#8220;document&#8221; symbols represent logical files (f.a, f.b.1, etc), and
the bubbles represent jobs. The derivation name is printed bold while the
transformation name is printed below. The workflow illustrates the fanning in
and fanning out of data, for example, for the parallel execution and reuse of
transformations for similar computations. The workflow uses one input file
(f.a), which must be registered with in a replica catalog. For these exercises,
we use a simple text file for this (located in <b>$HOME/.vds/rc.data</b>) that
maps between logical and physical filenames. Production workflows typically use
the Globus RLS service discussed in Lecture 4.</p>

<p>The first transformation &#8220;preprocess&#8221; takes one input file, and
turns it into two output files. To illustrate advanced VDL features, we will
use the list to describe output files. Lists can have any number of elements,
from zero to whatever your computer is capable of processing (note: there are
usually Condor-G and command-line limits). </p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><span style='color:black'>TR tut::preprocess( output b[], input a ) <st2:citation
w:st="on">{<br>
<span style='mso-spacerun:yes'>&nbsp; </span>argument = &quot;-a top&quot;;<br>
<span style='mso-spacerun:yes'>&nbsp; </span>argument = &quot; &#8211;i &quot;${input:a}</st2:citation>;<br>
<span style='mso-spacerun:yes'>&nbsp; </span>argument = &quot; &#8211;o &quot; $<st2:citation
w:st="on">{output:b}</st2:citation>; <o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>}<o:p></o:p></span></pre></div>

<p>The next transformation &#8220;findrange&#8221; is used by two derivations
&#8220;left&#8221; and &#8220;right&#8221;. The transformation itself reads
from two files and produces one file. The transformation below shows the
advanced VDL-feature of default arguments. Any default argument may be
overwritten by a derivation. </p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><span style='color:black'>TR tut::findrange( output b, input a1, input a2, <o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>none name=&quot;findrange&quot;, none p=&quot;0.0&quot; ) <st2:citation
w:st="on">{<br>
argument = &quot;-a &quot;${name}</st2:citation>;<br>
argument = &quot; &#8211;i &quot; $<st2:citation w:st="on">{a1}</st2:citation> &quot; &quot; $<st2:citation
w:st="on">{a2}</st2:citation>;<br>
argument = &quot; &#8211;o &quot; $<st2:citation w:st="on">{b}</st2:citation>;<br>
argument = &quot; &#8211;p &quot; $<st2:citation w:st="on">{p}</st2:citation>; <o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>}<o:p></o:p></span></pre></div>

<p>Alternatively, we could also have used the list feature.</p>

<p>[Exercise: Write a TR tut::findrange2 to use a list of input files instead
of a1 and a2. You must rewrite the formal arguments in the transformation
headers as well as when the formal arguments are used inside the body. Compare
with &#8220;analyze&#8221;.]</p>

<p>The final transformation &#8220;analyze&#8221; reads input files to produce
one result.</p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><span style='color:black'>TR tut::analyze( output b, input a[] ) <st2:citation
w:st="on">{<br>
<span style='mso-spacerun:yes'>&nbsp; </span>argument = &quot;-a bottom&quot;;<br>
<span style='mso-spacerun:yes'>&nbsp; </span>argument = &quot; &#8211;i &quot; ${a}</st2:citation>;<br>
<span style='mso-spacerun:yes'>&nbsp; </span>argument = &quot; &#8211;o &quot; $<st2:citation
w:st="on">{b}</st2:citation>; <o:p></o:p></span></pre><pre style='margin-left:
0in;background:#F0F0F0'><span style='color:black'>}<o:p></o:p></span></pre></div>

<p>Together, these three transformations make up the back-bone of the black
diamond. In the next step, we need to invoke the transformations in a manner
that products of a previous step become input for the next step. </p>

<p><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><span style='color:black;mso-bidi-font-weight:bold'>DV tut::top-&gt;tut::preprocess(<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black;mso-bidi-font-weight:
bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>b=[ @<st2:citation
w:st="on">{out:&quot;<i style='mso-bidi-font-style:normal'>student</i>.f.b1&quot;}</st2:citation>, @<st2:citation
w:st="on">{out:&quot;<i style='mso-bidi-font-style:normal'>student</i>.f.b2&quot;}</st2:citation> ],<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black;mso-bidi-font-weight:
bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>a=@<st2:citation
w:st="on">{in:&quot;<i style='mso-bidi-font-style:normal'>student.</i>f.a&quot;}</st2:citation> );<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black;mso-bidi-font-weight:
bold'>DV tut::left-&gt;tut::findrange(<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black;mso-bidi-font-weight:
bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>b=@<st2:citation
w:st="on">{out:&quot;<i style='mso-bidi-font-style:normal'>student</i>.f.c1&quot;}</st2:citation>,<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black;mso-bidi-font-weight:
bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>a2=@<st2:citation
w:st="on">{in:&quot;<i style='mso-bidi-font-style:normal'>student</i>.f.b2&quot;}</st2:citation>,<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black;mso-bidi-font-weight:
bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>a1=@<st2:citation
w:st="on">{in:&quot;<i style='mso-bidi-font-style:normal'>student</i>.f.b1&quot;}</st2:citation>,<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black;mso-bidi-font-weight:
bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>name=&quot;left&quot;, p=&quot;0.5&quot; );<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span lang=DE style='color:black;
mso-ansi-language:DE;mso-bidi-font-weight:bold'>DV tut::right-&gt;tut::findrange(<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span lang=DE style='color:black;
mso-ansi-language:DE;mso-bidi-font-weight:bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:black;mso-bidi-font-weight:bold'>b=@<st2:citation w:st="on">{out:&quot;<i
 style='mso-bidi-font-style:normal'>student</i>.f.c2&quot;}</st2:citation>,<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black;mso-bidi-font-weight:
bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>a2=@<st2:citation
w:st="on">{in:&quot;<i style='mso-bidi-font-style:normal'>student</i>.f.b2&quot;}</st2:citation>,<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black;mso-bidi-font-weight:
bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>a1=@<st2:citation
w:st="on">{in:&quot;<i style='mso-bidi-font-style:normal'>student</i>.f.b1&quot;}</st2:citation>,<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black;mso-bidi-font-weight:
bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>name=&quot;right&quot; );<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span lang=FR style='color:black;
mso-ansi-language:FR;mso-bidi-font-weight:bold'>DV tut::bottom-&gt;tut::analyze(<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span lang=FR style='color:black;
mso-ansi-language:FR;mso-bidi-font-weight:bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='color:black;mso-bidi-font-weight:bold'>b=@<st2:citation w:st="on">{out:&quot;<i
 style='mso-bidi-font-style:normal'>student</i>.f.d&quot;}</st2:citation>,<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black;mso-bidi-font-weight:
bold'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=PT style='color:black;mso-ansi-language:PT;mso-bidi-font-weight:bold'>a=[ @<st2:citation
w:st="on">{in:&quot;<i style='mso-bidi-font-style:normal'>student</i>.f.c1&quot;}</st2:citation>, @<st2:citation
w:st="on">{in:&quot;<i style='mso-bidi-font-style:normal'>student</i>.f.c2&quot;}</st2:citation> ] );<o:p></o:p></span></pre></div>

<p>The VDL above can be found in the file<span style='font-size:10.0pt;
font-family:"Courier New"'>: <span style='mso-spacerun:yes'>&nbsp;</span><b
style='mso-bidi-font-weight:normal'>/home/info/lecture8/diamond.vdl</b><o:p></o:p></span></p>

<p>Together, these seven definitions make up the &#8220;diamond&#8221; workflow.
You will need to replace the <i style='mso-bidi-font-style:normal'>student</i>
again with your own username to avoid clashes in the replica manager later. </p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><span style='color:black'>$ <b style='mso-bidi-font-weight:normal'>perl &#8211;pe 's<st2:citation
w:st="on">{student}</st2:citation><st2:citation w:st="on">{'$LOGNAME'}</st2:citation>g' <i
style='mso-bidi-font-style:normal'>template</i> &gt; bd.vdl<o:p></o:p></b></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>$ <strong><span
style='font-family:"Courier New"'>vdlt2vdlx bd.vdl bd.xml<o:p></o:p></span></strong></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><strong><span style='font-family:
"Courier New";color:black;font-weight:normal;mso-bidi-font-weight:bold'>$ </span></strong><strong><span
style='font-family:"Courier New";color:black'>insertvdc bd.xml<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:38:49.460 CDT: [app] parsing &quot;bd.xml&quot;<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:38:51.578 CDT: [app] Trying to add tut::preprocess<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:38:51.610 CDT: [app] Trying to add tut::findrange<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:38:51.647 CDT: [app] Trying to add tut::analyze<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:38:51.674 CDT: [app] Trying to add tut::top<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:38:51.699 CDT: [app] Trying to add tut::left<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:38:51.728 CDT: [app] Trying to add tut::right<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:38:51.750 CDT: [app] Trying to add tut::bottom<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:38:51.765 CDT: [app] modified 7 definitions<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:38:51.766 CDT: [app] rejected 0 definitions<o:p></o:p></span></pre></div>

<p>You can now query the database for anything in the &#8220;tut&#8221;
namespace, to see that everything made it. By default, it will just display the
fully-qualified definition name. </p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><span style='color:black'>$ <b style='mso-bidi-font-weight:normal'>searchvdc -n tut<o:p></o:p></b></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:39:20.621 CDT: [app] searching the database<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>tut::preprocess<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>tut::findrange<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>tut::analyze<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>tut::top-&gt;tut::preprocess<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>tut::left-&gt;tut::findrange<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>tut::right-&gt;tut::findrange<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>tut::bottom-&gt;tut::analyze<o:p></o:p></span></pre></div>

<p>[Exercise: ask the manpage or build-in help to determine how to make it spit
out VDLt again]</p>

<p>In the next step, we request that a DAX file is produced by requesting file
&#8220;f.d&#8221;. Note that the workflow producer will also contact the remote
rDBMS system.</p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><span style='color:black'>$ <b style='mso-bidi-font-weight:normal'>gendax &#8211;l bd &#8211;o bd.dax &#8211;f $LOGNAME.f.d<o:p></o:p></b></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>2004.06.24 05:52:40.559 CDT: [app] saving output to bd.dax<o:p></o:p></span></pre></div>

<p>The diamond takes one input file, which we will have to tell the replica
manager. For the shell planner, we create a simple file, and put its location
into the textual mapping file:</p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><span style='color:black'>$ <b style='mso-bidi-font-weight:normal'>date &gt; $HOME/$LOGNAME.f.a<o:p></o:p></b></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>$ <strong><span
style='font-family:"Courier New"'>echo &#8211;e &quot;local\t$LOGNAME.f.a\t$HOME/$LOGNAME.f.a&quot; &gt;&gt; $HOME/rc.data</span></strong><o:p></o:p></span></pre></div>

<p>We will run the diamond workflow by mapping our declared transformations (preprocess,
findranage, and analyze) to a simple &#8220;mock application&#8221; name
&#8220;keg&#8221; (&#8220;canonical example for the grid&#8221;) which reads input
files designated by arguments, writes them back onto output files, and produces
on stdout a summary of where and when it was run. Keg has proved to be a useful
tool in the VDL development process.</p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><span style='color:black'>$ <strong><span style='font-family:"Courier New"'>keg &#8211;o /dev/fd/1<o:p></o:p></span></strong></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>Timestamp Today: 20040624T054607-05:00 (1088073967.418;0.022)<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>Applicationname: keg @ 10.10.0.11 (VPN)<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>Current Workdir: /home/voeckler<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>Systemenvironm.: i686-Linux 2.4.18-3<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>Processor Info.: 1 x Pentium III (<st1:place
w:st="on">Coppermine</st1:place>) @ 797.425<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='color:black'>Output Filename: /dev/fd/1<o:p></o:p></span></pre></div>

<p>Now we need to map all 3 transformations onto the &#8220;keg&#8221;
executable. We place these mappings in our textual transformation catalog. You
can either use a text-editor, or use command-line tools.</p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><strong><span style='font-family:"Courier New";color:black'>local<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>tut__preprocess /home/vdt-students/vds/bin/keg<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>null<o:p></o:p></span></strong></pre><pre
style='margin-left:0in;background:#F0F0F0'><strong><span style='font-family:
"Courier New";color:black'>local<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>tut__findrange<span style='mso-spacerun:yes'>&nbsp; </span>/home/vdt-students/vds/bin/keg<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>null</span></strong><strong><span
style='font-size:9.0pt;font-family:"Courier New";color:black'><o:p></o:p></span></strong></pre><pre
style='margin-left:0in;background:#F0F0F0'><strong><span style='font-family:
"Courier New";color:black'>local<span style='mso-spacerun:yes'>&nbsp;&nbsp; </span>tut__analyze<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>/home/vdt-students/vds/bin/keg<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>null</span></strong><b><span
style='font-size:9.0pt;color:black'><o:p></o:p></span></b></pre></div>

<p>Now we are ready to run the black diamond with the shell planner. It is
always recommended to use distinct subdirectories for each workflow. The sooner
you get into the habit, the better.</p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'><span style='font-size:9.0pt;color:black'>$ <b style='mso-bidi-font-weight:
normal'>shplanner &#8211;Dvds.db.rc=$HOME/rc.data &#8211;Dvds.db.tc=$HOME/tc.data &#8211;o bd bd.dax<o:p></o:p></b></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='font-size:9.0pt;
color:black;mso-bidi-font-weight:bold'>2004.06.24 05:57:44.238 CDT: [app] will use /home/vdt-students/vds/etc/dax-1.7.xsd<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='font-size:9.0pt;
color:black;mso-bidi-font-weight:bold'>$ <b>cd bd<o:p></o:p></b></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='font-size:9.0pt;
color:black;mso-bidi-font-weight:bold'>~/bd $ <b>./bd.sh<o:p></o:p></b></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='font-size:9.0pt;
color:black;mso-bidi-font-weight:bold'>job finished<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='font-size:9.0pt;
color:black;mso-bidi-font-weight:bold'>please look at bd.log for execution logs.<o:p></o:p></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><span style='font-size:9.0pt;
color:black;mso-bidi-font-weight:bold'>~/bd $ <b>cat $LOGNAME.f.d<o:p></o:p></b></span></pre><pre
style='margin-left:0in;background:#F0F0F0'><b><span style='font-size:9.0pt;
color:black'>...<o:p></o:p></span></b></pre></div>

<p>Note that you can only use environment variables as property values on the
command-line, but not inside your dot chimerarc file. </p>

<p>[Mini-exercise: Check the rc.data file. What happens, if you run the shell
script again?]</p>

<div style='mso-element:para-border-div;border:none;border-top:solid black 1.5pt;
padding:6.0pt 0in 0in 0in'>

<h2>Part III &#8211; Running a real workflow &#8211; Functional MRI Analysis
&#8211; in the local &#8220;shell planner&#8221; environment</h2>

</div>

<p class=MsoNormal>Initialize VDS Environment (.wfrc, .vdsrc, tc.data, rc.data)</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>cd $HOME</b></pre><pre style='margin-left:0in;background:#F0F0F0'>gk1$ <b>/home/vdsdemo/wf2/bin/vds-init</b></pre><pre
style='margin-left:0in;background:#F0F0F0'>gk1$</pre></div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Copy generator and makefile</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>cp -r /home/vdsdemo/wf2/vdl $HOME<o:p></o:p></b></pre><pre
style='margin-left:0in;background:#F0F0F0'>gk1$</pre></div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Run a &#8220;generator&#8221; program to expand the VDL for
the input dataset:</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>cd $HOME/vdl</b></pre><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>make vdl</b></pre><pre style='margin-left:0in;background:#F0F0F0'>./generate &gt; vdsdemo_wf2.vdl</pre><pre
style='margin-left:0in;background:#F0F0F0'>gk1$</pre></div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Examine the VDL &#8211; it should have the length indicated
below.<span style='mso-spacerun:yes'>&nbsp; </span>See if you can discern the
graph structure by tracing the output-to-input file dependencies.</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ wc -l vdsdemo_wf2.vdl </pre><pre style='margin-left:0in;
background:#F0F0F0'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>205 vdsdemo_wf2.vdl</pre><pre
style='margin-left:0in;background:#F0F0F0'>gk1$ <b>vi vdsdemo_wf2.vdl<o:p></o:p></b></pre><pre
style='margin-left:0in;background:#F0F0F0'><b>&#8230;peruse the file here and then exit vi (or emacs, etc)<o:p></o:p></b></pre><pre
style='margin-left:0in;background:#F0F0F0'>gk1$</pre></div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Compile the VDL (which inserts definitions into the VDC and
creates an abstract workflow in vdsdemo_wf2.dax.<span
style='mso-spacerun:yes'>&nbsp; </span>(Since our compiler is still a research
tool, its output is terribly voluminous, but this gives you some insight into
what its doing).</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>cd $HOME/vdl<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><i># still in vdl dir!<o:p></o:p></i></pre><pre
style='margin-left:0in;background:#F0F0F0'>gk1$ <b>vdlc -u -l wf2 -o vdsdemo_wf2.dax vdsdemo_wf2.vdl</b></pre><pre
style='margin-left:0in;background:#F0F0F0'><o:p>&nbsp;</o:p></pre><pre
style='margin-left:0in;background:#F0F0F0'>[training26@gk1 vdl]$ vdlc -u -l wf2 -o vdsdemo_wf2.dax vdsdemo_wf2.vdl</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:53.917 CDT: [app] parsing &quot;vdsdemo_wf2.vdl&quot;</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:54.892 CDT: [app] Trying to add TR air::alignlinear</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:54.901 CDT: [app] Trying to add TR air::align_warp</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:54.915 CDT: [app] Trying to add TR air::reslice</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:54.926 CDT: [app] Trying to add TR air::reslice_warp</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:54.930 CDT: [app] Trying to add TR air::definecommon_air</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:54.936 CDT: [app] Trying to add TR air::softmean</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:54.944 CDT: [app] Trying to add TR fsl::slicer</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:54.949 CDT: [app] Trying to add TR fsl::convert</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:54.957 CDT: [app] Trying to add DV training26::alignlinear_wf2_reference</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:54.971 CDT: [app] Trying to add DV training26::reslice_wf2_reference</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.016 CDT: [app] Trying to add DV training26::reslice_warp_wf2_reference</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.044 CDT: [app] Trying to add DV training26::align_warp_wf2_reference</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.055 CDT: [app] Trying to add DV training26::alignlinear_wf2_101-3_anonymized</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.082 CDT: [app] Trying to add DV training26::reslice_wf2_101-3_anonymized</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.105 CDT: [app] Trying to add DV training26::reslice_warp_wf2_101-3_anonymized</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.117 CDT: [app] Trying to add DV training26::align_warp_wf2_101-3_anonymized</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.146 CDT: [app] Trying to add DV training26::definecommon_air_wf2</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.165 CDT: [app] Trying to add DV training26::softmean_wf2_sliced-linear</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.188 CDT: [app] Trying to add DV training26::softmean_wf2_sliced-warp</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.199 CDT: [app] Trying to add DV training26::slicer_atlas_-x</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.207 CDT: [app] Trying to add DV training26::slicer_atlas_-y</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.218 CDT: [app] Trying to add DV training26::slicer_atlas_-z</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.227 CDT: [app] Trying to add DV training26::converter_atlas-x.pgm</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.235 CDT: [app] Trying to add DV training26::converter_atlas-y.pgm</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.242 CDT: [app] Trying to add DV training26::converter_atlas-z.pgm</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.291 CDT: [app] requesting training26::slicer_atlas_-z (1/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.545 CDT: [app] requesting training26::reslice_wf2_101-3_anonymized (2/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.546 CDT: [app] Skipping direct request for already known DV training26::reslice_wf2_101-3_anonymized-&gt;air::reslice</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.547 CDT: [app] requesting training26::reslice_warp_wf2_reference (3/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.547 CDT: [app] Skipping direct request for already known DV training26::reslice_warp_wf2_reference-&gt;air::reslice_warp</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.548 CDT: [app] requesting training26::definecommon_air_wf2 (4/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.549 CDT: [app] Skipping direct request for already known DV training26::definecommon_air_wf2-&gt;air::definecommon_air</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.549 CDT: [app] requesting training26::alignlinear_wf2_101-3_anonymized (5/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.553 CDT: [app] Skipping direct request for already known DV training26::alignlinear_wf2_101-3_anonymized-&gt;air::alignlinear</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.554 CDT: [app] requesting training26::slicer_atlas_-y (6/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.558 CDT: [app] requesting training26::slicer_atlas_-x (7/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.564 CDT: [app] requesting training26::align_warp_wf2_101-3_anonymized (8/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.565 CDT: [app] Skipping direct request for already known DV training26::align_warp_wf2_101-3_anonymized-&gt;air::align_warp</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.566 CDT: [app] requesting training26::converter_atlas-z.pgm (9/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.571 CDT: [app] requesting training26::softmean_wf2_sliced-warp (10/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.572 CDT: [app] Skipping direct request for already known DV training26::softmean_wf2_sliced-warp-&gt;air::softmean</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.572 CDT: [app] requesting training26::align_warp_wf2_reference (11/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.573 CDT: [app] Skipping direct request for already known DV training26::align_warp_wf2_reference-&gt;air::align_warp</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.574 CDT: [app] requesting training26::softmean_wf2_sliced-linear (12/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.578 CDT: [app] Skipping direct request for already known DV training26::softmean_wf2_sliced-linear-&gt;air::softmean</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.578 CDT: [app] requesting training26::alignlinear_wf2_reference (13/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.579 CDT: [app] Skipping direct request for already known DV training26::alignlinear_wf2_reference-&gt;air::alignlinear</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.579 CDT: [app] requesting training26::converter_atlas-y.pgm (14/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.585 CDT: [app] requesting training26::converter_atlas-x.pgm (15/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.590 CDT: [app] requesting training26::reslice_wf2_reference (16/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.651 CDT: [app] Skipping direct request for already known DV training26::reslice_wf2_reference-&gt;air::reslice</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.651 CDT: [app] requesting training26::reslice_warp_wf2_101-3_anonymized (17/17)</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.655 CDT: [app] Skipping direct request for already known DV training26::reslice_warp_wf2_101-3_anonymized-&gt;air::reslice_warp</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005.07.13 16:37:55.656 CDT: [app] saving output to vdsdemo_wf2.dax</pre><pre
style='margin-left:0in;background:#F0F0F0'>[training26@gk1 vdl]$</pre></div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Generate a visual rendering of the abstract workflow graph
(DAG).<span style='mso-spacerun:yes'>&nbsp; </span>Can you spot the
dependencies you looked for in the VDL?<span
style='mso-spacerun:yes'>&nbsp;&nbsp; </span>(Sorry, the resolution of this
image is low &#8211; you wont be able to read the text&#8230;<span
style='mso-spacerun:yes'>&nbsp; </span>we&#8217;re still developing our
interfaces to the &#8220;graphviz&#8221; toolkit).</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>cd $HOME/vdl</b></pre><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>make graph</b></pre></div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>The workflow graph can be viewed through your Firefox
browser at:</p>

<p class=MsoNormal><a href="http://172.16.82.207:8080/~username">http://172.16.82.207:8080/~username</a></p>

<p class=MsoNormal>where username is your UNIX if on gk1 (trainingN).</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>shplanner -o vdsdemo_wf2_run_01 vdsdemo_wf2.dax</b></pre><pre
style='margin-left:0in;background:#F0F0F0'>gk1$ </pre></div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal>Now, execute the actual workflow produced by the shell
planner.<span style='mso-spacerun:yes'>&nbsp; </span>This will perform several
minutes of real fMRI computation (image analysis) on many megabytes of input
data (still a very &#8220;tiny&#8221; example for this field):</p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:solid black 1.0pt;mso-border-alt:
solid black .75pt;padding:6.0pt 6.0pt 6.0pt 6.0pt;background:#F0F0F0;
margin-left:12.0pt;margin-right:0in'><pre style='margin-left:0in;background:
#F0F0F0'>gk1$ <b>cd vdsdemo_wf2_run_01</b></pre><pre style='margin-left:0in;
background:#F0F0F0'>gk1$ <b>./wf2.sh &amp; tail &#8211;f wf2.log<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span></b><i># don&#8217;t forget the &quot;./&quot;<span style='mso-spacerun:yes'>&nbsp; </span>!<b><o:p></o:p></b></i></pre><pre
style='margin-left:0in;background:#F0F0F0'>2005-07-14T08:47:12 ID000002 started air::alignlinear</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005-07-14T08:47:51 ID000002 finished air::alignlinear</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005-07-14T08:47:51 ID000001 started air::alignlinear</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005-07-14T08:47:57 ID000001 finished air::alignlinear</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005-07-14T08:47:57 ID000003 started air::definecommon_air</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005-07-14T08:47:57 ID000003 finished air::definecommon_air</pre><pre
style='margin-left:0in;background:#F0F0F0'>2005-07-14T08:47:57 ID000004 started air::reslice</pre></div>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<p class=MsoNormal><o:p>&nbsp;</o:p></p>

<div style='mso-element:para-border-div;border:none;border-top:solid black 1.5pt;
padding:6.0pt 0in 0in 0in'>

<h2><span style='color:black'>Terminology<o:p></o:p></span></h2>

</div>

<p>A few terms that we will use here include:</p>

<p><b style='mso-bidi-font-weight:normal'>VDL</b> &#8211; <i style='mso-bidi-font-style:
normal'>Virtual Data Language</i> &#8211; a language that declares the inputs
and outputs of executable programs (&#8220;Transformations&#8221;) and how
specific calls to them are chained together into &#8220;workflow graphs&#8221;</p>

<p><b style='mso-bidi-font-weight:normal'>VDLt</b> &#8211; a textual version of
VDL, loosely inspired by C</p>

<p><b style='mso-bidi-font-weight:normal'>VDLx</b> &#8211; an XML version of
VDL</p>

<p><b style='mso-bidi-font-weight:normal'>VDS</b> &#8211; <i style='mso-bidi-font-style:
normal'>Virtual Data System</i> &#8211; the set of tools used to process VDL
statements into a form in which they can be executed on the Grid, or tested
locally.</p>

<p><b style='mso-bidi-font-weight:normal'>VDC</b> &#8211; <i style='mso-bidi-font-style:
normal'>Virtual Data Catalog</i> &#8211; a database that holds VDL definitions.
The VDC can be a plain file of XML or<span style='mso-spacerun:yes'>&nbsp;
</span>a relational database. PostgreSQL and MySQL are supported.</p>

<p><b style='mso-bidi-font-weight:normal'>Chimera</b> &#8211; A project name
for the virtual data language toolset</p>

<p><b style='mso-bidi-font-weight:normal'>TR</b> &#8211; <i style='mso-bidi-font-style:
normal'>Transformation</i> &#8211; an application program whose input and out
files and parameters are described in VDL</p>

<p><b style='mso-bidi-font-weight:normal'>DV</b> &#8211; <i style='mso-bidi-font-style:
normal'>Derivation</i> &#8211; a call to a transformation, with actual
arguments specified (constants and logical files)</p>

<p><b style='mso-bidi-font-weight:normal'>LFN</b> &#8211; <i style='mso-bidi-font-style:
normal'>Logical File Name</i> &#8211; the name of a set of replicas of a given
file, each of which may have a unique physical file name on system on which it
resides.</p>

<p><b style='mso-bidi-font-weight:normal'>Replica catalog</b>: a catalog that
maps logical file names on to physical file names</p>

<p><b style='mso-bidi-font-weight:normal'>Transformation catalog</b>: a catalog
that maps transformation names onto the physical pathname of the transformation
at a given gird site or local test machine.</p>

<p><b style='mso-bidi-font-weight:normal'>Graph</b> &#8211; (informally) in
computer science and discrete mathematics, a data structure consisting of
linked nodes.</p>

<p><b style='mso-bidi-font-weight:normal'>DAG</b> &#8211; Directed Acyclic
Graph &#8211; a graph in which all the arcs (connections) are unidirectional,
and which has no loops (cycles). In other words, control can only flow through
the graph in one direction, from its start towards its end. Often, in the VDS, when
we say &#8220;DAG&#8221; we mean a file in Condor &#8220;DAGman&#8221; input
format.</p>

<p><b style='mso-bidi-font-weight:normal'><span lang=NL style='mso-ansi-language:
NL'>DAX</span></b><span lang=NL style='mso-ansi-language:NL'> &#8211; DAg<span
style='mso-spacerun:yes'>&nbsp; </span>in Xml format. <span
style='mso-spacerun:yes'>&nbsp;</span></span>The DAG format produced by the
&#8220;gendax&#8221; tool as it traverses a Virtual Data Catalog to produce a
derivation.</p>

<p><b style='mso-bidi-font-weight:normal'>Workflow</b> &#8211; a graph
consisting of tasks, often represented as a DAG.</p>

<p><b style='mso-bidi-font-weight:normal'>Abstract workflow</b> &#8211; In the
VDS: a workflow in which transformations and files are represented as logical
names, and in which the location at which to run each transformation is not yet
determined.</p>

<p><b style='mso-bidi-font-weight:normal'>Concrete workflow</b> &#8211; In the
VDS: a workflow in which files are represented by physical filenames, and in
which sites or hosts have been selected for running each task.</p>

<p><b style='mso-bidi-font-weight:normal'>Planner</b> &#8211; In the VDS, a
tool that converts a workflow graph to a form &#8220;more ready&#8221; for
execution. It makes &#8220;plans&#8221; for where, how, and when the actions of
the workflow should take place.</p>

<p><b style='mso-bidi-font-weight:normal'>Shell planner</b> &#8211; a planner
(&#8220;shplan&#8221;) that converts a workflow in the form of a VDL
&#8220;DAX&#8221; to a simple, sequential shell script, for execution. It
honors all the dependencies in the original VDL.</p>

<p><o:p>&nbsp;</o:p></p>

</div>

</body>

</html>
