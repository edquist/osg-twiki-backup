<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 6.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<link rel="stylesheet" type="text/css" href="lab.css" />
<title>Lab</title>
</head>

<body>

<p><font size="5">Lab Exercise: Data Management </font></p>
<h3>Purpose:</h3>
<h3><font size="3"><span style="font-weight: 400">During this lab the user will 
mange data on local and remote machines using several different tools provided 
by the toolkit.</span></font></h3>
<ol>
  <li><a href="#Secure_Copy_(SCP)">Moving data and programs with SCP</a></li>
  <li><a href="#globus-url-copy">Moving data and programs with <kbd>globus-url-copy</kbd></a></li>
  <li><a href="#UberFTP">Moving data and programs with UberFTP</a></li>
</ol>
<p>&nbsp;</p>
<p><h3><a name="Secure_Copy_(SCP)">Secure Copy (SCP)</a></h3></p>
<ol>
  <li>Secure copy can take advantage of GSI enabled <kbd>ssh</kbd>, 
	which means you will also be able to use 
	<kbd>scp</kbd> without typing a password when transferring files!<b><span style="background-color: #FFFF99"><br>
	<br>
	</span>
	</b>Before beginning, double check to make sure you have a valid proxy initialized 
	(<kbd>grid-proxy-info</kbd>).&nbsp; 
	If not, initialize one with the <kbd>grid-proxy-init</kbd> command:</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="table6" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>grid-proxy-info</b><br>
			<br>
			subject : /C=US/O=National Center for Supercomputing Applications/CN=Mike 
			Freemon/CN=proxy<br>
			issuer : /C=US/O=National Center for Supercomputing Applications/CN=Mike 
			Freemon<br>
			identity : /C=US/O=National Center for Supercomputing Applications/CN=Mike 
			Freemon<br>
			type : full legacy globus proxy<br>
			strength : 512 bits<br>
			path : /tmp/x509up_u500<br>
			timeleft : 7:59:51<br><br>
			$ <b>grid-proxy-init</b><br>
			<br>
			Your identity: /C=US/O=National Center for Supercomputing 
			Applications/CN=Mike Freemon<br>
			Enter GRID pass phrase for this identity:<br>
			Creating proxy ................................ Done<br>
			Your proxy is valid until: Tue Feb 22 21:19:19 2005<br>
			<br>$</font></td>
		</tr>
	</table>
</blockquote>
<ol>
	<li value="2">First, create a file on the client machine called  <font face="Courier New" size="2">local_scp.txt</font>
	and fill it with some text:</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber6" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>cd</b><br>$ <b>cat &gt;local_scp.txt</b><br>
			<b>This is a test file for use with SCP put</b><br><b>CNTL-D<br><br></b>$ 
			<b>cat local_scp.txt</b><br>This 
	is a test file for use with SCP put<br>$</font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="3">Open a session on the server, and create a file call <kbd>
	server_scp.txt</kbd>:</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="table1" bgcolor="#E8FFFF">
		<tr>
			<td><p>
			<font face="Courier New" size="2">$ <b>ssh 
			ldas-grid.ligo-la.caltech.edu</b><br><br>
			[...snip...]<br><br>
			$ <b>cat &gt;server_scp.txt</b><br>
			<b>This is a test file for use with SCP get<br>CNTL-D</b><br><br>
			$ <b>cat server_scp.txt </b> <br>
			This is a test file for use with SCP get<br>
			$ <b>exit</b><br>$</font></td>
		</tr>
	</table>
</blockquote>
<ol>
	<li value="4">For copying&nbsp; <i><b>from</b>&nbsp; </i>remote host to local 
	machine, issue the following 
  command (from the local machine):</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber8" bgcolor="#E8FFFF">
		<tr>
			<td><p>
			<font face="Courier New" size="2">$ <b>scp ldas-grid.ligo-la.caltech.edu:server_scp.txt 
	.</b><br>server_scp.txt 100% 41 0.0KB/s 00:00 <br><br>$ <b>ls</b><br>server_scp.txt<br><br>$ 
			<b>cat server_scp.txt </b>
			<br>This is a test file for use with SCP get<br>$ </font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="5">Now try copying the file you created on your local machine <b><i>to</i></b> 
	the remote server.&nbsp; Again, from the local machine, execute:</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber9" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>scp local_scp.txt 
			ldas-grid.ligo-la.caltech.edu:local_scp.txt</b><br>
			local_scp.txt 100% 41 0.0KB/s 00:00 <br><br>
			$ <b>ssh ldas-grid.ligo-la.caltech.edu</b><br><br>
			[...snip...]<br>
			<br>
			$ <b>ls</b><br>
			local_scp.txt server_scp.txt<br>
			$ <b>cat local_scp.txt </b> <br>
			This is a test file for use with SCP put<br>
			<br>
			$ <b>exit</b><br>
			$</font></td>
		</tr>
	</table>
	<p>&nbsp;</p>
	<p>&nbsp;</p>
</blockquote>

<h3><a name="globus-url-copy">globus-url-copy</a></h3>
<blockquote>
	<p>Information on globus-url-copy can be found at:
	<a href="http://www-unix.globus.org/toolkit/docs/3.2/gridftp/user/globusurlcopy.html">http://www-unix.globus.org/toolkit/docs/3.2/gridftp/user/globusurlcopy.html</a></p>
	<p>The basic syntax for <font face="Courier New" size="2">globus-url-copy</font> is: 
	<b>globus-url-copy [options]&nbsp; &lt;Source 
URL&gt;&nbsp; &lt;Destination URL&gt;.&nbsp; </b></p>
	<ul>
		<li>Source URL: specifies the original URL.&nbsp; If this is a directory, all 
  the files in that directory will be copied.</li>
		<li>Destination URL: specifies the URL where the files will be copied.&nbsp; 
  If coping multiple files, this must be a directory.</li>
	</ul>
</blockquote>
<ol>
  <li value="6">On your local machine create a file called
	<font face="Courier New" size="2">local_globus.txt</font> and fill it with 
	some text.</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="table2" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>cd</b><br>$ <b>cat &gt;local_globus.txt</b><br>
			<b>This is a test file from the local machine for globus-url-copy </b><br><b>CNTL-D<br><br></b>$ 
			<b>cat local_globus.txt</b><br>This is a test file from the local 
			machine for globus-url-copy<br>$</font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="7">Open a session to the server and create a file on it called <kbd>
	server_globus.txt</kbd> as follows:</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="table3" bgcolor="#E8FFFF">
		<tr>
			<td>
			<font face="Courier New" size="2">$ <b>ssh 
			ldas-grid.ligo-la.caltech.edu</b><br><br>
			[...snip...]<br><br>
			$ <b>cat &gt;server_globus.txt</b><br>
			<b>This is a test file from the server for globus-url-copy<br>CNTL-D</b><br><br>
			$ <b>cat server_globus.txt </b> <br>
			This is a test file from the server for globus-url-copy<br>
			$ <b>exit</b><br>$</font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="8">Finally, on the server, create a file called:
<font face="Courier New" size="2">party_globus.txt:</font></li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="table4" bgcolor="#E8FFFF">
		<tr>
			<td>
			<font face="Courier New" size="2">$ <b>ssh 
			ldas-grid.ligo-la.caltech.edu</b><br><br>
			[...snip...]<br><br>
			$ <b>cat &gt;party_globus.txt</b><br>
			<b>This is a test file for 3rd party transfer using globus-url-copy<br>CNTL-D</b><br><br>
			$ <b>cat party_globus.txt </b> <br>
			This is a test file for 3rd party transfer using globus-url-copy<br>
			$ <b>exit</b><br>$</font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="9">To perform a copy from the server to the local machine, issue 
	the command (while logged into the local machine):</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber13" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>globus-url-copy gsiftp://ldas-grid.ligo-la.caltech.edu/data2/ &lt;userid&gt;/server_globus.txt 
			\<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
			file:/home/&lt;userid&gt;/server_globus.txt<br><br>
			</b>$ <b>cat server_globus.txt </b><br>
			This is a test file from the server for globus-url-copy<br>
			<br>
			$</font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="10">In order to copy files from local machine to the server, issue a 
	command like this (from the local machine):</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber15" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>globus-url-copy file:/home/&lt;userid&gt;/local_globus.txt 
			\<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gsiftp://ldas-grid.ligo-la.caltech.edu/data2/ &lt;userid&gt;/local_globus.txt<br>
			<br>
			</b>$ <b>ssh ldas-grid.ligo-la.caltech.edu</b><br><br>
			[...snip...]<br>
			<br>
			$ <b>ls</b><br>
			local_globus.txt&nbsp; ...<br>
			<br>
			$ <b>cat local_globus.txt </b> <br>
			This is a test file from the local 
			machine for globus-url-copy<br>
			<br>
			$ <b>exit</b><br>
			$</font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="11"><font face="Courier New" size="2">globus-url-copy</font> also 
  allows for third party copies (i.e. directly from one remote server to anther 
	remote server -- without relaying through the local machine).&nbsp; This is 
	done as follows:</li>
</ol>
<blockquote>
	<p>This example uses <kbd>hydra.phys.uwm.edu</kbd> as the second GridFTP 
	server.&nbsp; Feel free to substitute any other GridFTP server on which you 
	have a local account.</p>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber16" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>globus-url-copy gsiftp://ldas-grid.ligo-la.caltech.edu/data2/ &lt;userid&gt;/party_globus.txt \ gsiftp://hydra.phys.uwm.edu/home/ &lt;userid&gt;/party_globus.txt</b><br>
			<br>
			$ <b>ssh hydra.phys.uwm.edu</b><br><br>
			[...snip...]<br>
			<br>
			$ <b>ls</b><br>
			party_globus.txt&nbsp; ...<br>
			<br>
			$ <b>cat party_globus.txt </b> <br>
			This is a test file for 3rd party transfer using globus-url-copy<br>
			<br>
			$ <b>exit</b><br>
			$</font></td>
		</tr>
	</table>
	<p>Ask your instructor to demo this feature if you do not have access to a 
	second GridFTP server.</p>
</blockquote>
<ol>
  <li value="12">Now let's simulate a problem.&nbsp; Destroy your proxy certificate using 
<font face="Courier New" size="2">grid-proxy-destroy</font>.</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber17" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>grid-proxy-destroy<br></b></font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="13">Now, try and copy a file from the server to your client machine.&nbsp; 
	You should see an error like the following:</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber18" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>globus-url-copy gsiftp://ldas-grid.ligo-la.caltech.edu/data2/ &lt;userid&gt;/party_globus.txt <br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file:/home/&lt;userid&gt;/party_globus_again.txt<br></b><br>error: globus_l_ftp_control_send_cmd_cb: gss_init_sec_context failed<br>
			<br>GSS failure:<br>GSS Major Status: General failure<br>GSS Minor Status Error Chain:<br>
			<br>init_sec_context.c:114: gss_init_sec_context: Error with gss context<br>globus_i_gsi_gss_utils.c:308: globus_i_gsi_gss_create_and_fill_context: Error 
with GSI credential<br>acquire_cred.c:125: gss_acquire_cred: Error with GSI credential<br>globus_i_gsi_gss_utils.c:1310: globus_i_gsi_gss_cred_read: Error with gss 
credential handle<br>globus_gsi_credential.c:721: globus_gsi_cred_read: Valid credentials could not 
be found in any of the possible locations specified by the credential search 
order.<br>globus_gsi_credential.c:447: globus_gsi_cred_read: Error reading host credential<br>globus_gsi_system_config.c:3977: 
globus_gsi_sysconfig_get_host_ cert_filename_unix: Error with certificate 
filename<br>globus_gsi_system_config.c:380: globus_i_gsi_sysconfig_create_cert_string: Error 
with certificate filename: /etc/grid-security/hostcert.pem not owned by current 
user.<br><br>globus_gsi_credential.c:239: globus_gsi_cred_read: Error reading proxy 
credential<br>globus_gsi_system_config.c:4660: globus_gsi_sysconfig_get_ proxy_filename_unix: 
Could not find a valid proxy certificate file location<br>globus_gsi_system_config.c:4657: globus_gsi_sysconfig_ get_proxy_filename_unix: 
File does not exist: Proxy file /tmp/x509up_u&lt;uid&gt; does not exist<br>globus_gsi_credential.c:351: globus_gsi_cred_read: Error reading user credential<br>globus_gsi_credential.c:1086: globus_gsi_cred_read_key: Key is password 
protected: GSI does not currently support password protected private keys.<br>OpenSSL Error: pem_lib.c:434: in library: PEM routines, function PEM_do_header: 
bad password read</font></td>
		</tr>
	</table>
	<p>This error message is not that clear on what is wrong and why things failed.&nbsp; 
	</p>
	<p>If you get messages like this always check to make sure you have a valid proxy 
certificate before doing anything else.</p>
</blockquote>
<ol>
  <li value="14">Create a new proxy certificate for yourself and try again.</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber19" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>grid-proxy-init</b><br>
			Your identity: /C=US/O=National Center for Supercomputing 
			Applications/CN=Mike Freemon<br>
			Enter GRID pass phrase for this identity:<br>
			Creating proxy ......................................... Done<br>
			Your proxy is valid until: Wed Feb 23 03:47:37 2005</font><p><font face="Courier New" size="2">$ <b>globus-url-copy gsiftp://ldas-grid.ligo-la.caltech.edu/data2/ &lt;userid&gt;/party_globus.txt 
			\<br>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file:/home/&lt;userid&gt;/party_globus_again.txt<br></b></font></p>
			</td>
		</tr>
	</table>
	<p>This time the copy should be successful.</p>
</blockquote>
<p>&nbsp;</p>
<p><h3><a name="UberFTP">UberFTP</a></h3></p>
<ol>
  <li value="15">Make sure you have access to UberFTP.</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber20" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>uberftp -v</b><br>uberftp Version 1.3<br></font></td>
		</tr>
	</table>
	<p>To log on to a remote machine using UberFTP and GSI authentication.&nbsp; To 
do this, we will need to use two command line options:</p>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" id="AutoNumber21">
		<tr>
			<td><font face="Courier New" size="2">-H&nbsp;&nbsp;&nbsp;&nbsp; host&nbsp;&nbsp;&nbsp;&nbsp; Connect to host</font><p>
			<font face="Courier New" size="2">-a&nbsp;&nbsp;&nbsp;&nbsp; auth&nbsp;&nbsp;&nbsp;&nbsp; Use auth 
authentication. GSI and<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
MSS (NCSA passwordless) authentication methods<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
are supported. If this option is not used, the<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
default is username/password</font></p></td>
		</tr>
	</table>
	<p>The <font face="Courier New" size="2">-H</font> option will specify the host that we want to logon to.&nbsp; For 
example <font face="Courier New" size="2">-H ldas-grid.ligo-la.caltech.edu</font>.&nbsp; The 
	<font face="Courier New" size="2">-a</font> option tells
	<font face="Courier New" size="2">uberftp</font> what 
type of security authentication to use.&nbsp; We want to use GSI, this allows us 
to access host using our proxy certificate.&nbsp; This means, like with <kbd>ssh</kbd>, we will be 
able to access the host without entering our password.</p>
</blockquote>
<ol>
  <li value="16">Try the following:</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber22" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>uberftp -H 
			ldas-grid.ligo-la.caltech.edu -a gsi</b><br>220 ligo-server.ncsa.uiuc.edu GridFTP Server 1.12 GSSAPI type Globus/GSI 
wu-2.6.2 (gcc32dbg, 1069715860-42) ready.<br>230 User mfreemon logged in.</font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="17">You then get the &quot;uberftp&quot; prompt.</li>
</ol>
<blockquote>
	<p>If you are behind a firewall, or the server cannot connect back to the 
	client for whatever reason, then you need to switch UberFTP to passive mode 
	using the passive command.</p>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="table5" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">uberftp&gt; <b>passive</b><br>
			passive<br>&nbsp;</font></td>
		</tr>
	</table>
	<p>As an aside, there's nothing wrong with using passive mode all the time if you 
	want to be in that habit.&nbsp; In fact, starting with UberFTP version 1.6, 
	UberFTP defaults to passive mode.</p>
	<p>From this point on, UberFTP works just like regular FTP.</p>
</blockquote>
<ol>
  <li value="18">Look at the files found on the server:</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber23" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">uberftp&gt; <b>ls<br></b><br>
			150 Opening BINARY mode data connection. <br>
			total 53<br>
			-rw------- 1 mfreemon 2383 Feb 22 15:50 .bash_history<br>
			-rw-r--r-- 1 mfreemon&nbsp; 302 Feb 10 11:22 .bash_logout<br>
			-rw-r--r-- 1 mfreemon&nbsp; 306 Feb 11 14:43 .bash_profile<br>
			-rw-r--r-- 1 mfreemon&nbsp; 124 Feb 10 11:22 .bashrc<br>
			-rw-r--r-- 1 mfreemon&nbsp; 383 Feb 10 11:22 .emacs<br>
			drwxr-xr-x 3 mfreemon&nbsp;&nbsp; 80 Feb 21 13:00 .globus<br>
			-rw-r--r-- 1 mfreemon&nbsp; 120 Feb 10 11:22 .gtkrc<br>
			-rw-rw-r-- 1 mfreemon&nbsp;&nbsp; 41 Feb 22 14:50 local_scp.txt<br>
			-rw-rw-r-- 1 mfreemon&nbsp;&nbsp; 41 Feb 22 14:37 server_scp.txt<br>
			drwx------ 2 mfreemon&nbsp;&nbsp; 48 Feb 15 16:17 .ssh<br>
			-rw-r--r-- 1 mfreemon&nbsp; 658 Feb 10 11:22 .zshrc<br>
			226 Transfer complete. <br>
			uberftp&gt; </font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="19">Pick a file and transfer it from the server to your local machine.&nbsp; You 
can do this by using the <font face="Courier New" size="2">get</font> 
command.&nbsp; This command will <i>get</i> a file from the machine you have FTPed to 
and transfer it to the machine you FTPed from.</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber24" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">uberftp&gt; <b>ascii<br></b>Transfer 
			type set to ASCII<b><br></b>uberftp&gt; <b>get server_scp.txt</b><br>150 Opening 
			ASCII mode data connection.<br>226 Transfer complete.<br>Transfer rate 45 bytes in 0.03 seconds. 1.32 KB/sec<br>uberftp&gt;</font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="20">If you want to copy a file from your local machine to the remote 
  host, simple use the
<font face="Courier New" size="2">put</font> command.&nbsp; This command is just like 
  <font face="Courier New" size="2">get</font>, only it will 
take a file from your local machine and put it out to 
  on the remote server.</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber27" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">uberftp&gt;&nbsp;<b>put 
			local_scp.txt</b><br>150 Opening BINARY mode data connection.<br>226 Transfer complete.<br>Transfer rate 47 bytes in 0.06 seconds. 0.75 KB/sec<br>uberftp&gt;</font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="21">In order to exit from you UberFTP session just enter the command
<font face="Courier New" size="2">quit</font>.</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber29" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">uberftp&gt; <b>quit</b><br>221-You have transferred 47 bytes in 1 files.<br>221-Total traffic for this session was 13550 bytes in 2 transfers.<br>221-Thank you for using the FTP service on 
			ldas-grid.ligo-la.caltech.edu.<br>221 Goodbye.</font></td>
		</tr>
	</table>
</blockquote>
<p>&nbsp;</p>
<ol>
  <li value="22">Now we will use UberFTP to transfer a file between two remote hosts.&nbsp; In 
this example we will start on our local client machine and transfer a file from 
<font face="Courier New" size="2">ldas-grid.ligo-la.caltech.edu </font>to
<font face="Courier New" size="2">hydra.phys.uwm.edu</font>.&nbsp; 
  </li>
</ol>
<blockquote>
	<p>Note:&nbsp; If you do not have access to a second grid server (such as
	<kbd>hydra.phys.uwm.edu</kbd>), your instructor can demonstrate this feature 
	of UberFTP during the lecture portion of the workshop.</p>
	<p>You will be starting 
on your local machine.&nbsp; From there, uberftp to
	<font face="Courier New" size="2">ldas-grid.ligo-la.caltech.edu.</font>&nbsp;
	</p>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber30" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">$ <b>uberftp -H 
			ldas-grid.ligo-la.caltech.edu -a gsi</b><br>220 
			ldas-grid.ligo-la.caltech.edu GridFTP Server 1.12 GSSAPI type Globus/GSI 
wu-2.6.2 (gcc32dbg, 1069715860-42) ready.<br>230 User mfreemon logged in.<br>uberftp></font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="23">Once there, use the <font face="Courier New" size="2">lopen</font> command to log onto 
	<font face="Courier New" size="2">hydra.phys.uwm.edu</font>.</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber31" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">uberftp&gt; <b>lopen -H 
			hydra.phys.uwm.edu -a gsi</b><br>
			220 hydra.phys.uwm.edu GridFTP Server 1.12 GSSAPI type Globus/GSI 
			wu-2.6.2 (gcc32dbg, 1069715860-42) ready. <br>
			230 User mfreemon logged in. <br>
			uberftp&gt; </font></td>
		</tr>
	</table>
	<p>When connected like this, the <font face="Courier New" size="2">ls</font> 
	command will show us the contents of the<kbd> ldas-grid.ligo-la.caltech.edu
	</kbd>server and <kbd>lls</kbd> will show us the files on&nbsp; <kbd>
	hydra.phys.uwm.edu.</kbd></p>
</blockquote>
<ol>
  <li value="24"><font face="Courier New" size="2">The get</font> command will take the file from&nbsp;<kbd>ldas-grid.ligo-la.caltech.edu</kbd> and put it on 
	<kbd>hydra.phys.uwm.edu </kbd> </li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber34" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">uberftp&gt; <b>get some_file_on_ldas-grid.txt</b><br>src&gt; 150 Opening BINARY mode data connection.<br>dst&gt; 150 Opening BINARY mode data connection.<br>src&gt; 226 Transfer complete.<br>dst&gt; 226 Transfer complete.<br>uberftp></font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="25">To transfer a file from<kbd> hydra.phys.uwm.edu </kbd>to 
	<kbd>ldas-grid.ligo-la.caltech.edu</kbd> use the <kbd>put</kbd> command.</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber36" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">uberftp&gt; <b>put 
			some_file_on_hydra.txt</b><br>dst&gt; 150 Opening BINARY mode data connection.<br>src&gt; 150 Opening BINARY mode data connection.<br>src&gt; 226 Transfer complete.<br>dst&gt; 226 Transfer complete.<br>uberftp></font></td>
		</tr>
	</table>
</blockquote>
<ol>
  <li value="26">To exit out of all your sessions type <font face="Courier New" size="2">quit</font>.</li>
</ol>
<blockquote>
	<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="90%" id="AutoNumber37" bgcolor="#E8FFFF">
		<tr>
			<td><font face="Courier New" size="2">uberftp&gt; <b>quit</b><br>221-You have transferred 52 bytes in 2 files.<br>221-Total traffic for this session was 11390 bytes in 4 transfers.<br>221-Thank you for using the FTP service on 
			</font><kbd> hydra.phys.uwm.edu</kbd><font face="Courier New" size="2">.<br>221 Goodbye.<br>221-You have transferred 50 bytes in 2 files.<br>221-Total traffic for this session was 15143 bytes in 4 transfers.<br>221-Thank you for using the FTP service on 
			</font> 
	<kbd>ldas-grid.ligo-la.caltech.edu</kbd><font face="Courier New" size="2">.<br>221 Goodbye.</font></td>
		</tr>
	</table>
</blockquote>
<p>&nbsp;</p>

</body>

</html>