%META:TOPICINFO{author="ForrestChristian" date="1170278253" format="1.1" version="1.5"}%
%META:TOPICPARENT{name="LocalStorageRequirements"}%
---+ About the OSG_WN_TMP Storage Area

%STARTINCLUDE%
%EDITTHIS%

OSG_WN_TMP is a temporary storage area specific to a single job that may be purged when the job completes. Two jobs running on a cluster cannot (generally) read from or write to each other's OSG_WN_TMP areas. The OSG_WN_TMP area is thus fundamentally different from the others in that it is job-specific.

OSG_WN_TMP must point to a POSIX-compliant filesystem that supports links, sockets, locks, pipes and other special files as required. It requires good I/O job performance, so we recommend a local filesystem. Ideally, OSG_WN_TMP should be a temporary directory (or partition) assigned empty for the job, with a well-defined amount of space (many jobs require at least 1-2 GB of disk space), that is purged when the job completes. The space provided should be dedicated and isolated: jobs reusing their own OSG_WN_TMP areas should not affect each other or affect the OS.

In most cases, OSG_WN_TMP points to a space shared among all jobs that are currently executing at the worker node. Therefore, we recommend each job create a unique subdirectory of OSG_WN_TMP (e.g., =OSG_WN_TMP/somestring$JOBSLOT=) that becomes its working area. The job should then remove this subdirectory before it completes,

Sites using _condor_ as their batch system typically implement this by letting condor create the jobs directory prior to launching the job. In those cases, OSG_WN_TMP may be defined in the GIP implicitly by pointing to another environment variable, rather than explicitly by pointing to a full path.

---+++ Typical uses of OSG_WN_TMP
   * Working directory for jobs (running on the worker nodes)

<!--
1. A mechanism to help automatic cleanup would be the introduction of a 'lock' directories with files named according the temporary directory, containing the PID of the job. If that process is terminated, the directory can be removed
-->
%STOPINCLUDE%

%BOTTOMMATTER%
-- Main.ForrestChristian - 10 Nov 2006: moved out of LocalStorageRequirements050  %BR%
 %BR%
 %BR%