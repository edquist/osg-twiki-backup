%META:TOPICINFO{author="ForrestChristian" date="1170190563" format="1.1" version="1.13"}%
%LINKCSS%
<!-- This is the default OSG Integration template. 
Please modify it in the sections indicated to create your topic!
If you have any comments/complaints about this template, then please email me:
rwg@hep.uchicago.edu.  (Adapted from Atlas wiki template, Ed Moyse)
--> 

<!-- By default the title is the WikiWord used to create this topic !-->
<!-- if you want to modify it to something more meaningful, just replace %TOPIC% below with i.e "My Topic"!-->

---+!! Pacman Guide for OSG
%TOC%
%STARTINCLUDE%

---++Installing and Setting Up Pacman
%EDITTHIS%

[[http://physics.bu.edu/pacman/][Pacman]] is a package management tool that allows you to define, install, and configure software. 

| *OSG/ITB release* | *Pacman version* |
| OSG 0.5.2 | 3.19 |
| OSG 0.5.1 | 3.18.5 |
| OSG 0.5.0 | 3.18.5 |
| OSG 0.4.1 | 3.16.1 |
| ITB 0.3.7 | 3.16.1 |

---+++ Download pacman tarball
1. =cd= to an install directory.

2. Get the pacman tarball:
<pre class="screen"><noautolink>
 > wget http://physics.bu.edu/pacman/sample_cache/tarballs/pacman-3.19.tar.gz
</noautolink></pre>

---+++ Unpack and Setup
3. Unpack the tarball:
<pre class="screen">
 > tar --no-same-owner -xzvf pacman-3.19.tar.gz
</pre>

4. Setup your environment:
<pre class="screen">
 > cd pacman-3.19
</pre>

For =sh= and =bash= shells:
<pre class="screen">
 $ source setup.sh
</pre>

For =csh= and =tcsh= shells:
<pre class="screen">
 % source setup.csh
</pre>

---++ Installing OSG software using Pacman
These are general instructions for installing software from a Pacman cache.
<pre class="screen">
 > mkdir INSTALLATION_DIRECTORY  <em># e.g. /usr/local/osg</em>
 > cd INSTALLATION_DIRECTORY
 > pacman -get ITB:PACKAGE_NAME  <em># e.g. ce (for ITB)</em> 
 > pacman -get OSG:PACKAGE_NAME  <em># (for production)</em> 
</pre>

Note that you can skip the questions on whether to trust the various pacman caches by saying
<pre class="screen">
 > pacman -trust-all-caches ....
</pre>

---++ Troubleshooting

---+++ Unsupported Platforms
If you get an error message indicating ".....is not yet supported", you may need to specify the pacman command with the following argument:
<pre class="screen">
 > pacman -pretend-platform:<em>[PLATFORM]</em> -get ITB:ce
</pre>

where =<em>[PLATFORM]</em>= is your platform (e.g., =RHEL-3=).

To see a list of the defined pacman platforms (not all of which are yet supported), execute:

<pre class="screen">
 > pacman -platforms
</pre>


---+++ setup.sh issues
Pacman normally removes =setup.sh= at the start of an installation and, if successful, restores the file. The VDT grid middleware will fail to work if the setup.sh script is unavailable.

*To allow out of date setup scripts to remain during installation or updates:*

<pre class="screen">
 > pacman -allow save-setup
</pre>

*To attempt recovery of the setup.sh file:*
<pre class="screen">
 > pacman -setup
</pre>

 
---+++ Removing packages with pacman
If you installed a package that you may later have deemed unnecessary, you can remove it by issuing the pacman command with the remove option.

<pre class="screen">
 > pacman -remove <em>package_name</em>
</pre>

For details on these commands, see the [[http://physics.bu.edu/pacman][Pacman home page]].

%STOPINCLUDE%

<hr/>
<!-- MAJOR UPDATES
For significant updates to the topic, consider adding your 'signature' (beneath this editing box) !-->
*Major updates*:%BR%
<!--Future editors should add their signatures beneath yours!-->
-- Main.ForrestChristian - 30 Jan 2007: copyedits

<!-- This INCLUDE produces a WHU cross-reference for this topic -->
%WHU%

%META:TOPICMOVED{by="ForrestChristian" date="1166056473" from="Integration.PacmanInfo050" to="Integration/ITB_0_5.PacmanInfo"}%
